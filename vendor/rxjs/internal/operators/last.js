"use strict";Object.defineProperty(exports,"__esModule",{value:!0});var EmptyError_1=require("../util/EmptyError"),filter_1=require("./filter"),takeLast_1=require("./takeLast"),throwIfEmpty_1=require("./throwIfEmpty"),defaultIfEmpty_1=require("./defaultIfEmpty"),identity_1=require("../util/identity");function last(i,t){var r=2<=arguments.length;return function(e){return e.pipe(i?filter_1.filter(function(t,r){return i(t,r,e)}):identity_1.identity,takeLast_1.takeLast(1),r?defaultIfEmpty_1.defaultIfEmpty(t):throwIfEmpty_1.throwIfEmpty(function(){return new EmptyError_1.EmptyError}))}}exports.last=last;