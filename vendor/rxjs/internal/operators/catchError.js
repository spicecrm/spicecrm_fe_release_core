"use strict";var __extends=this&&this.__extends||function(){var i=function(r,t){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,t){r.__proto__=t}||function(r,t){for(var e in t)t.hasOwnProperty(e)&&(r[e]=t[e])})(r,t)};return function(r,t){function e(){this.constructor=r}i(r,t),r.prototype=null===t?Object.create(t):(e.prototype=t.prototype,new e)}}();Object.defineProperty(exports,"__esModule",{value:!0});var OuterSubscriber_1=require("../OuterSubscriber"),InnerSubscriber_1=require("../InnerSubscriber"),subscribeToResult_1=require("../util/subscribeToResult");function catchError(i){return function(r){var t=new CatchOperator(i),e=r.lift(t);return t.caught=e}}exports.catchError=catchError;var CatchOperator=function(){function r(r){this.selector=r}return r.prototype.call=function(r,t){return t.subscribe(new CatchSubscriber(r,this.selector,this.caught))},r}(),CatchSubscriber=function(c){function r(r,t,e){var i=c.call(this,r)||this;return i.selector=t,i.caught=e,i}return __extends(r,c),r.prototype.error=function(r){if(!this.isStopped){var t=void 0;try{t=this.selector(r,this.caught)}catch(r){return void c.prototype.error.call(this,r)}this._unsubscribeAndRecycle();var e=new InnerSubscriber_1.InnerSubscriber(this,void 0,void 0);this.add(e);var i=subscribeToResult_1.subscribeToResult(this,t,void 0,void 0,e);i!==e&&this.add(i)}},r}(OuterSubscriber_1.OuterSubscriber);