"use strict";var __extends=this&&this.__extends||function(){var i=function(e,t){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])})(e,t)};return function(e,t){function r(){this.constructor=e}i(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)}}();Object.defineProperty(exports,"__esModule",{value:!0});var Subscriber_1=require("../Subscriber"),async_1=require("../scheduler/async");function sampleTime(t,r){return void 0===r&&(r=async_1.async),function(e){return e.lift(new SampleTimeOperator(t,r))}}exports.sampleTime=sampleTime;var SampleTimeOperator=function(){function e(e,t){this.period=e,this.scheduler=t}return e.prototype.call=function(e,t){return t.subscribe(new SampleTimeSubscriber(e,this.period,this.scheduler))},e}(),SampleTimeSubscriber=function(n){function e(e,t,r){var i=n.call(this,e)||this;return i.period=t,i.scheduler=r,i.hasValue=!1,i.add(r.schedule(dispatchNotification,t,{subscriber:i,period:t})),i}return __extends(e,n),e.prototype._next=function(e){this.lastValue=e,this.hasValue=!0},e.prototype.notifyNext=function(){this.hasValue&&(this.hasValue=!1,this.destination.next(this.lastValue))},e}(Subscriber_1.Subscriber);function dispatchNotification(e){var t=e.subscriber,r=e.period;t.notifyNext(),this.schedule(e,r)}