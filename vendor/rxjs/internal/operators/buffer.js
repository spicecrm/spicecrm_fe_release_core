"use strict";var __extends=this&&this.__extends||function(){var u=function(r,t){return(u=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,t){r.__proto__=t}||function(r,t){for(var e in t)t.hasOwnProperty(e)&&(r[e]=t[e])})(r,t)};return function(r,t){function e(){this.constructor=r}u(r,t),r.prototype=null===t?Object.create(t):(e.prototype=t.prototype,new e)}}();Object.defineProperty(exports,"__esModule",{value:!0});var OuterSubscriber_1=require("../OuterSubscriber"),subscribeToResult_1=require("../util/subscribeToResult");function buffer(t){return function(r){return r.lift(new BufferOperator(t))}}exports.buffer=buffer;var BufferOperator=function(){function r(r){this.closingNotifier=r}return r.prototype.call=function(r,t){return t.subscribe(new BufferSubscriber(r,this.closingNotifier))},r}(),BufferSubscriber=function(u){function r(r,t){var e=u.call(this,r)||this;return e.buffer=[],e.add(subscribeToResult_1.subscribeToResult(e,t)),e}return __extends(r,u),r.prototype._next=function(r){this.buffer.push(r)},r.prototype.notifyNext=function(r,t,e,u,n){var i=this.buffer;this.buffer=[],this.destination.next(i)},r}(OuterSubscriber_1.OuterSubscriber);