"use strict";var __extends=this&&this.__extends||function(){var n=function(r,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,e){r.__proto__=e}||function(r,e){for(var t in e)e.hasOwnProperty(t)&&(r[t]=e[t])})(r,e)};return function(r,e){function t(){this.constructor=r}n(r,e),r.prototype=null===e?Object.create(e):(t.prototype=e.prototype,new t)}}();Object.defineProperty(exports,"__esModule",{value:!0});var innerSubscribe_1=require("../innerSubscribe");function buffer(e){return function(r){return r.lift(new BufferOperator(e))}}exports.buffer=buffer;var BufferOperator=function(){function r(r){this.closingNotifier=r}return r.prototype.call=function(r,e){return e.subscribe(new BufferSubscriber(r,this.closingNotifier))},r}(),BufferSubscriber=function(n){function r(r,e){var t=n.call(this,r)||this;return t.buffer=[],t.add(innerSubscribe_1.innerSubscribe(e,new innerSubscribe_1.SimpleInnerSubscriber(t))),t}return __extends(r,n),r.prototype._next=function(r){this.buffer.push(r)},r.prototype.notifyNext=function(){var r=this.buffer;this.buffer=[],this.destination.next(r)},r}(innerSubscribe_1.SimpleOuterSubscriber);