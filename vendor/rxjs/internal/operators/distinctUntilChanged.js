"use strict";var __extends=this&&this.__extends||function(){var n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r])})(t,e)};return function(t,e){function r(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)}}();Object.defineProperty(exports,"__esModule",{value:!0});var Subscriber_1=require("../Subscriber");function distinctUntilChanged(e,r){return function(t){return t.lift(new DistinctUntilChangedOperator(e,r))}}exports.distinctUntilChanged=distinctUntilChanged;var DistinctUntilChangedOperator=function(){function t(t,e){this.compare=t,this.keySelector=e}return t.prototype.call=function(t,e){return e.subscribe(new DistinctUntilChangedSubscriber(t,this.compare,this.keySelector))},t}(),DistinctUntilChangedSubscriber=function(i){function t(t,e,r){var n=i.call(this,t)||this;return n.keySelector=r,n.hasKey=!1,"function"==typeof e&&(n.compare=e),n}return __extends(t,i),t.prototype.compare=function(t,e){return t===e},t.prototype._next=function(t){var e;try{var r=this.keySelector;e=r?r(t):t}catch(t){return this.destination.error(t)}var n=!1;if(this.hasKey)try{n=(0,this.compare)(this.key,e)}catch(t){return this.destination.error(t)}else this.hasKey=!0;n||(this.key=e,this.destination.next(t))},t}(Subscriber_1.Subscriber);