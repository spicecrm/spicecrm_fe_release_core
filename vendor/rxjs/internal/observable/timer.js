"use strict";Object.defineProperty(exports,"__esModule",{value:!0});var Observable_1=require("../Observable"),async_1=require("../scheduler/async"),isNumeric_1=require("../util/isNumeric"),isScheduler_1=require("../util/isScheduler");function timer(i,e,s){void 0===i&&(i=0);var u=-1;return isNumeric_1.isNumeric(e)?u=Number(e)<1?1:Number(e):isScheduler_1.isScheduler(e)&&(s=e),isScheduler_1.isScheduler(s)||(s=async_1.async),new Observable_1.Observable(function(e){var r=isNumeric_1.isNumeric(i)?i:+i-s.now();return s.schedule(dispatch,r,{index:0,period:u,subscriber:e})})}function dispatch(e){var r=e.index,i=e.period,s=e.subscriber;if(s.next(r),!s.closed){if(-1===i)return s.complete();e.index=r+1,this.schedule(e,i)}}exports.timer=timer;