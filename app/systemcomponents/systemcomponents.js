/*
SpiceUI 2018.10.001

Copyright (c) 2016-present, aac services.k.s - All rights reserved.
Redistribution and use in source and binary forms, without modification, are permitted provided that the following conditions are met:
- Redistributions of source code must retain this copyright and license notice, this list of conditions and the following disclaimer.
- Redistributions in binary form must reproduce the above copyright notice, this list of conditions and the following disclaimer in the documentation and/or other materials provided with the distribution.
- If used the SpiceCRM Logo needs to be displayed in the upper left corner of the screen in a minimum dimension of 31x31 pixels and be clearly visible, the icon needs to provide a link to http://www.spicecrm.io
THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS "AS IS" AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE ARE DISCLAIMED. IN NO EVENT SHALL COPYRIGHT HOLDER OR CONTRIBUTORS BE LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL, EXEMPLARY, OR CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT LIMITED TO, PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES; LOSS OF USE, DATA, OR PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND ON ANY THEORY OF LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT (INCLUDING NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE OF THIS SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.

*/

/** 
 * Â© 2015 - 2020 aac services k.s. All rights reserved.
 * release: 2020.02.001
 * date: 2020-06-16 13:40:30
 * build: 2020.02.001.1592307630531
 **/
"use strict";var __assign=this&&this.__assign||function(){return(__assign=Object.assign||function(e){for(var t,s=1,o=arguments.length;s<o;s++)for(var i in t=arguments[s])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e}).apply(this,arguments)},__decorate=this&&this.__decorate||function(e,t,s,o){var i,n=arguments.length,a=n<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,s):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,s,o);else for(var r=e.length-1;0<=r;r--)(i=e[r])&&(a=(n<3?i(a):3<n?i(t,s,a):i(t,s))||a);return 3<n&&a&&Object.defineProperty(t,s,a),a},__metadata=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)},__param=this&&this.__param||function(s,o){return function(e,t){o(e,t,s)}},__spreadArrays=this&&this.__spreadArrays||function(){for(var e=0,t=0,s=arguments.length;t<s;t++)e+=arguments[t].length;var o=Array(e),i=0;for(t=0;t<s;t++)for(var n=arguments[t],a=0,r=n.length;a<r;a++,i++)o[i]=n[a];return o};Object.defineProperty(exports,"__esModule",{value:!0});var core_1=require("@angular/core"),drag_drop_1=require("@angular/cdk/drag-drop"),common_1=require("@angular/common"),forms_1=require("@angular/forms"),directives_1=require("../directives/directives"),services_1=require("../services/services"),http_1=require("@angular/common/http"),rxjs_1=require("rxjs"),animations_1=require("@angular/animations"),router_1=require("@angular/router"),operators_1=require("rxjs/operators"),platform_browser_1=require("@angular/platform-browser"),systemrichtextservice=function(){function e(e){this._document=e}return e.prototype.executeCommand=function(e){"h1"!==e&&"h2"!==e&&"h3"!==e&&"h4"!==e&&"h5"!==e&&"h6"!==e&&"p"!==e&&"pre"!==e&&"div"!==e||this._document.execCommand("formatBlock",!1,e),this._document.execCommand(e,!1,null)},e.prototype.createLink=function(e){if(e.includes("http")){var t='<a href="'+e+'" target="_blank">'+this.selectedText+"</a>";this.insertHtml(t)}else this._document.execCommand("createlink",!1,e)},e.prototype.insertColor=function(e,t){this.restoreSelection()&&("textColor"===t?this._document.execCommand("foreColor",!1,e):this._document.execCommand("hiliteColor",!1,e))},e.prototype.setFontName=function(e){this._document.execCommand("fontName",!1,e)},e.prototype.setFontSize=function(e){this._document.execCommand("fontSize",!1,e)},e.prototype.insertHtml=function(e){if(!this._document.execCommand("insertHTML",!1,e))throw new Error("Unable to perform the operation")},e.prototype.saveSelection=function(){if(window.getSelection){var e=window.getSelection();e.getRangeAt&&e.rangeCount&&(this.savedSelection=e.getRangeAt(0),this.selectedText=e.toString())}else this._document.getSelection&&this._document.createRange?this.savedSelection=document.createRange():this.savedSelection=null},e.prototype.restoreSelection=function(){if(!this.savedSelection)return!1;if(window.getSelection){var e=window.getSelection();return e.removeAllRanges(),e.addRange(this.savedSelection),!0}return!!this._document.getSelection||void 0},e.prototype.checkSelection=function(){if(0===this.savedSelection.toString().length)throw new Error("No Selection Made");return!0},e.prototype.insertImage=function(e){this._document.execCommand("insertImage",!1,e)},e.prototype.createCustomClass=function(e){var t=e.tag?e.tag:"span",s="<"+t+' class="'+e.class+'">'+this.selectedText+"</"+t+">";this.insertHtml(s)},e=__decorate([core_1.Injectable(),__param(0,core_1.Inject(common_1.DOCUMENT)),__metadata("design:paramtypes",[Object])],e)}();exports.systemrichtextservice=systemrichtextservice;var SystemModuleCustomPipe=function(){function e(){}return e.prototype.transform=function(e,t){for(var s=[],o=0,i=e;o<i.length;o++){var n=i[o];n.module==t&&"custom"==n.type&&s.push(n)}return s},e=__decorate([core_1.Pipe({name:"systemmodulecustompipe",pure:!1})],e)}();exports.SystemModuleCustomPipe=SystemModuleCustomPipe;var SystemModuleGlobalPipe=function(){function e(){}return e.prototype.transform=function(e,t){for(var s=[],o=0,i=e;o<i.length;o++){var n=i[o];n.module==t&&"global"==n.type&&s.push(n)}return s},e=__decorate([core_1.Pipe({name:"systemmoduleglobalpipe"})],e)}();exports.SystemModuleGlobalPipe=SystemModuleGlobalPipe;var PaginationControlsComponent=function(){function e(e){this.language=e,this._page=1,this.limit=1,this.total_records=0,this.variation="default",this.page$=new core_1.EventEmitter,this.oldPage$=new core_1.EventEmitter,this.offset=0,this.max_page=0}return Object.defineProperty(e.prototype,"page",{get:function(){return this._page},set:function(e){this._page!==e&&(this.oldPage$.emit(this._page),this._page=e,this.page$.emit(this._page))},enumerable:!0,configurable:!0}),e.prototype.ngOnChanges=function(){0<this.total_records&&(this.max_page=Math.ceil(this.total_records/this.limit))},e.prototype.pageUp=function(){if(this.page>=this.max_page)return!1;this.page+=1},e.prototype.pageDown=function(){if(this.page<=1)return!1;this.page-=1},__decorate([core_1.Input("page"),__metadata("design:type",Object)],e.prototype,"_page",void 0),__decorate([core_1.Input(),__metadata("design:type",Object)],e.prototype,"limit",void 0),__decorate([core_1.Input(),__metadata("design:type",Object)],e.prototype,"total_records",void 0),__decorate([core_1.Input(),__metadata("design:type",Object)],e.prototype,"variation",void 0),__decorate([core_1.Output("pageChange"),__metadata("design:type",Object)],e.prototype,"page$",void 0),__decorate([core_1.Output("leftPage"),__metadata("design:type",Object)],e.prototype,"oldPage$",void 0),e=__decorate([core_1.Component({selector:"pagination-controls",template:'<div [ngSwitch]="variation" class="slds-grid_align-center"><div *ngSwitchDefault><span class="slds-m-right--x-small"><button class="slds-button slds-button_icon slds-button--icon-small slds-button--icon-border" [disabled]="page < 2" (click)="page = 1"><system-button-custom-icon [icon]="\'chevrondoubleleft\'" title="go to first page"></system-button-custom-icon></button> <button class="slds-button slds-button_icon slds-button--icon-small slds-button--icon-border" [disabled]="page <= 1" (click)="pageDown()" title="go to previous page"><system-button-icon [icon]="\'chevronleft\'"></system-button-icon></button></span> <span>{{page}} <system-label label="LBL_OF"></system-label> {{max_page}} <system-label label="LBL_PAGES"></system-label> (showing up to {{limit}} <system-label label="LBL_OF"></system-label> {{total_records}} <system-label label="LBL_RECORDS"></system-label>)</span> <span class="slds-m-left--x-small"><button class="slds-button slds-button_icon slds-button--icon-small slds-button--icon-border" [disabled]="page >= max_page" (click)="pageUp()" title="go to next page"><system-button-icon [icon]="\'chevronright\'"></system-button-icon></button> <button class="slds-button slds-button_icon slds-button--icon-small slds-button--icon-border" [disabled]="page >= max_page-1" (click)="page = max_page"><system-button-custom-icon [icon]="\'chevrondoubleright\'" title="go to last page"></system-button-custom-icon></button></span></div><div *ngSwitchCase="\'short\'"><button class="slds-button slds-button_icon slds-button--icon-small slds-button--icon-border slds-button_outline-brand" [disabled]="page <= 1" (click)="pageDown()"><system-button-icon [icon]="\'chevronleft\'" title="go to previous page"></system-button-icon></button> <span>{{page}} <system-label label="LBL_OF"></system-label> {{max_page}} <system-label label="LBL_PAGES"></system-label></span> <button class="slds-button slds-button_icon slds-button--icon-small slds-button--icon-border slds-button_outline-brand" [disabled]="page >= max_page" (click)="pageUp()"><system-button-icon [icon]="\'chevronright\'" title="go to next page"></system-button-icon></button></div></div>'}),__metadata("design:paramtypes",[services_1.language])],e)}();exports.PaginationControlsComponent=PaginationControlsComponent;var PaginationPipe=function(){function e(){}return e.prototype.transform=function(e,t){var s=(t.page-1)*t.limit,o=s+t.limit;return e.slice(s,o)},e=__decorate([core_1.Pipe({name:"paginate",pure:!1})],e)}();exports.PaginationPipe=PaginationPipe;var SpeechRecognition=function(){function SpeechRecognition(e,t,s,o,i){this.language=e,this.metadata=t,this.toast=s,this.changeDetRef=o,this.applicationRef=i,this.theText="",this.theTextNewest="",this.theTextHtml="",this.dirty=!1,this.errorOccurred=!1,this.toRestart=!1,this.recognizing=!1,this.cancelling=!1,this.stopping=!1,this.pausing=!1,this.working=!1,this.languages=[{id:"de_DE",name:"Deutsch"},{id:"en_US",name:"English"}],this.selectedLanguage=0}return SpeechRecognition.prototype.ngOnInit=function(){var a=this;window.webkitSpeechRecognition||(this.toast.sendToast("Sorry, speech recognition is possible only with Google Chrome.","error"),this.self.destroy()),"de_DE"===this.language.currentlanguage?this.selectedLanguage=0:this.selectedLanguage=1,this.recognition=new(window.SpeechRecognition||window.webkitSpeechRecognition||window.mozSpeechRecognition||window.msSpeechRecognition),this.recognition.continuous=!0,this.recognition.lang=this.languages[this.selectedLanguage].id,this.recognition.interimResults=!0,this.recognition.maxAlternatives=1,this.part1fromField=this.textfield.element.nativeElement.value.substring(0,this.textfield.element.nativeElement.selectionStart),this.part2fromField=this.textfield.element.nativeElement.value.substring(this.textfield.element.nativeElement.selectionEnd),this.recognition.onresult=function(e){a.working=!0,a.changeDetRef.detectChanges();for(var t="",s=!0,o=0,i=e.results;o<i.length;o++){var n=i[o];n.isFinal||(s=!1),t+=n[0].transcript,a.theTextNewest=t}s&&(a.working=!1,a.changeDetRef.detectChanges()),!a.dirty&&a.theTextNewest&&(a.dirty=!0),a.dirty&&(a.theTextHtml="<p>"+a.linebreaks2html(a.capitalize(a.theText+" "+a.theTextNewest))+"</p>",a.changeDetRef.detectChanges())},this.recognition.onerror=function(e){switch(e.error){case"network":a.errorOccurred=!0,a.sendErrorToast(a.language.getLabel("MSG_NO_NETWORK"));break;case"no-speech":return void(a.stopping||a.recognition.stop());case"audio-capture":a.errorOccurred=!0,a.sendErrorToast(a.language.getLabel("MSG_NO_MICROPHONE"));break;case"not-allowed":a.errorOccurred=!0,e.timeStamp-a.start_timestamp<100?a.sendErrorToast(a.language.getLabel("LBL_BLOCKED")):a.sendErrorToast(a.language.getLabel("LBL_DENIED"))}a.applicationRef.tick()},this.recognition.onend=function(e){a.working=!1,a.cancelling?a.self.destroy():!a.pausing||a.stopping?a.acceptAndClose():a.applyText()},this.start()},SpeechRecognition.prototype.doRestart=function(){this.toRestart=!0,this.recognition.stop()},SpeechRecognition.prototype.applyText=function(){this.theText+=""===this.theText?this.capitalize(this.theTextNewest):this.theTextNewest,this.theTextNewest=""},SpeechRecognition.prototype.acceptAndClose=function(){if(this.applyText(),this.errorOccurred)""===this.theText&&""===this.theTextNewest&&this.self.destroy();else{if(!this.stopping)return this.recognition.start(),void(this.toRestart&&(this.toRestart=!1));this.recognizing=!1,this.textfield.element.nativeElement.value=this.part1fromField+this.theText+this.part2fromField,this.self.destroy()}},SpeechRecognition.prototype.start=function(e){void 0===e&&(e=null),this.recognizing||(this.recognizing=!0,this.recognition.start(),e&&(this.start_timestamp=e.timeStamp))},SpeechRecognition.prototype.buttonAcceptClose=function(){this.stopping=!0,this.pausing?this.acceptAndClose():this.recognition.stop()},SpeechRecognition.prototype.buttonPause=function(){this.pausing=!this.pausing,this.changeDetRef.detectChanges(),this.applicationRef.tick(),this.pausing&&this.recognition.stop(),this.pausing||this.recognition.start()},SpeechRecognition.prototype.buttonCancel=function(){this.cancelling=!0,this.pausing&&this.recognition.start(),this.recognition.abort(),this.self.destroy()},SpeechRecognition.prototype.changeLang=function(e){this.selectedLanguage=e.target.selectedIndex,this.recognition.lang=this.languages[this.selectedLanguage].id,this.doRestart()},SpeechRecognition.prototype.capitalize=function(e){return 0===this.part1fromField.length?e.replace(/\S/,function(e){return e.toUpperCase()}):e},SpeechRecognition.prototype.linebreaks2html=function(e){return e.replace(/\n\n/g,"</p><p>").replace(/\n/g,"<br>")},SpeechRecognition.prototype.sendErrorToast=function(e){this.toast.sendToast(this.language.getLabel("ERR_SPEECH_RECOGNITION")+": "+e+".","error","",!1)},SpeechRecognition=__decorate([core_1.Component({template:'<system-modal size="large"><system-modal-header (close)="buttonCancel()"><system-label label="LBL_SPEECH_RECOGNITION"></system-label></system-modal-header><system-modal-content><div style="min-height: 300px;"><div *ngIf="!dirty" class="slds-text-align_center slds-m-vertical--x-large" style="margin-bottom:3rem" [style.visibility]="pausing ? \'hidden\':\'visible\'"><system-label label="LBL_WAITING_START_SPEAKING"></system-label></div><div *ngIf="dirty" [innerHTML]="theTextHtml" class="slds-text-longform"></div></div></system-modal-content><system-modal-footer><div class="slds-grid slds-grid_align-spread"><div class="slds-col"><div class="slds-select_container"><select class="slds-select" (change)="changeLang($event)"><option *ngFor="let lang of languages;let index=i" [value]="lang.id" [selected]="i == selectedLanguage">{{lang.name}}</option></select></div></div><div class="slds-col"><button class="slds-button slds-button--neutral" (click)="buttonCancel()"><system-label label="LBL_CANCEL"></system-label></button> <button class="slds-button slds-button--neutral" (click)="buttonPause()" [disabled]="cancelling"><ng-container *ngIf="!pausing"><system-button-icon [icon]="\'pause\'" [position]="\'left\'"></system-button-icon><system-label label="LBL_PAUSE"></system-label></ng-container><ng-container *ngIf="pausing"><system-button-icon [icon]="\'record\'" [position]="\'left\'"></system-button-icon><system-label label="LBL_CONTINUE"></system-label></ng-container></button> <button class="slds-button slds-button--brand" (click)="buttonAcceptClose($event)" [disabled]="!dirty || cancelling"><system-button-icon [icon]="\'stop\'" [position]="\'left\'"></system-button-icon><system-label label="LBL_ACCEPT"></system-label> &amp; <system-label label="LBL_CLOSE"></system-label></button></div></div></system-modal-footer></system-modal>'}),__metadata("design:paramtypes",[services_1.language,services_1.metadata,services_1.toast,core_1.ChangeDetectorRef,core_1.ApplicationRef])],SpeechRecognition)}();exports.SpeechRecognition=SpeechRecognition;var SystemActionIcon=function(){function e(e){this.metadata=e,this.icon="",this.size="",this.title=void 0}return Object.defineProperty(e.prototype,"svgHRef",{get:function(){return"./vendor/sldassets/icons/action-sprite/svg/symbols.svg#"+this.icon},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"iconClass",{get:function(){return this.icon?"slds-icon-action-"+this.icon.replace("_","-"):""},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"sizeClass",{get:function(){return"slds-icon--"+this.size},enumerable:!0,configurable:!0}),__decorate([core_1.Input(),__metadata("design:type",String)],e.prototype,"icon",void 0),__decorate([core_1.Input(),__metadata("design:type",String)],e.prototype,"size",void 0),__decorate([core_1.Input(),__metadata("design:type",String)],e.prototype,"title",void 0),e=__decorate([core_1.Component({selector:"system-action-icon",template:'<span class="slds-icon_container slds-icon-action-change-record-type slds-icon_container--circle" [ngClass]="iconClass"><svg class="slds-icon" [ngClass]="sizeClass" aria-hidden="true"><use [attr.xlink:href]="svgHRef"></use></svg></span>'}),__metadata("design:paramtypes",[services_1.metadata])],e)}();exports.SystemActionIcon=SystemActionIcon;var SystemButtonCustomIcon=function(){function e(e){this.metadata=e,this.inverse=!1,this.title="",this.file="./assets/icons/spicecrm.svg"}return e.prototype.getSvgHRef=function(){return this.file+"#"+this.icon},e.prototype.getClass=function(){var e=[];return this.size?e.push("slds-button__icon--"+this.size):e.push("slds-button__icon"),this.position&&e.push("slds-button__icon_"+this.position),this.inverse&&e.push("slds-button_icon-inverse"),e},__decorate([core_1.Input(),__metadata("design:type",String)],e.prototype,"icon",void 0),__decorate([core_1.Input(),__metadata("design:type",String)],e.prototype,"size",void 0),__decorate([core_1.Input(),__metadata("design:type",String)],e.prototype,"position",void 0),__decorate([core_1.Input(),__metadata("design:type",Object)],e.prototype,"inverse",void 0),__decorate([core_1.Input(),__metadata("design:type",Object)],e.prototype,"title",void 0),__decorate([core_1.Input(),__metadata("design:type",String)],e.prototype,"file",void 0),e=__decorate([core_1.Component({selector:"system-button-custom-icon",template:'<svg aria-hidden="true" class="slds-button__icon" [ngClass]="getClass()" [title]="title"><use [attr.xlink:href]="getSvgHRef()"></use></svg>'}),__metadata("design:paramtypes",[services_1.metadata])],e)}();exports.SystemButtonCustomIcon=SystemButtonCustomIcon;var SystemButtonGroup=function(){function e(e){this.metadata=e,this.items=[],this.action=new core_1.EventEmitter,this.isopen=!1}return e.prototype.toggleOpen=function(){this.isopen=!this.isopen},__decorate([core_1.Input(),__metadata("design:type",Array)],e.prototype,"items",void 0),__decorate([core_1.Output(),__metadata("design:type",core_1.EventEmitter)],e.prototype,"action",void 0),e=__decorate([core_1.Component({selector:"system-button-group",template:'<div class="slds-button-group" role="group"><button class="slds-button slds-button_neutral">Refresh</button><div class="slds-dropdown-trigger slds-dropdown-trigger_click slds-button_last" [ngClass]="{\'slds-is-open\': isopen}"><button class="slds-button slds-button_icon slds-button_icon-border-filled" (click)="toggleOpen()"><system-button-icon icon="down"></system-button-icon></button><div class="slds-dropdown slds-dropdown_right slds-dropdown_actions"><ul class="slds-dropdown__list" role="menu"><li class="slds-dropdown__item" role="presentation"><a href="javascript:void(0);" role="menuitem" tabindex="0"><span class="slds-truncate" title="Overflow Item One">Overflow Item One</span></a></li><li class="slds-dropdown__item" role="presentation"><a href="javascript:void(0);" role="menuitem" tabindex="-1"><span class="slds-truncate" title="Overflow Item Two">Overflow Item Two</span></a></li><li class="slds-dropdown__item" role="presentation"><a href="javascript:void(0);" role="menuitem" tabindex="-1"><span class="slds-truncate" title="Overflow Item Three">Overflow Item Three</span></a></li></ul></div></div></div>'}),__metadata("design:paramtypes",[services_1.metadata])],e)}();exports.SystemButtonGroup=SystemButtonGroup;var SystemButtonIcon=function(){function e(e,t){this.metadata=e,this.cdref=t,this.icon="",this.sprite="utility",this.size="",this.module="",this.position="",this.inverse=!1,this.title=void 0,this.addclasses=""}return e.prototype.ngOnChanges=function(e){this.cdref.detectChanges()},e.prototype.getSvgHRef=function(){return"./vendor/sldassets/icons/"+this.getSprite()+"-sprite/svg/symbols.svg#"+this.getIcon()},e.prototype.getIcon=function(){if(this.icon)return this.icon;if(this.module&&this.metadata.getModuleIcon(this.module)){var e=this.metadata.getModuleIcon(this.module);return 0<e.indexOf(":")?e.split(":")[1]:e}return"empty"},e.prototype.getSprite=function(){return this.module&&this.metadata.getModuleIcon(this.module)&&0<this.metadata.getModuleIcon(this.module).indexOf(":")?this.metadata.getModuleIcon(this.module).split(":")[0]:this.module?"standard":this.sprite},e.prototype.getClass=function(){var e=[];return""!=this.size?e.push("slds-button__icon--"+this.size):e.push("slds-button__icon"),""!=this.position&&e.push("slds-button__icon_"+this.position),this.inverse&&e.push("slds-button_icon-inverse"),this.addclasses?this.addclasses+" "+e:e},__decorate([core_1.Input(),__metadata("design:type",String)],e.prototype,"icon",void 0),__decorate([core_1.Input(),__metadata("design:type",String)],e.prototype,"sprite",void 0),__decorate([core_1.Input(),__metadata("design:type",String)],e.prototype,"size",void 0),__decorate([core_1.Input(),__metadata("design:type",String)],e.prototype,"module",void 0),__decorate([core_1.Input(),__metadata("design:type",String)],e.prototype,"position",void 0),__decorate([core_1.Input(),__metadata("design:type",Boolean)],e.prototype,"inverse",void 0),__decorate([core_1.Input(),__metadata("design:type",String)],e.prototype,"title",void 0),__decorate([core_1.Input(),__metadata("design:type",String)],e.prototype,"addclasses",void 0),e=__decorate([core_1.Component({selector:"system-button-icon",template:'<svg aria-hidden="true" class="slds-button__icon" [ngClass]="getClass()" [title]="title"><use [attr.xlink:href]="getSvgHRef()"></use></svg>',changeDetection:core_1.ChangeDetectionStrategy.OnPush}),__metadata("design:paramtypes",[services_1.metadata,core_1.ChangeDetectorRef])],e)}();exports.SystemButtonIcon=SystemButtonIcon;var SystemCaptureImage=function(){function SystemCaptureImage(e){this.backend=e,this.self={},this.model={},this.stream={},this.imageTaken=!1,this.response$=new core_1.EventEmitter}return SystemCaptureImage.prototype.ngAfterViewInit=function(){this.startstream()},SystemCaptureImage.prototype.startstream=function(){var t=this;navigator.mediaDevices&&navigator.mediaDevices.getUserMedia&&navigator.mediaDevices.getUserMedia({video:!0}).then(function(e){t.video.element.nativeElement.src=window.URL.createObjectURL(e),t.video.element.nativeElement.play(),t.stream=e})},SystemCaptureImage.prototype.stopstream=function(){this.stream.getVideoTracks()[0].stop()},SystemCaptureImage.prototype.capture=function(){var e=this.canvas.element.nativeElement.getContext("2d");document.getElementById("video");e.drawImage(this.video.element.nativeElement,0,0,1024,768),this.stopstream(),this.imageTaken=!0},SystemCaptureImage.prototype.discard=function(){this.video.element.nativeElement.play(),this.imageTaken=!1},SystemCaptureImage.prototype.send=function(){var t=this,e={filename:"xsxx.png",file:this.canvas.element.nativeElement.toDataURL().replace("data:image/png;base64,",""),filemimetype:"image/png"};this.backend.postRequest("/module/"+this.model.module+"/"+this.model.id+"/attachment",{},e).subscribe(function(e){t.response$.emit(e[0]),t.close()})},SystemCaptureImage.prototype.close=function(){this.self.destroy()},SystemCaptureImage.prototype.onModalEscX=function(){this.close()},__decorate([core_1.ViewChild("video",{read:core_1.ViewContainerRef,static:!0}),__metadata("design:type",core_1.ViewContainerRef)],SystemCaptureImage.prototype,"video",void 0),__decorate([core_1.ViewChild("canvas",{read:core_1.ViewContainerRef,static:!0}),__metadata("design:type",core_1.ViewContainerRef)],SystemCaptureImage.prototype,"canvas",void 0),SystemCaptureImage=__decorate([core_1.Component({selector:"system-capture-image",template:'<section role="dialog" tabindex="-1" class="slds-modal slds-fade-in-open"><div class="slds-modal__container" style="width:1048px;max-width: 100%;"><header class="slds-modal__header"><button class="slds-button slds-button_icon slds-modal__close slds-button_icon-inverse" (click)="close()"><system-button-icon [icon]="\'close\'" [size]="\'large\'"></system-button-icon></button><h2 class="slds-text-heading_medium slds-hyphenate">capture Image</h2></header><div class="slds-modal__content slds-p-around_medium" id="modal-content-id-1"><video #video [ngClass]="{\'slds-hide\': imageTaken}" width="1024" height="768" autoplay></video><canvas #canvas [ngClass]="{\'slds-hide\': !imageTaken}" width="1024" height="768"></canvas></div><footer class="slds-modal__footer"><button class="slds-button slds-button--neutral" (click)="close()">Cancel</button> <button *ngIf="!imageTaken" class="slds-button slds-button--brand" (click)="capture()">Capture</button><button *ngIf="imageTaken" class="slds-button slds-button--brand" (click)="send()">Use</button></footer></div></section>'}),__metadata("design:paramtypes",[services_1.backend])],SystemCaptureImage)}();exports.SystemCaptureImage=SystemCaptureImage;var SystemCard=function(){function e(){}return e=__decorate([core_1.Component({selector:"system-card",template:'<article class="slds-card slds-card_boundary"><ng-content select="system-card-header"></ng-content><ng-content select="system-card-body"></ng-content><ng-content select="system-card-footer"></ng-content></article>'})],e)}();exports.SystemCard=SystemCard;var SystemCardHeader=function(){function e(){}return __decorate([core_1.Input(),__metadata("design:type",String)],e.prototype,"icon",void 0),__decorate([core_1.Input(),__metadata("design:type",String)],e.prototype,"module",void 0),__decorate([core_1.Input(),__metadata("design:type",String)],e.prototype,"cardtitel",void 0),e=__decorate([core_1.Component({selector:"system-card-header",template:'<div class="slds-card__header slds-grid"><header class="slds-media slds-media_center slds-has-flexi-truncate"><div class="slds-media__figure"><system-icon [module]="module" [icon]="icon"></system-icon></div><div class="slds-media__body"><h2 class="slds-card__header-title"><span class="slds-text-heading_small">{{cardtitel}}</span></h2></div><div class="slds-no-flex"><ng-content></ng-content></div></header></div>'})],e)}();exports.SystemCardHeader=SystemCardHeader;var SystemCardBody=function(){function e(){}return e=__decorate([core_1.Component({selector:"system-card-body",template:'<div class="slds-card__body slds-card__body_inner"><ng-content></ng-content></div>'})],e)}();exports.SystemCardBody=SystemCardBody;var SystemCardFooter=function(){function e(){}return e=__decorate([core_1.Component({selector:"system-card-footer",template:'<footer class="slds-card__footer"><ng-content></ng-content></footer>'})],e)}();exports.SystemCardFooter=SystemCardFooter;var SystemCheckboxGroup=function(){function e(){this.model$=new core_1.EventEmitter}var t;return(t=e).prototype.writeValue=function(e){this._model=e,this.model$.emit(this._model)},e.prototype.registerOnChange=function(e){this.onChange=e},e.prototype.registerOnTouched=function(e){this.onTouched=e},e.prototype.toggleValue=function(e){this.contains(e)?this.remove(e):this.add(e)},e.prototype.contains=function(e){if(this._model instanceof Array){if(e instanceof Array){for(var t=0,s=e;t<s.length;t++){var o=s[t];if(-1==this._model.indexOf(o))return!1}return!0}return-1<this._model.indexOf(e)}return!!this._model&&this._model===e},e.prototype.add=function(e){if(this._model instanceof Array||(this._model=[]),e instanceof Array)for(var t=0,s=e;t<s.length;t++){var o=s[t];this.contains(o)||this._model.push(o)}else this.contains(e)||this._model.push(e);this.model$.emit(this._model),this.onChange(this._model)},e.prototype.remove=function(e){if(e instanceof Array)for(var t=0,s=e;t<s.length;t++){var o,i=s[t];0<=(o=this._model.indexOf(i))&&this._model.splice(o,1)}else 0<=(o=this._model.indexOf(e))&&this._model.splice(o,1);this.model$.emit(this._model),this.onChange(this._model)},e=t=__decorate([core_1.Component({selector:"system-checkbox-group",template:"<ng-content></ng-content>",providers:[{provide:forms_1.NG_VALUE_ACCESSOR,useExisting:core_1.forwardRef(function(){return t}),multi:!0}]})],e)}();exports.SystemCheckboxGroup=SystemCheckboxGroup;var SystemCheckboxGroupCheckbox=function(){function e(e){var t=this;this.grp=e,this.id=_.uniqueId(),this.disabled=!1,this._checked=!1,this.grp.model$.subscribe(function(e){t.ngOnChanges()})}return Object.defineProperty(e.prototype,"checked",{get:function(){return this._checked},set:function(e){this._checked=e},enumerable:!0,configurable:!0}),e.prototype.toggle=function(){this.checked=!this.checked,this.checked?this.grp.add(this.value):this.grp.remove(this.value)},e.prototype.ngOnChanges=function(){this._checked=this.grp.contains(this.value)},__decorate([core_1.Input(),__metadata("design:type",Object)],e.prototype,"value",void 0),__decorate([core_1.Input(),__metadata("design:type",Object)],e.prototype,"disabled",void 0),__decorate([core_1.Input(),__metadata("design:type",Boolean),__metadata("design:paramtypes",[Boolean])],e.prototype,"checked",null),e=__decorate([core_1.Component({selector:"system-checkbox-group-checkbox",template:'\n        <span class="slds-checkbox slds-truncate">\n            <input type="checkbox" id="checkbox-group-checkbox-{{id}}"\n                   [attr.aria-labelledby]="\'checkbox-group-checkbox-button-label-\'+id+\' check-group-header\'"\n                   [disabled]="disabled" [checked]="checked" (click)="toggle()"/>\n            <label class="slds-checkbox__label" for="checkbox-group-checkbox-{{id}}"\n                   id="checkbox-group-checkbox-button-label-{{id}}">\n                <span class="slds-checkbox_faux"></span>\n                <span class="slds-form-element__label"><ng-content></ng-content></span>\n            </label>\n        </span>'}),__param(0,core_1.Host()),__metadata("design:paramtypes",[SystemCheckboxGroup])],e)}();exports.SystemCheckboxGroupCheckbox=SystemCheckboxGroupCheckbox;var SystemCheckbox=function(){function e(e,t){this.language=e,this.cdRef=t,this.id=_.uniqueId(),this._value="1",this._checked=!1,this.hidelabel=!1,this.disabled=!1,this.click$=new core_1.EventEmitter,this.check$=new core_1.EventEmitter,this.uncheck$=new core_1.EventEmitter}var t;return t=e,Object.defineProperty(e.prototype,"value",{get:function(){return this._value},set:function(e){this._value=e},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"model_value",{get:function(){return this._model_value},set:function(e){e!=this._model_value&&this.onChange(e),this.writeValue(e)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"checked",{get:function(){return this._checked},set:function(e){this._checked=e},enumerable:!0,configurable:!0}),e.prototype.click=function(){if(this.disabled)return!1;this.onTouched(),this.checked=!this.checked,this.click$.emit(this.checked),this.checked?this.check$.emit():this.uncheck$.emit()},e.prototype.onChange=function(e){},e.prototype.registerOnChange=function(t){this.onChange=function(e){t(e)}},e.prototype.onTouched=function(){},e.prototype.registerOnTouched=function(e){this.onTouched=e},e.prototype.setDisabledState=function(e){this.disabled=e},e.prototype.writeValue=function(e){this._model_value=e,this.model_value&&!this.checked?this.checked=!0:!this.model_value&&this.checked&&(this.checked=!1),this.cdRef.detectChanges()},__decorate([core_1.Input(),__metadata("design:type",Object),__metadata("design:paramtypes",[Object])],e.prototype,"value",null),__decorate([core_1.Input(),__metadata("design:type",Boolean)],e.prototype,"hidelabel",void 0),__decorate([core_1.Input(),__metadata("design:type",Boolean),__metadata("design:paramtypes",[Boolean])],e.prototype,"checked",null),__decorate([core_1.Input(),__metadata("design:type",Object)],e.prototype,"disabled",void 0),__decorate([core_1.Input(),__metadata("design:type",String)],e.prototype,"label",void 0),__decorate([core_1.Output("toggle"),core_1.Output("click"),__metadata("design:type",Object)],e.prototype,"click$",void 0),__decorate([core_1.Output("check"),__metadata("design:type",Object)],e.prototype,"check$",void 0),__decorate([core_1.Output("uncheck"),__metadata("design:type",Object)],e.prototype,"uncheck$",void 0),e=t=__decorate([core_1.Component({selector:"system-checkbox",template:'<span class="slds-checkbox slds-truncate"><input type="checkbox" id="checkbox-{{id}}" [attr.aria-labelledby]="\'checkbox-button-label-\'+id+\' check-group-header\'" (click)="click()" [disabled]="disabled" [checked]="checked" [value]="value" [(ngModel)]="model_value"> <label class="slds-checkbox__label" for="checkbox-{{id}}" id="checkbox-button-label-{{id}}"><span class="slds-checkbox_faux"></span> <span *ngIf="!hidelabel" class="slds-form-element__label slds-p-horizontal--xx-small"><ng-content></ng-content></span></label></span>',providers:[{provide:forms_1.NG_VALUE_ACCESSOR,useExisting:core_1.forwardRef(function(){return t}),multi:!0}]}),__metadata("design:paramtypes",[services_1.language,core_1.ChangeDetectorRef])],e)}();exports.SystemCheckbox=SystemCheckbox;var SystemCollabsableTab=function(){function e(e){this.language=e,this.collapsible=!0,this.expanded=!0,this.title="",this.moduleicon="",this.tabtitle=""}return e.prototype.togglePanel=function(){this.expanded=!this.expanded},Object.defineProperty(e.prototype,"_title",{get:function(){return this.tabtitle?this.tabtitle:!!this.title&&this.title},enumerable:!0,configurable:!0}),__decorate([core_1.Input(),__metadata("design:type",Boolean)],e.prototype,"collapsible",void 0),__decorate([core_1.Input(),__metadata("design:type",Boolean)],e.prototype,"expanded",void 0),__decorate([core_1.Input(),__metadata("design:type",String)],e.prototype,"title",void 0),__decorate([core_1.Input(),__metadata("design:type",String)],e.prototype,"moduleicon",void 0),__decorate([core_1.Input(),__metadata("design:type",String)],e.prototype,"tabtitle",void 0),e=__decorate([core_1.Component({selector:"system-collapsable-tab",template:'<div class="slds-section" [ngClass]="{\'slds-is-open\': expanded}"><h3 *ngIf="_title != \'\'" class="slds-section__title"><ng-container *ngIf="collapsible; else simpleheader"><button aria-expanded="true" class="slds-button slds-section__title-action" (click)="togglePanel()"><system-utility-icon icon="switch" size="x-small" addclasses="slds-section__title-action-icon slds-button__icon slds-button__icon_left"></system-utility-icon><div class="slds-grid slds-grid--vertical-align-center"><system-icon *ngIf="moduleicon" [module]="moduleicon" size="x-small"></system-icon><span class="slds-truncate">{{language.getLabel(_title)}}</span></div></button></ng-container><ng-template #simpleheader><div class="slds-grid slds-grid--vertical-align-center slds-section__title-action"><system-icon *ngIf="moduleicon" [module]="moduleicon" size="x-small"></system-icon><span class="slds-truncate">{{language.getLabel(_title)}}</span></div></ng-template></h3><div [@tabanimation]="expanded" [style.display]="!expanded ? \'none\': \'block\'"><ng-content></ng-content></div></div>',animations:[animations_1.trigger("tabanimation",[animations_1.state("true",animations_1.style({height:"*",opacity:1})),animations_1.state("false",animations_1.style({height:"0px",opacity:0})),animations_1.transition("true => false",[animations_1.style({overflow:"hidden"}),animations_1.animate(".5s")]),animations_1.transition("false => true",[animations_1.animate(".5s"),animations_1.style({overflow:"inherit"})])])]}),__metadata("design:paramtypes",[services_1.language])],e)}();exports.SystemCollabsableTab=SystemCollabsableTab;var SystemComponentContainer=function(){function SystemComponentContainer(){this.containerRef=new core_1.EventEmitter,this.containerComponent=""}return SystemComponentContainer.prototype.ngAfterViewInit=function(){this.containerRef.emit(this.container),this.containerRef.complete()},__decorate([core_1.ViewChild("container",{read:core_1.ViewContainerRef,static:!0}),__metadata("design:type",core_1.ViewContainerRef)],SystemComponentContainer.prototype,"container",void 0),SystemComponentContainer=__decorate([core_1.Component({selector:"system-component-container",template:'<div *ngIf="!loaded" [title]="containerComponent" style="width:100%;" class="slds-align--absolute-center slds-p-around--xx-small"><system-spinner size="12"></system-spinner></div><ng-template #container></ng-template>'})],SystemComponentContainer)}();exports.SystemComponentContainer=SystemComponentContainer;var SystemComponentMissing=function(){function SystemComponentMissing(){this.component=""}return SystemComponentMissing=__decorate([core_1.Component({selector:"system-component-missing",template:'<div class="slds-box slds-align_absolute-center slds-theme_alert-texture slds-theme_error">Component&nbsp;<b>{{component}}</b>&nbsp;Missing</div>'})],SystemComponentMissing)}();exports.SystemComponentMissing=SystemComponentMissing;var SystemComponentSet=function(){function e(e){this.metadata=e,this.componentset="",this.forceReloadOnChange=!1,this.viewInitialized=!1,this._componentset="",this._componentRefs=[]}return e.prototype.ngAfterViewInit=function(){this.renderComnponentset(),this.viewInitialized=!0},e.prototype.ngOnChanges=function(){if(this.viewInitialized&&(this.componentset!=this._componentset||this.forceReloadOnChange)){for(var e=0,t=this._componentRefs;e<t.length;e++){t[e].destroy()}this._componentRefs=[],this.renderComnponentset()}},e.prototype.renderComnponentset=function(){var s=this;if(this.componentset)for(var e=function(t){o.metadata.addComponent(t.component,o.componentcontainer).subscribe(function(e){e.instance.componentconfig=t.componentconfig,s._componentRefs.push(e)})},o=this,t=0,i=this.metadata.getComponentSetObjects(this.componentset);t<i.length;t++){e(i[t])}this._componentset=this.componentset},__decorate([core_1.ViewChild("componentcontainer",{read:core_1.ViewContainerRef,static:!0}),__metadata("design:type",core_1.ViewContainerRef)],e.prototype,"componentcontainer",void 0),__decorate([core_1.Input(),__metadata("design:type",String)],e.prototype,"componentset",void 0),__decorate([core_1.Input(),__metadata("design:type",Boolean)],e.prototype,"forceReloadOnChange",void 0),e=__decorate([core_1.Component({selector:"system-componentset",template:"<div #componentcontainer></div>"}),__metadata("design:paramtypes",[services_1.metadata])],e)}();exports.SystemComponentSet=SystemComponentSet;var SystemConfirmDialog=function(){function SystemConfirmDialog(e){this.language=e,this.self={},this.answer=null,this.answerSubject=null,this.title="title",this.message="message",this.answerSubject=new rxjs_1.Subject,this.answer=this.answerSubject.asObservable()}return SystemConfirmDialog.prototype.ok=function(){this.answerSubject.next(!0),this.answerSubject.complete(),this.self.destroy()},SystemConfirmDialog.prototype.cancel=function(){this.answerSubject.next(!1),this.answerSubject.complete(),this.self.destroy()},SystemConfirmDialog=__decorate([core_1.Component({selector:"system-confirm-dialog",template:'<div class="slds-backdrop slds-backdrop--open"></div><div role="dialog" tabindex="-1" class="slds-modal slds-fade-in-open"><div class="slds-modal__container"><div class="slds-modal__header"><h2 class="slds-text-heading--medium">{{title}}</h2></div><div class="slds-modal__content slds-p-around--medium">{{message}}</div><div class="slds-modal__footer"><button class="slds-button slds-button--neutral" (click)="cancel()"><system-label label="LBL_CANCEL"></system-label></button> <button class="slds-button slds-button--brand" (click)="ok()"><system-label label="LBL_OK"></system-label></button></div></div></div>',styles:[":host { position: relative; z-index: 9100; }"]}),__metadata("design:paramtypes",[services_1.language])],SystemConfirmDialog)}();exports.SystemConfirmDialog=SystemConfirmDialog;var SystemCustomIcon=function(){function e(e){this.metadata=e,this.icon="info",this.file="./assets/icons/spicecrm.svg",this.size="",this.color="",this.desaturate=!1,this.addclasses="",this.divClass="slds-media__figure"}return e.prototype.getSizeClass=function(){return this.size?"slds-icon--"+this.size:""},e.prototype.getSvg=function(){return this.file+"#"+this.icon},Object.defineProperty(e.prototype,"iconClass",{get:function(){return"slds-icon"+(this.size?" slds-icon--"+this.size:"")+" slds-icon-text-default "+this.addclasses},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"iconStyle",{get:function(){var e={};return this.color&&(e.color=this.color),this.desaturate&&(e.filter="saturate(0)"),e},enumerable:!0,configurable:!0}),__decorate([core_1.Input(),__metadata("design:type",String)],e.prototype,"icon",void 0),__decorate([core_1.Input(),__metadata("design:type",String)],e.prototype,"file",void 0),__decorate([core_1.Input(),__metadata("design:type",String)],e.prototype,"size",void 0),__decorate([core_1.Input(),__metadata("design:type",String)],e.prototype,"color",void 0),__decorate([core_1.Input(),__metadata("design:type",Boolean)],e.prototype,"desaturate",void 0),__decorate([core_1.Input(),__metadata("design:type",String)],e.prototype,"addclasses",void 0),__decorate([core_1.Input(),__metadata("design:type",Object)],e.prototype,"divClass",void 0),e=__decorate([core_1.Component({selector:"system-custom-icon",template:'<div class="slds-p-horizontal--xxx-small slds-current-color"><svg aria-hidden="true" [ngClass]="iconClass" [ngStyle]="iconStyle"><use [attr.xlink:href]="getSvg()"></use></svg></div>'}),__metadata("design:paramtypes",[services_1.metadata])],e)}();exports.SystemCustomIcon=SystemCustomIcon;var SystemDynamicComponent=function(){function e(e){this.metadata=e,this.component="",this.componentref=new core_1.EventEmitter,this.initialized=!1}return e.prototype.ngAfterViewInit=function(){this.initialized||this.renderComponent()},e.prototype.ngOnChanges=function(e){this.container&&e.component&&(this._component&&(this._component.destroy(),this._component=void 0),this.renderComponent(),this.initialized=!0)},e.prototype.renderComponent=function(){var s=this;this.component&&this.metadata.addComponent(this.component,this.container).subscribe(function(e){if(s.componentref.emit(e),s.componentconfig&&(e.instance.componentconfig=s.componentconfig),s.componentattributes)for(var t in s.componentattributes)e.instance[t]=s.componentattributes[t];s._component=e})},__decorate([core_1.ViewChild("container",{read:core_1.ViewContainerRef,static:!0}),__metadata("design:type",core_1.ViewContainerRef)],e.prototype,"container",void 0),__decorate([core_1.Input(),__metadata("design:type",String)],e.prototype,"component",void 0),__decorate([core_1.Input(),__metadata("design:type",Object)],e.prototype,"componentconfig",void 0),__decorate([core_1.Input(),__metadata("design:type",Object)],e.prototype,"componentattributes",void 0),__decorate([core_1.Output(),__metadata("design:type",core_1.EventEmitter)],e.prototype,"componentref",void 0),e=__decorate([core_1.Component({selector:"system-dynamic-component",template:"<div #container></div>"}),__metadata("design:paramtypes",[services_1.metadata])],e)}();exports.SystemDynamicComponent=SystemDynamicComponent;var SystemDynamicRouteContainer=function(){function SystemDynamicRouteContainer(e,t,s,o){this.metadata=e,this.session=t,this.router=s,this.route=o,this.routercomponent=null,this.session&&this.session.authData.sessionId||this.router.navigate(["/login"])}return SystemDynamicRouteContainer.prototype.ngAfterViewInit=function(){var t=this;if(!this.routercomponent){var e=this.metadata.getRouteComponent(this.route.snapshot.routeConfig.path);this.metadata.addComponent(e,this.componentcontainer).subscribe(function(e){t.routercomponent=e})}},__decorate([core_1.ViewChild("componentcontainer",{read:core_1.ViewContainerRef,static:!0}),__metadata("design:type",core_1.ViewContainerRef)],SystemDynamicRouteContainer.prototype,"componentcontainer",void 0),SystemDynamicRouteContainer=__decorate([core_1.Component({selector:"system-dynamicroute-container",template:"<div #componentcontainer></div>"}),__metadata("design:paramtypes",[services_1.metadata,services_1.session,router_1.Router,router_1.ActivatedRoute])],SystemDynamicRouteContainer)}();exports.SystemDynamicRouteContainer=SystemDynamicRouteContainer;var SystemDynamicRouteInterceptor=function(){function e(e,t,s){this.metadata=e,this.route=t,this.router=s,this.routercomponent=null}return e.prototype.ngOnInit=function(){this.router.navigate(["/module/Home"])},__decorate([core_1.ViewChild("componentcontainer",{read:core_1.ViewContainerRef,static:!0}),__metadata("design:type",core_1.ViewContainerRef)],e.prototype,"componentcontainer",void 0),e=__decorate([core_1.Component({selector:"system-dynamicroute-container",template:"<div #componentcontainer></div>"}),__metadata("design:paramtypes",[services_1.metadata,router_1.ActivatedRoute,router_1.Router])],e)}();exports.SystemDynamicRouteInterceptor=SystemDynamicRouteInterceptor;var SystemGooglePlacesAutocomplete=function(){function e(e,t,s,o,i,n){this.language=e,this.backend=t,this.configuration=s,this.elementref=o,this.cdRef=i,this.renderer=n,this.address=new core_1.EventEmitter,this.disabled=!1,this.isenabled=!1,this.autocompletesearchterm="",this.autocompleteTimeout=void 0,this.autocompleteResults=[],this.autocompleteClickListener=void 0,this.displayAutocompleteResults=!1,this.isSearching=!1;var a=this.configuration.getCapabilityConfig("google_api");a.key&&""!=a.key&&(this.isenabled=!0)}return Object.defineProperty(e.prototype,"searchterm",{get:function(){return this.autocompletesearchterm},set:function(e){var t=this;this.autocompletesearchterm=e,this.autocompleteTimeout&&window.clearTimeout(this.autocompleteTimeout),this.autocompleteTimeout=window.setTimeout(function(){return t.doAutocomplete()},500)},enumerable:!0,configurable:!0}),e.prototype.onSearchFocus=function(){1<this.autocompletesearchterm.length&&0<this.autocompleteResults.length&&this.openSearchResults()},e.prototype.openSearchResults=function(){var t=this;this.displayAutocompleteResults=!0,this.autocompleteClickListener=this.renderer.listen("document","click",function(e){return t.onClick(e)}),this.cdRef.detectChanges()},e.prototype.onClick=function(e){this.elementref.nativeElement.contains(e.target)||this.closeSearchResutls()},e.prototype.closeSearchResutls=function(){this.autocompleteClickListener&&this.autocompleteClickListener(),this.displayAutocompleteResults=!1,this.cdRef.detectChanges()},e.prototype.doAutocomplete=function(){var t=this;5<this.autocompletesearchterm.length?(this.isSearching=!0,this.backend.getRequest("googleapi/places/autocomplete/"+this.autocompletesearchterm).subscribe(function(e){e.predictions&&0<e.predictions.length?(t.autocompleteResults=e.predictions,t.openSearchResults()):(t.autocompleteResults=[],t.closeSearchResutls()),t.isSearching=!1},function(e){t.isSearching=!1})):this.closeSearchResutls()},e.prototype.getAddressDetail=function(e){var s=this;this.displayAutocompleteResults=!1,this.autocompletesearchterm="",this.backend.getRequest("googleapi/places/"+e).subscribe(function(e){var t={street:e.address.street,street_name:e.address.street_name,street_number:e.address.street_number,city:e.address.city,district:e.address.district,postalcode:e.address.postalcode,state:e.address.state,country:e.address.country,latitude:parseFloat(e.address.location.lat),longitude:parseFloat(e.address.location.lng)};s.address.emit(t),s.autocompletesearchterm=e.formatted_address,s.cdRef.detectChanges()})},__decorate([core_1.Output(),__metadata("design:type",core_1.EventEmitter)],e.prototype,"address",void 0),__decorate([core_1.Input(),__metadata("design:type",Boolean)],e.prototype,"disabled",void 0),e=__decorate([core_1.Component({selector:"system-googleplaces-autocomplete",template:'<div *ngIf="isenabled" class="slds-form-element"><div class="slds-form-element__control"><div class="slds-combobox_container"><div class="slds-combobox slds-dropdown-trigger slds-dropdown-trigger_click" [ngClass]="{\'slds-is-open\': displayAutocompleteResults}" role="combobox"><div class="slds-combobox__form-element slds-input-has-icon slds-input-has-icon_right" role="none"><input type="text" autocomplete="new-password" class="slds-input slds-combobox__input" [placeholder]="language.getLabel(\'LBL_SEARCH_ADDRESS\')" [(ngModel)]="searchterm" (focus)="onSearchFocus()" [disabled]="disabled"><system-custom-icon icon="google" [desaturate]="!isSearching" addclasses="slds-input__icon slds-input__icon--left"></system-custom-icon></div><div class="slds-dropdown slds-dropdown_length-with-icon-7 slds-dropdown_fluid" role="listbox"><ul class="slds-listbox slds-listbox_vertical" role="presentation"><li *ngFor="let autocompleteResult of autocompleteResults" class="slds-listbox__item" role="presentation" (click)="getAddressDetail(autocompleteResult.place_id)"><div class="slds-lookup__result-text slds-p-around--x-small"><a href="javascript:void(0)">{{autocompleteResult.description}}</a></div></li></ul></div></div></div></div></div>'}),__metadata("design:paramtypes",[services_1.language,services_1.backend,services_1.configurationService,core_1.ElementRef,core_1.ChangeDetectorRef,core_1.Renderer2])],e)}();exports.SystemGooglePlacesAutocomplete=SystemGooglePlacesAutocomplete;var SystemGooglePlacesSearch=function(){function e(e,t,s,o,i){var n=this;this.language=e,this.backend=t,this.configuration=s,this.elementref=o,this.renderer=i,this.details=new core_1.EventEmitter,this.isenabled=!1,this.autocompletesearchterm="",this.autocompleteTimeout=void 0,this.autocompleteResults=[],this.autocompleteClickListener=void 0,this.displayAutocompleteResults=!1,this.isSearching=!1,this.locationbias="ipbias ";var a=this.configuration.getCapabilityConfig("google_api");a.key&&""!=a.key&&(this.isenabled=!0),navigator.geolocation.getCurrentPosition(function(e){n.locationbias="point:"+e.coords.latitude+","+e.coords.longitude}),this.elementref.nativeElement.focus=function(){n.focus()}}var t;return(t=e).prototype.focus=function(){var e=this;setTimeout(function(){e.inputfield.element.nativeElement.tabIndex||(e.inputfield.element.nativeElement.tabIndex="-1"),e.inputfield.element.nativeElement.focus()})},Object.defineProperty(e.prototype,"searchterm",{get:function(){return this.autocompletesearchterm},set:function(e){var t=this;this.autocompletesearchterm=e,this.isenabled&&(this.autocompleteTimeout&&window.clearTimeout(this.autocompleteTimeout),this.autocompleteTimeout=window.setTimeout(function(){return t.doAutocomplete()},500))},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"placeholder",{get:function(){return this.isenabled?this.language.getLabel("LBL_SEARCH"):""},enumerable:!0,configurable:!0}),e.prototype.updateModel=function(){this.onChange(this.autocompletesearchterm)},e.prototype.onSearchFocus=function(){1<this.autocompletesearchterm.length&&0<this.autocompleteResults.length&&this.openSearchResults()},e.prototype.openSearchResults=function(){var t=this;this.displayAutocompleteResults=!0,this.autocompleteClickListener=this.renderer.listen("document","click",function(e){return t.onClick(e)})},e.prototype.onClick=function(e){this.elementref.nativeElement.contains(e.target)||this.closeSearchResutls()},e.prototype.closeSearchResutls=function(){this.autocompleteClickListener&&this.autocompleteClickListener(),this.displayAutocompleteResults=!1,this.autocompleteResults=[]},e.prototype.doAutocomplete=function(){var t=this;if(3<this.autocompletesearchterm.length){this.isSearching=!0;var e=encodeURIComponent(btoa(this.autocompletesearchterm)),s=encodeURIComponent(btoa(this.locationbias));this.backend.getRequest("googleapi/places/search/"+e+"/"+s).subscribe(function(e){e.candidates&&0<e.candidates.length?(t.autocompleteResults=e.candidates,t.openSearchResults()):(t.autocompleteResults=[],t.closeSearchResutls()),t.isSearching=!1},function(e){t.isSearching=!1})}},e.prototype.getDetails=function(e){var t=this;this.displayAutocompleteResults=!1,this.autocompleteResults=[],this.autocompletesearchterm=e.name;e.formatted_address;this.onChange(e.name),this.isSearching=!0,this.backend.getRequest("googleapi/places/"+e.place_id).subscribe(function(e){t.details.emit({address:{street:e.address.street,city:e.address.city,postalcode:e.address.postalcode,state:e.address.state,country:e.address.country,latitude:parseFloat(e.address.location.lat),longitude:parseFloat(e.address.location.lng)},formatted_phone_number:e.formatted_phone_number,formatted_address:e.formatted_address,international_phone_number:e.international_phone_number,website:e.website,name:e.name}),t.isSearching=!1},function(e){t.isSearching=!1})},e.prototype.registerOnChange=function(e){this.onChange=e},e.prototype.registerOnTouched=function(e){this.onTouched=e},e.prototype.writeValue=function(e){this.autocompletesearchterm=e||""},__decorate([core_1.ViewChild("inputfield",{read:core_1.ViewContainerRef,static:!0}),__metadata("design:type",core_1.ViewContainerRef)],e.prototype,"inputfield",void 0),__decorate([core_1.Output(),__metadata("design:type",core_1.EventEmitter)],e.prototype,"details",void 0),e=t=__decorate([core_1.Component({selector:"system-googleplaces-search",template:'<div class="slds-form-element"><div class="slds-form-element__control"><div class="slds-combobox_container"><div class="slds-combobox slds-dropdown-trigger slds-dropdown-trigger_click" [ngClass]="{\'slds-is-open\': displayAutocompleteResults}" role="combobox"><div class="slds-combobox__form-element slds-input-has-icon slds-input-has-icon_right" role="none"><input #inputfield type="text" class="slds-input slds-combobox__input" [placeholder]="placeholder" [(ngModel)]="searchterm" (focus)="onSearchFocus()" (blur)="updateModel()"><system-custom-icon *ngIf="isenabled" [desaturate]="!isSearching" icon="google" addclasses="slds-input__icon slds-input__icon--left"></system-custom-icon></div><div class="slds-dropdown slds-dropdown_length-with-icon-7 slds-dropdown_fluid" role="listbox"><ul class="slds-listbox slds-listbox_vertical" role="presentation"><li *ngFor="let autocompleteResult of autocompleteResults" class="slds-listbox__item" role="presentation" (click)="getDetails(autocompleteResult)"><div class="slds-lookup__result-text slds-p-around--x-small"><a href="javascript:void(0)">{{autocompleteResult.name}}, {{autocompleteResult.formatted_address}}</a></div></li></ul></div></div></div></div></div>',providers:[{provide:forms_1.NG_VALUE_ACCESSOR,useExisting:core_1.forwardRef(function(){return t}),multi:!0}],host:{focus:"focus()"}}),__metadata("design:paramtypes",[services_1.language,services_1.backend,services_1.configurationService,core_1.ElementRef,core_1.Renderer2])],e)}();exports.SystemGooglePlacesSearch=SystemGooglePlacesSearch;var SystemIcon=function(){function e(e){this.metadata=e,this.module="",this.icon="",this.size="",this.sprite="standard",this.addclasses="",this.divClass="slds-media__figure"}return e.prototype.getSizeClass=function(){return this.size?"slds-icon--"+this.size:""},e.prototype.getSvgHRef=function(){return"./vendor/sldassets/icons/"+this.getSprite()+"-sprite/svg/symbols.svg#"+this.getIcon()},e.prototype.getIconClass=function(){switch(this.sprite){case"standard":case"action":case"custom":return"slds-icon"+(this.size?" slds-icon--"+this.size:"")+" slds-icon-"+this.getSprite()+"-"+this.getIcon().replace(/_/g,"-")+" "+this.addclasses;default:return"slds-icon"+(this.size?" slds-icon--"+this.size:"")+" slds-icon-text-default "+this.addclasses}},e.prototype.getIcon=function(){if(this.icon)return 0<this.icon.indexOf(":")?this.icon.split(":")[1]:this.icon;if(this.module&&this.metadata.getModuleIcon(this.module)){var e=this.metadata.getModuleIcon(this.module);return 0<e.indexOf(":")?e.split(":")[1]:e}return"empty"},e.prototype.getSprite=function(){return this.icon&&0<this.icon.indexOf(":")?this.icon.split(":")[0]:this.module&&this.metadata.getModuleIcon(this.module)&&0<this.metadata.getModuleIcon(this.module).indexOf(":")?this.metadata.getModuleIcon(this.module).split(":")[0]:this.sprite},__decorate([core_1.Input(),__metadata("design:type",String)],e.prototype,"module",void 0),__decorate([core_1.Input(),__metadata("design:type",String)],e.prototype,"icon",void 0),__decorate([core_1.Input(),__metadata("design:type",String)],e.prototype,"size",void 0),__decorate([core_1.Input(),__metadata("design:type",String)],e.prototype,"sprite",void 0),__decorate([core_1.Input(),__metadata("design:type",String)],e.prototype,"addclasses",void 0),__decorate([core_1.Input(),__metadata("design:type",Object)],e.prototype,"divClass",void 0),e=__decorate([core_1.Component({selector:"system-icon",template:'<div [ngClass]="divClass"><svg aria-hidden="true" [ngClass]="getIconClass()"><use [attr.xlink:href]="getSvgHRef()"></use></svg></div>'}),__metadata("design:paramtypes",[services_1.metadata])],e)}();exports.SystemIcon=SystemIcon;var SystemFileIcon=function(){function e(e,t){this.metadata=e,this.helper=t,this.filemimetype="",this.filename="",this.size="",this.addclasses="",this.divClass="slds-media__figure",this.fileicon={icon:"unknown",sprite:"doctype"}}return e.prototype.ngOnInit=function(){this.determineIcon()},e.prototype.determineIcon=function(){var e=this.helper.determineFileIcon(this.filemimetype);if("unknown"==e)switch(this.filename.split(".").splice(-1,1)[0].toLowerCase()){case"msg":return void(this.fileicon={icon:"email",sprite:"standard"})}this.fileicon={icon:e,sprite:"doctype"}},__decorate([core_1.Input(),__metadata("design:type",String)],e.prototype,"filemimetype",void 0),__decorate([core_1.Input(),__metadata("design:type",String)],e.prototype,"filename",void 0),__decorate([core_1.Input(),__metadata("design:type",String)],e.prototype,"size",void 0),__decorate([core_1.Input(),__metadata("design:type",String)],e.prototype,"addclasses",void 0),__decorate([core_1.Input(),__metadata("design:type",Object)],e.prototype,"divClass",void 0),e=__decorate([core_1.Component({selector:"system-file-icon",template:'<system-icon [icon]="fileicon.icon" [divClass]="divClass" [sprite]="fileicon.sprite" [size]="size"></system-icon>'}),__metadata("design:paramtypes",[services_1.metadata,services_1.helper])],e)}();exports.SystemFileIcon=SystemFileIcon;var SystemIllustrationNoAccess=function(){function e(e){this.language=e}return e=__decorate([core_1.Component({selector:"system-illustration-no-access",template:'<div class="slds-illustration slds-illustration_small"><svg class="slds-illustration__svg" viewBox="0 0 454 212" aria-hidden="true" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink"><g stroke="none" stroke-width="1" fill="none" fill-rule="evenodd"><g transform="translate(-70.000000, -95.000000)"><g><g transform="translate(124.500000, 222.000000)"><g fill="#FFFFFF"><path vector-effect="non-scaling-stroke" d="M18.9209988,1.95433401 L33.259296,51.443436 C33.5666778,52.5043744 32.9557995,53.613617 31.8948612,53.9209988 C31.7139843,53.9734036 31.5266126,54 31.3382972,54 L2.6617028,54 C1.5571333,54 0.661702805,53.1045695 0.661702805,52 C0.661702805,51.8116846 0.688299176,51.6243129 0.74070397,51.443436 L15.0790012,1.95433401 C15.386383,0.893395645 16.4956256,0.282517358 17.556564,0.589899164 C18.2152102,0.780726338 18.7301717,1.29568777 18.9209988,1.95433401 Z"></path></g><g class="slds-illustration__stroke-secondary" stroke-linecap="round" stroke-width="3"><polygon vector-effect="non-scaling-stroke" stroke-linejoin="round" points="17 0.323943662 34 54 -1.81721305e-12 54"></polygon><path vector-effect="non-scaling-stroke" d="M17,4.6953125 C17,43.0456294 17,62.6471919 17,63.5 C17,62.6471919 17,43.0456294 17,4.6953125 Z"></path><path vector-effect="non-scaling-stroke" d="M17,29.3239437 C22.3333333,35.7851611 25,39.1184944 25,39.3239437 C25,39.1184944 22.3333333,35.7851611 17,29.3239437 Z" stroke-linejoin="round" transform="translate(21.000000, 34.323944) scale(-1, 1) translate(-21.000000, -34.323944)"></path></g></g><g transform="translate(145.000000, 194.000000)"><g transform="translate(1.000000, 0.000000)" fill="#FFFFFF"><path vector-effect="non-scaling-stroke" d="M25.6478873,0 L50.879042,84.4273253 C51.1953215,85.4856452 50.5937789,86.5999782 49.535459,86.9162577 C49.3496374,86.9717906 49.1567264,87 48.9627843,87 L2.33299037,87 C1.22842087,87 0.332990367,86.1045695 0.332990367,85 C0.332990367,84.8060578 0.361199757,84.6131469 0.416732643,84.4273253 L25.6478873,0 Z"></path></g><g class="slds-illustration__stroke-secondary" stroke-linecap="round" stroke-width="3"><polygon vector-effect="non-scaling-stroke" stroke-linejoin="round" points="26.5 0 52.5 87 0.5 87"></polygon><path vector-effect="non-scaling-stroke" d="M26.5,2.58642578 C26.5,61.0261034 26.5,90.9972948 26.5,92.5 C26.5,90.9972948 26.5,61.0261034 26.5,2.58642578 Z"></path><path vector-effect="non-scaling-stroke" d="M15.6478873,42 C22.314554,49.078692 25.6478873,52.7453587 25.6478873,53 C25.6478873,52.7453587 22.314554,49.078692 15.6478873,42 Z" stroke-linejoin="round"></path><path vector-effect="non-scaling-stroke" d="M27.6478873,68 C36.9812207,57.078692 41.6478873,51.7453587 41.6478873,52 C41.6478873,51.7453587 36.9812207,57.078692 27.6478873,68 Z" stroke-linejoin="round"></path></g></g><g transform="translate(404.500000, 245.000000) scale(-1, 1) translate(-404.500000, -245.000000) translate(348.000000, 226.000000)" class="slds-illustration__stroke-secondary" stroke-linecap="round" stroke-linejoin="round" stroke-width="3"><g><polyline vector-effect="non-scaling-stroke" points="0 38 47.5 0 80.5 26"></polyline><polyline vector-effect="non-scaling-stroke" points="71 17 80.5 9 113 36"></polyline></g></g><g transform="translate(72.000000, 262.500000)"><path vector-effect="non-scaling-stroke" d="M153.962142,26.4644491 C151.225735,20.0143094 144.944776,15.5029106 137.633892,15.5029106 C135.619663,15.5029106 133.683612,15.8453541 131.878328,16.4764392 C128.451481,11.1704266 122.567406,7.66985447 115.883789,7.66985447 C109.491267,7.66985447 103.830159,10.8721423 100.350851,15.7935668 C98.9589956,14.968161 97.3423157,14.4956341 95.6177606,14.4956341 C94.1083143,14.4956341 92.6815102,14.8576334 91.4157672,15.5014039 C87.9975328,6.58722215 79.5098304,0.275259875 69.5804557,0.275259875 C60.4632836,0.275259875 52.5615782,5.59684366 48.6837305,13.3681823 C46.3912034,12.266973 43.8314865,11.6515593 41.1312741,11.6515593 C32.4373504,11.6515593 25.1998844,18.0312998 23.6476214,26.4644491 L153.962142,26.4644491 Z" class="slds-illustration__fill-secondary"></path><path vector-effect="non-scaling-stroke" d="M13,25 L143,25" class="slds-illustration__stroke-secondary" stroke-width="3" stroke-linecap="round"></path><path vector-effect="non-scaling-stroke" d="M0,25 L450,25" class="slds-illustration__stroke-secondary" stroke-width="3" stroke-linecap="round"></path></g><g transform="translate(344.000000, 247.000000)"><g transform="translate(0.293436, 0.054545)"><path vector-effect="non-scaling-stroke" d="M165.428708,41.9454545 L0.0995432562,41.9454545 C0.0336614956,41.2089487 0,40.4630069 0,39.7090909 C0,26.2132599 10.7866531,15.2727273 24.0926641,15.2727273 C27.7492016,15.2727273 31.215485,16.0989227 34.3199502,17.5772977 C39.5712028,7.14424616 50.271428,0 62.6175975,0 C76.0636257,0 87.5573893,8.47383452 92.1862485,20.441159 C93.9002755,19.5768947 95.8324059,19.0909091 97.8764479,19.0909091 C100.211783,19.0909091 102.401037,19.7252784 104.285841,20.8333889 C108.997403,14.2263569 116.663488,9.92727273 125.320028,9.92727273 C138.043441,9.92727273 148.627152,19.2146805 150.834755,31.4671412 C151.487388,31.3631046 152.156394,31.3090909 152.837838,31.3090909 C159.117096,31.3090909 164.340238,35.8953699 165.428708,41.9454545 Z" class="slds-illustration__fill-secondary"></path><path vector-effect="non-scaling-stroke" d="M32.7065637,40.4454545 L173.706564,40.4454545" class="slds-illustration__stroke-secondary" stroke-width="3" stroke-linecap="round"></path></g></g><g transform="translate(105.000000, 203.000000)"><g transform="translate(106.000000, 0.000000)" fill="#FFFFFF"><polygon vector-effect="non-scaling-stroke" points="121.5 48.5 158.5 48.5 158.5 34.5 47.5 34.5 47.5 48.5 93.5 48.5 93.5 69.5 121.5 69.5 121.5 48.5"></polygon><path vector-effect="non-scaling-stroke" d="M33.9882812,0.21875 C36.5611979,0.21875 70.6126302,0.21875 136.142578,0.21875 L152.384766,11.1132813 C155.083088,16.811292 155.656656,19.677503 154.105469,19.7119141 C152.554281,19.7463252 116.293865,17.6717809 45.3242187,13.4882812 C35.1940104,4.64192708 31.4153646,0.21875 33.9882812,0.21875 Z"></path><path vector-effect="non-scaling-stroke" d="M32.6708984,2.02246094 L21.5554199,0.374195518 L17.6036034,0.374195518 L5.77148437,7.90429688 C3.09089817,12.6737672 3.09089817,15.2284547 5.77148437,15.5683594 C8.45207058,15.9082641 16.1278518,14.3268839 28.7988281,10.8242188 L42.9921875,7.90429688 L41.0699892,5.68448183 L32.6708984,2.02246094 Z"></path><rect x="0" y="34" width="48" height="14"></rect></g><g transform="translate(106.000000, 5.000000)" class="slds-illustration__fill-secondary"><polygon vector-effect="non-scaling-stroke" points="93.3109375 43.4566406 93.3109375 64.6722656 120.925 64.6722656 121.823047 44.1324219 158.5 43.4566406 158.5 97.5 48.5 97.5 48.5 43.6933594"></polygon><path vector-effect="non-scaling-stroke" d="M132.670898,7.66300119e-19 C125.172201,-2.55433373e-19 94.1907552,-2.55433373e-19 39.7265625,7.66300119e-19 L31.8183594,12.5058594 L29.7050781,28.2714844 L157.78125,28.2714844 L157.78125,15.4775391 C148.539714,5.15917969 140.169596,1.78803361e-18 132.670898,7.66300119e-19 Z"></path><path vector-effect="non-scaling-stroke" d="M37.8266602,0 C34.4632704,0 29.4181858,0 22.6914062,0 C16.1624349,0 9.53808594,3.83528646 2.81835938,11.5058594 L0.705078125,30.2714844 L48.4101562,30.2714844 L48.4101562,14.4775391 L48.1789909,12.3275853 C43.283405,4.10919509 39.832628,0 37.8266602,0 Z"></path><rect x="0.5" y="43.5" width="48" height="54"></rect></g><g><rect class="slds-illustration__stroke-primary" stroke-width="3" stroke-linecap="round" stroke-linejoin="round" x="154.5" y="34.5" width="110" height="68"></rect><polygon vector-effect="non-scaling-stroke" class="slds-illustration__stroke-primary" stroke-width="3" stroke-linecap="round" stroke-linejoin="round" points="264.5 48.5 264.5 34.5 154.5 34.5 154.5 48.5 199.5 48.5 199.5 69.5 227.5 69.5 227.5 48.5"></polygon><path vector-effect="non-scaling-stroke" d="M130.5,0.5 L234.5,0.5 C251.068542,0.5 264.5,13.9314575 264.5,30.5 L264.5,34.5 L106.5,34.5 L106.5,24.5 C106.5,11.245166 117.245166,0.5 130.5,0.5 Z" class="slds-illustration__stroke-primary" stroke-width="3" stroke-linecap="round" stroke-linejoin="round"></path><path vector-effect="non-scaling-stroke" d="M130.5,0.5 L130.5,0.5 C143.754834,0.5 154.5,11.245166 154.5,24.5 L154.5,34.5 L106.5,34.5 L106.5,24.5 C106.5,11.245166 117.245166,0.5 130.5,0.5 Z" class="slds-illustration__stroke-primary" stroke-width="3" stroke-linecap="round" stroke-linejoin="round"></path><rect class="slds-illustration__stroke-primary" stroke-width="3" stroke-linecap="round" stroke-linejoin="round" x="106.5" y="48.5" width="48" height="54"></rect><rect class="slds-illustration__stroke-primary" stroke-width="3" stroke-linecap="round" stroke-linejoin="round" x="106.5" y="34.5" width="48" height="14"></rect><path vector-effect="non-scaling-stroke" d="M219,52 C219,54.765 216.765,57 214,57 C211.235,57 209,54.765 209,52 C209,49.235 211.235,47 214,47 C216.765,47 219,49.235 219,52 Z" class="slds-illustration__fill-primary"></path><path vector-effect="non-scaling-stroke" d="M214,55 L214,60" class="slds-illustration__stroke-primary" stroke-width="4" stroke-linecap="round"></path><circle vector-effect="non-scaling-stroke" class="slds-illustration__fill-primary" cx="164" cy="58" r="3"></circle><circle vector-effect="non-scaling-stroke" class="slds-illustration__fill-primary" cx="164" cy="93" r="3"></circle><circle vector-effect="non-scaling-stroke" class="slds-illustration__fill-primary" cx="255" cy="58" r="3"></circle><circle vector-effect="non-scaling-stroke" class="slds-illustration__fill-primary" cx="255" cy="93" r="3"></circle><circle vector-effect="non-scaling-stroke" class="slds-illustration__fill-primary" cx="145" cy="58" r="3"></circle><circle vector-effect="non-scaling-stroke" class="slds-illustration__fill-primary" cx="145" cy="93" r="3"></circle><circle vector-effect="non-scaling-stroke" class="slds-illustration__fill-primary" cx="116" cy="58" r="3"></circle><circle vector-effect="non-scaling-stroke" class="slds-illustration__fill-primary" cx="116" cy="93" r="3"></circle><path vector-effect="non-scaling-stroke" d="M289.928751,82.2971422 L298,102.518658 L280,102.518658 L288.071249,82.2971422 C288.275982,81.784207 288.857768,81.5343604 289.370703,81.7390942 C289.625359,81.8407378 289.827108,82.0424867 289.928751,82.2971422 Z" class="slds-illustration__fill-primary"></path><path vector-effect="non-scaling-stroke" d="M300.428751,89.8132712 L305.5,102.518658 L293.5,102.518658 L298.571249,89.8132712 C298.775982,89.300336 299.357768,89.0504894 299.870703,89.2552232 C300.125359,89.3568668 300.327108,89.5586158 300.428751,89.8132712 Z" class="slds-illustration__fill-primary"></path><path vector-effect="non-scaling-stroke" d="M93.4287513,82.2971422 L101.5,102.518658 L83.5,102.518658 L91.5712487,82.2971422 C91.7759825,81.784207 92.3577681,81.5343604 92.8707033,81.7390942 C93.1253588,81.8407378 93.3271077,82.0424867 93.4287513,82.2971422 Z" class="slds-illustration__fill-primary" transform="translate(92.500000, 92.517446) scale(-1, 1) translate(-92.500000, -92.517446)"></path><path vector-effect="non-scaling-stroke" d="M76.9287513,89.8132712 L82,102.518658 L70,102.518658 L75.0712487,89.8132712 C75.2759825,89.300336 75.8577681,89.0504894 76.3707033,89.2552232 C76.6253588,89.3568668 76.8271077,89.5586158 76.9287513,89.8132712 Z" class="slds-illustration__fill-primary" transform="translate(76.000000, 96.275510) scale(-1, 1) translate(-76.000000, -96.275510)"></path><path vector-effect="non-scaling-stroke" d="M360,102.5 L372,102.5" class="slds-illustration__stroke-primary" stroke-width="3" stroke-linecap="round" stroke-linejoin="round"></path><path vector-effect="non-scaling-stroke" d="M0,102.5 L350,102.5" class="slds-illustration__stroke-primary" stroke-width="3" stroke-linecap="round" stroke-linejoin="round"></path></g></g><g transform="translate(150.000000, 96.000000)" class="slds-illustration__stroke-secondary" stroke-linecap="round" stroke-width="3"><path vector-effect="non-scaling-stroke" d="M44,17.5 L63,17.5 C62.2789714,12.0723971 64.081543,7.53186978 68.4077148,3.87841797 C73.3754883,-0.195556641 79.2734375,0.717773438 82.440918,2.12353516 C85.6083984,3.52929687 87.9606934,5.46069336 89.5913086,9.10524041 C90.2822266,10.6397351 90.7517904,11.9379883 91,13"></path><path vector-effect="non-scaling-stroke" d="M83,20.5 C84.0558268,16.8461914 86.2227376,14.4572754 89.5007324,13.333252 C94.4177246,11.6472168 99.0800781,13.8925781 100.942383,16.1518555 C102.804687,18.4111328 103.39502,20.2260742 103.746582,22.1201172 C103.980957,23.3828125 104.06543,24.8427734 104,26.5 C108.141764,26.3313802 110.918945,27.1647135 112.331543,29 C114.040039,31.1936035 114.215332,33.817627 113.593018,35.75 C112.970703,37.682373 110.894531,40.5 107,40.5 L28,40.5"></path><path vector-effect="non-scaling-stroke" d="M18,27.5 L83.0004985,27.5"></path><path vector-effect="non-scaling-stroke" d="M0,27.5 L8,27.5"></path></g><g transform="translate(271.000000, 135.000000)" class="slds-illustration__stroke-secondary" stroke-linecap="round" stroke-width="3"><g><path vector-effect="non-scaling-stroke" d="M44,17.5 L63,17.5 C62.2789714,12.0723971 64.081543,7.53186978 68.4077148,3.87841797 C73.3754883,-0.195556641 79.2734375,0.717773438 82.440918,2.12353516 C85.6083984,3.52929687 87.9606934,5.46069336 89.5913086,9.10524041 C90.2822266,10.6397351 90.7517904,11.9379883 91,13"></path><path vector-effect="non-scaling-stroke" d="M83,20.5 C84.0558268,16.8461914 86.2227376,14.4572754 89.5007324,13.333252 C94.4177246,11.6472168 99.0800781,13.8925781 100.942383,16.1518555 C102.804687,18.4111328 103.39502,20.2260742 103.746582,22.1201172 C103.980957,23.3828125 104.06543,24.8427734 104,26.5 C108.141764,26.3313802 110.918945,27.1647135 112.331543,29 C114.040039,31.1936035 114.215332,33.817627 113.593018,35.75 C112.970703,37.682373 110.894531,40.5 107,40.5 L28,40.5"></path><path vector-effect="non-scaling-stroke" d="M18,27.5 L83.0004985,27.5"></path><path vector-effect="non-scaling-stroke" d="M0,27.5 L8,27.5"></path></g></g><g transform="translate(402.000000, 164.000000)" class="slds-illustration__stroke-secondary" stroke-linecap="round" stroke-width="3"><g transform="translate(31.713442, 25.088326) rotate(-15.000000) translate(-31.713442, -25.088326) translate(4.713442, 6.588326)"><path vector-effect="non-scaling-stroke" d="M31.0360707,3.43528591 C31.0360707,3.43528591 40.5802283,0.671893051 42.6488424,10.6908663" transform="translate(36.842457, 6.888440) rotate(41.000000) translate(-36.842457, -6.888440)"></path><path vector-effect="non-scaling-stroke" d="M40.4282002,10.1797377 C40.4282002,10.1797377 49.9723578,7.4163448 52.0409719,17.435318" transform="translate(46.234586, 13.632892) scale(-1, 1) rotate(-41.000000) translate(-46.234586, -13.632892)"></path><path vector-effect="non-scaling-stroke" d="M0.730284783,29.5865514 C0.730284783,29.5865514 10.2744424,26.8231586 12.3430565,36.8421318"></path><path vector-effect="non-scaling-stroke" d="M12.7302848,29.5865514 C12.7302848,29.5865514 22.2744424,26.8231586 24.3430565,36.8421318" transform="translate(18.536671, 33.039705) scale(-1, 1) translate(-18.536671, -33.039705)"></path></g></g></g></g></g></svg><div class="slds-text-longform"><h3 class="slds-text-heading--small"><system-label label="LBL_NO_ACCESS"></system-label></h3></div></div>'}),__metadata("design:paramtypes",[services_1.language])],e)}();exports.SystemIllustrationNoAccess=SystemIllustrationNoAccess;var SystemIllustrationNoData=function(){function e(){}return e=__decorate([core_1.Component({selector:"system-illustration-no-data",template:'<div class="slds-illustration slds-illustration_small"><svg class="slds-illustration__svg" viewBox="0 0 468 194" aria-hidden="true" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink"><g stroke="none" stroke-width="1" fill="none" fill-rule="evenodd"><g transform="translate(-67.000000, -112.000000)"><g><g transform="translate(245.000000, 200.000000)" class="slds-illustration__stroke-secondary" stroke-linecap="round" stroke-width="3"><path vector-effect="non-scaling-stroke" d="M44,17.5 L63,17.5 C62.2789714,12.0723971 64.081543,7.53186978 68.4077148,3.87841797 C73.3754883,-0.195556641 79.2734375,0.717773438 82.440918,2.12353516 C85.6083984,3.52929687 87.9606934,5.46069336 89.5913086,9.10524041 C90.2822266,10.6397351 90.7517904,11.9379883 91,13"></path><path vector-effect="non-scaling-stroke" d="M83,20.5 C84.0558268,16.8461914 86.2227376,14.4572754 89.5007324,13.333252 C94.4177246,11.6472168 99.0800781,13.8925781 100.942383,16.1518555 C102.804687,18.4111328 103.39502,20.2260742 103.746582,22.1201172 C103.980957,23.3828125 104.06543,24.8427734 104,26.5 C108.141764,26.3313802 110.918945,27.1647135 112.331543,29 C114.040039,31.1936035 114.215332,33.817627 113.593018,35.75 C112.970703,37.682373 110.894531,40.5 107,40.5 L28,40.5"></path><path vector-effect="non-scaling-stroke" d="M18,27.5 L83.0004985,27.5"></path><path vector-effect="non-scaling-stroke" d="M0,27.5 L8,27.5"></path></g><g transform="translate(135.000000, 152.000000)" class="slds-illustration__stroke-secondary" stroke-linecap="round" stroke-width="3"><path vector-effect="non-scaling-stroke" d="M44,17.5 L63,17.5 C62.2789714,12.0723971 64.081543,7.53186978 68.4077148,3.87841797 C73.3754883,-0.195556641 79.2734375,0.717773438 82.440918,2.12353516 C85.6083984,3.52929687 87.9606934,5.46069336 89.5913086,9.10524041 C90.2822266,10.6397351 90.7517904,11.9379883 91,13"></path><path vector-effect="non-scaling-stroke" d="M83,20.5 C84.0558268,16.8461914 86.2227376,14.4572754 89.5007324,13.333252 C94.4177246,11.6472168 99.0800781,13.8925781 100.942383,16.1518555 C102.804687,18.4111328 103.39502,20.2260742 103.746582,22.1201172 C103.980957,23.3828125 104.06543,24.8427734 104,26.5 C108.141764,26.3313802 110.918945,27.1647135 112.331543,29 C114.040039,31.1936035 114.215332,33.817627 113.593018,35.75 C112.970703,37.682373 110.894531,40.5 107,40.5 L28,40.5"></path><path vector-effect="non-scaling-stroke" d="M18,27.5 L83.0004985,27.5"></path><path vector-effect="non-scaling-stroke" d="M0,27.5 L8,27.5"></path></g><g transform="translate(69.000000, 256.000000)" class="slds-illustration__stroke-secondary" stroke-linecap="round" stroke-width="3"><path vector-effect="non-scaling-stroke" d="M14,36.5 L464,36.5"></path><path vector-effect="non-scaling-stroke" d="M0,36.5 L6,36.5"></path><polyline vector-effect="non-scaling-stroke" stroke-linejoin="round" points="234.5 36 279.5 0 313.5 26"></polyline><path vector-effect="non-scaling-stroke" d="M279.5,1 L279.5,35" stroke-linejoin="round"></path><path vector-effect="non-scaling-stroke" d="M313.5,11 C313.5,20.7437888 313.5,25.7437888 313.5,26 C313.5,25.7437888 313.5,20.7437888 313.5,11 Z" stroke-linejoin="round"></path><polyline vector-effect="non-scaling-stroke" stroke-linejoin="round" points="303.5 17 313.5 9 347.5 36"></polyline></g><g transform="translate(113.000000, 178.000000)"><g transform="translate(30.000000, 8.000000)" class="slds-illustration__fill-secondary"><path vector-effect="non-scaling-stroke" d="M29.5,60.5 L29.5,12 C29.5,5.372583 34.872583,0 41.5,0 C48.127417,0 53.5,5.372583 53.5,12 L53.5,40.5 L70.5,40.5 L70.5,27 C70.5,23.1340068 73.6340068,20 77.5,20 C81.3659932,20 84.5,23.1340068 84.5,27 L84.5,48.5 C84.5,51.8137085 81.8137085,54.5 78.5,54.5 L53.5,54.5 L53.5,118.5 L29.5,118.5 L29.5,74.5 L6.5,74.5 C3.1862915,74.5 0.5,71.8137085 0.5,68.5 L0.5,39 C0.5,35.1340068 3.63400675,32 7.5,32 C11.3659932,32 14.5,35.1340068 14.5,39 L14.5,60.5 L29.5,60.5 Z"></path></g><g transform="translate(59.000000, 7.000000)" fill="#FFFFFF"><path vector-effect="non-scaling-stroke" d="M2,11 C3.65332031,8.49145508 5.65181478,6.77364095 7.9954834,5.84655762 C11.5109863,4.45593262 15.2684326,4.95605469 17.8156738,6.2824707 C20.362915,7.60888672 22.3626709,9.64978027 23.2602539,11.81604 C23.8586426,13.2602132 23.8586426,11.7547201 23.2602539,7.29956055 L19.612793,3.56494141 L13.7923584,0.564331055 L8.765625,1.42663574 L4.67321777,3.19787598 C2.69893392,5.13902708 1.69559733,6.16722532 1.66320801,6.2824707 C1.61462402,6.45533878 0.856079102,9.49145508 0.813964844,9.66003418 C0.785888672,9.77242025 1.18123372,10.2190755 2,11 Z"></path></g><g class="slds-illustration__stroke-primary" stroke-width="3"><path vector-effect="non-scaling-stroke" d="M0,126.5 L356,126.5" stroke-linecap="round"></path><path vector-effect="non-scaling-stroke" d="M362.5,126.5 L372.013149,126.5" stroke-linecap="round"></path><path vector-effect="non-scaling-stroke" d="M107.5,20 L107.5,28" stroke-linecap="round"></path><path vector-effect="non-scaling-stroke" d="M113,30.6568542 L118.656854,25" stroke-linecap="round"></path><path vector-effect="non-scaling-stroke" d="M37.5,32 L37.5,40" stroke-linecap="round"></path><path vector-effect="non-scaling-stroke" d="M44,42.6568542 L49.6568542,37" stroke-linecap="round"></path><path vector-effect="non-scaling-stroke" d="M25,42.6568542 L30.6568542,37" stroke-linecap="round" transform="translate(27.828427, 39.828427) scale(-1, 1) translate(-27.828427, -39.828427)"></path><path vector-effect="non-scaling-stroke" d="M71.5,0 L71.5,8" stroke-linecap="round"></path><path vector-effect="non-scaling-stroke" d="M79,10.6568542 L84.6568542,5" stroke-linecap="round"></path><path vector-effect="non-scaling-stroke" d="M58,10.6568542 L63.6568542,5" stroke-linecap="round" transform="translate(60.828427, 7.828427) scale(-1, 1) translate(-60.828427, -7.828427)"></path><path vector-effect="non-scaling-stroke" d="M59.5,68.5 L59.5,20 C59.5,13.372583 64.872583,8 71.5,8 C78.127417,8 83.5,13.372583 83.5,20 L83.5,48.5 L100.5,48.5 L100.5,35 C100.5,31.1340068 103.634007,28 107.5,28 C111.365993,28 114.5,31.1340068 114.5,35 L114.5,56.5 C114.5,59.8137085 111.813708,62.5 108.5,62.5 L83.5,62.5 L83.5,126.5 L59.5,126.5 L59.5,82.5 L36.5,82.5 C33.1862915,82.5 30.5,79.8137085 30.5,76.5 L30.5,47 C30.5,43.1340068 33.6340068,40 37.5,40 C41.3659932,40 44.5,43.1340068 44.5,47 L44.5,68.5 L59.5,68.5 Z"></path><path vector-effect="non-scaling-stroke" d="M77,88.5 L92.5,88.5 L92.5,81 C92.5,77.1340068 95.6340068,74 99.5,74 L99.5,74 C103.365993,74 106.5,77.1340068 106.5,81 L106.5,96.5 C106.5,99.8137085 103.813708,102.5 100.5,102.5 L77,102.5" class="slds-illustration__fill-secondary" stroke-linecap="round" stroke-linejoin="round"></path></g></g><g transform="translate(429.000000, 242.000000)" class="slds-illustration__stroke-secondary" stroke-linecap="round" stroke-width="3"><g><path vector-effect="non-scaling-stroke" d="M12.5,4 L12.5,50"></path><polyline vector-effect="non-scaling-stroke" stroke-linejoin="round" points="11 18.5 0.5 18.5 0.5 0"></polyline><polyline vector-effect="non-scaling-stroke" stroke-linejoin="round" points="14 25.5 24.5 25.5 24.5 8"></polyline><polyline vector-effect="non-scaling-stroke" stroke-linejoin="round" points="2.5 31 2.5 38.5 11 38.5"></polyline></g></g><g transform="translate(327.000000, 95.000000)"><g><circle vector-effect="non-scaling-stroke" class="slds-illustration__fill-secondary" cx="64" cy="64" r="23"></circle><circle vector-effect="non-scaling-stroke" class="slds-illustration__stroke-secondary" stroke-width="3" stroke-linecap="round" stroke-linejoin="round" stroke-dasharray="135,1,1,18" transform="translate(64.000000, 64.000000) rotate(230.000000) translate(-64.000000, -64.000000)" cx="64" cy="64" r="45"></circle><circle vector-effect="non-scaling-stroke" class="slds-illustration__stroke-secondary" stroke-width="3" stroke-linecap="round" stroke-linejoin="round" stroke-dasharray="107,10" transform="translate(64.000000, 64.000000) rotate(150.000000) translate(-64.000000, -64.000000)" cx="64" cy="64" r="33"></circle></g><g transform="translate(41.000000, 41.000000)" class="slds-illustration__stroke-primary" stroke-width="3"><circle vector-effect="non-scaling-stroke" cx="23" cy="23" r="23"></circle></g></g></g></g></g></svg><div class="slds-text-longform"><h3 class="slds-text-heading_small"><ng-content></ng-content></h3></div></div>'})],e)}();exports.SystemIllustrationNoData=SystemIllustrationNoData;var SystemIllustrationNoRecords=function(){function e(){}return e=__decorate([core_1.Component({selector:"system-illustration-no-records",template:'<div class="slds-illustration slds-illustration_small"><svg class="slds-illustration__svg" viewBox="0 0 454 272" aria-hidden="true" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink"><g fill="none" fill-rule="evenodd" transform="translate(-65 -74)"><g transform="translate(77 180)"><polyline vector-effect="non-scaling-stroke" class="slds-illustration__stroke-secondary" stroke-linecap="round" stroke-linejoin="round" stroke-width="3" points="21 74 111.5 0 177.5 54"></polyline><polyline vector-effect="non-scaling-stroke" class="slds-illustration__stroke-secondary" stroke-linecap="round" stroke-linejoin="round" stroke-width="3" points="160 37 181.5 19 249 74"></polyline><path vector-effect="non-scaling-stroke" class="slds-illustration__fill-secondary" d="M5.83623454,54.8238008 C6.47896445,52.7119739 7.52041887,52.7099477 8.16376546,54.8238008 L14,74 L0,74 L5.83623454,54.8238008 Z"></path><path vector-effect="non-scaling-stroke" class="slds-illustration__fill-secondary" d="M14.9699006 61.8628727C15.5388088 59.729467 16.4627585 59.7353443 17.0300994 61.8628727L20 73 12 73 14.9699006 61.8628727zM239.734375 56.5589921C240.43336 54.4620359 241.506942 54.4857215 242.128332 56.5984458L246 69.7621171 237 64.7621171 239.734375 56.5589921z"></path><path vector-effect="non-scaling-stroke" class="slds-illustration__fill-secondary" d="M247.921591,53.8514618 C248.51718,51.7243582 249.484912,51.7318303 250.077772,53.8491859 L254.357732,69.1347569 L242,75 L247.921591,53.8514618 Z" transform="matrix(-1 0 0 1 496.358 0)"></path></g><g transform="matrix(-1 0 0 1 496 216)"><path vector-effect="non-scaling-stroke" class="slds-illustration__fill-secondary" d="M5.9215907,18.8514618 C6.51717971,16.7243582 7.48113835,16.7183512 8.0784093,18.8514618 L14,40 L0,40 L5.9215907,18.8514618 Z" transform="matrix(-1 0 0 1 14 0)"></path><path vector-effect="non-scaling-stroke" class="slds-illustration__fill-secondary" d="M123.136984,25.2363093 C123.613615,23.448945 124.38595,23.4473111 124.863437,25.237887 L126.693756,32.1015868 L120,37 L123.136984,25.2363093 Z" transform="matrix(-1 0 0 1 246.694 0)"></path><polyline vector-effect="non-scaling-stroke" class="slds-illustration__stroke-secondary" stroke-linecap="round" stroke-linejoin="round" stroke-width="3" points="13 37 59.5 0 92.5 27"></polyline><polyline vector-effect="non-scaling-stroke" class="slds-illustration__stroke-secondary" stroke-linecap="round" stroke-linejoin="round" stroke-width="3" points="83 17 92.5 9 127 38"></polyline></g><g class="slds-illustration__stroke-primary" stroke-linecap="round" stroke-width="3" transform="translate(67 253)"><path vector-effect="non-scaling-stroke" d="M0 1.5L450 1.5M284 2L419 61M282 2L65 91M443 1.5L449 1.5"></path></g><g transform="translate(73 163)"><polygon vector-effect="non-scaling-stroke" fill="#FFF" points="20.906 .73 24.63 2.34 27.093 9.155 11.046 19.877 .131 19.877" transform="translate(80 22)"></polygon><g class="slds-illustration__stroke-secondary" stroke-linecap="round" stroke-width="3"><path vector-effect="non-scaling-stroke" d="M44,17.5 L63,17.5 C62.2789714,12.0723971 64.081543,7.53186978 68.4077148,3.87841797 C73.3754883,-0.195556641 79.2734375,0.717773438 82.440918,2.12353516 C85.6083984,3.52929687 87.9606934,5.46069336 89.5913086,9.10524041 C90.2822266,10.6397351 90.7517904,11.9379883 91,13"></path><path vector-effect="non-scaling-stroke" d="M83 20.5C84.0558268 16.8461914 86.2227376 14.4572754 89.5007324 13.333252 94.4177246 11.6472168 99.0800781 13.8925781 100.942383 16.1518555 102.804687 18.4111328 103.39502 20.2260742 103.746582 22.1201172 103.980957 23.3828125 104.06543 24.8427734 104 26.5 108.141764 26.3313802 110.918945 27.1647135 112.331543 29 114.040039 31.1936035 114.215332 33.817627 113.593018 35.75 112.970703 37.682373 110.894531 40.5 107 40.5L28 40.5M18 27.5L83.0004985 27.5M0 27.5L8 27.5"></path></g></g><g class="slds-illustration__stroke-secondary" stroke-linecap="round" stroke-width="3" transform="translate(292 139)"><path vector-effect="non-scaling-stroke" d="M44,17.5 L63,17.5 C62.2789714,12.0723971 64.081543,7.53186978 68.4077148,3.87841797 C73.3754883,-0.195556641 79.2734375,0.717773438 82.440918,2.12353516 C85.6083984,3.52929687 87.9606934,5.46069336 89.5913086,9.10524041 C90.2822266,10.6397351 90.7517904,11.9379883 91,13"></path><path vector-effect="non-scaling-stroke" d="M83 20.5C84.0558268 16.8461914 86.2227376 14.4572754 89.5007324 13.333252 94.4177246 11.6472168 99.0800781 13.8925781 100.942383 16.1518555 102.804687 18.4111328 103.39502 20.2260742 103.746582 22.1201172 103.980957 23.3828125 104.06543 24.8427734 104 26.5 108.141764 26.3313802 110.918945 27.1647135 112.331543 29 114.040039 31.1936035 114.215332 33.817627 113.593018 35.75 112.970703 37.682373 110.894531 40.5 107 40.5L28 40.5M18 27.5L83.0004985 27.5M0 27.5L8 27.5"></path></g><g transform="translate(204.5 228.5)"><path vector-effect="non-scaling-stroke" class="slds-illustration__fill-secondary" d="M18.9209988,1.95433401 L33.259296,51.443436 C33.5666778,52.5043744 32.9557995,53.613617 31.8948612,53.9209988 C31.7139843,53.9734036 31.5266126,54 31.3382972,54 L2.6617028,54 C1.5571333,54 0.661702805,53.1045695 0.661702805,52 C0.661702805,51.8116846 0.688299176,51.6243129 0.74070397,51.443436 L15.0790012,1.95433401 C15.386383,0.893395645 16.4956256,0.282517358 17.556564,0.589899164 C18.2152102,0.780726338 18.7301717,1.29568777 18.9209988,1.95433401 Z"></path><g class="slds-illustration__stroke-primary" stroke-linecap="round" stroke-linejoin="round" stroke-width="3"><polygon points="17 .324 34 54 0 54"></polygon><path vector-effect="non-scaling-stroke" d="M17,6.32394366 C17,42.1378022 17,60.4711356 17,61.3239437 C17,60.4711356 17,42.1378022 17,6.32394366 Z"></path><path vector-effect="non-scaling-stroke" d="M17,29.3239437 C22.3333333,35.7851611 25,39.1184944 25,39.3239437 C25,39.1184944 22.3333333,35.7851611 17,29.3239437 Z" transform="matrix(-1 0 0 1 42 0)"></path></g></g><g transform="translate(439.5 227.5)"><path vector-effect="non-scaling-stroke" class="slds-illustration__fill-secondary" d="M18.9209988,1.95433401 L33.259296,51.443436 C33.5666778,52.5043744 32.9557995,53.613617 31.8948612,53.9209988 C31.7139843,53.9734036 31.5266126,54 31.3382972,54 L2.6617028,54 C1.5571333,54 0.661702805,53.1045695 0.661702805,52 C0.661702805,51.8116846 0.688299176,51.6243129 0.74070397,51.443436 L15.0790012,1.95433401 C15.386383,0.893395645 16.4956256,0.282517358 17.556564,0.589899164 C18.2152102,0.780726338 18.7301717,1.29568777 18.9209988,1.95433401 Z"></path><g class="slds-illustration__stroke-primary" stroke-linecap="round" stroke-linejoin="round" stroke-width="3"><polygon vector-effect="non-scaling-stroke" points="17 -4.676 34 54 0 54"></polygon><path vector-effect="non-scaling-stroke" d="M17,1.32394366 C17,40.3936076 17,60.3936076 17,61.3239437 C17,60.3936076 17,40.3936076 17,1.32394366 Z"></path><path vector-effect="non-scaling-stroke" d="M17,29.3239437 C22.3333333,35.7851611 25,39.1184944 25,39.3239437 C25,39.1184944 22.3333333,35.7851611 17,29.3239437 Z" transform="matrix(-1 0 0 1 42 0)"></path></g></g><g transform="translate(141.852 213.5)"><path vector-effect="non-scaling-stroke" class="slds-illustration__fill-secondary" d="M25.6478873,0 L50.8997802,86.4391718 C51.2095171,87.4994249 50.6011034,88.6100213 49.5408502,88.9197582 C49.3586621,88.9729817 49.1698252,89 48.980022,89 L2.31575269,89 C1.21118319,89 0.315752686,88.1045695 0.315752686,87 C0.315752686,86.8101968 0.342770948,86.6213599 0.395994453,86.4391718 L25.6478873,0 Z" transform="translate(1)"></path><g class="slds-illustration__stroke-primary" stroke-linecap="round" stroke-linejoin="round" stroke-width="3" transform="translate(0 2)"><polygon vector-effect="non-scaling-stroke" points="26.648 0 52.648 87 .648 87"></polygon><path vector-effect="non-scaling-stroke" d="M26.6478873 6C26.6478873 64.4972948 26.6478873 94.4972948 26.6478873 96 26.6478873 94.4972948 26.6478873 64.4972948 26.6478873 6zM15.6478873 42C22.9812207 49.078692 26.6478873 52.7453587 26.6478873 53 26.6478873 52.7453587 22.9812207 49.078692 15.6478873 42zM27.6478873 68C36.9812207 57.078692 41.6478873 51.7453587 41.6478873 52 41.6478873 51.7453587 36.9812207 57.078692 27.6478873 68z"></path></g></g><g transform="translate(168 57)"><circle vector-effect="non-scaling-stroke" cx="64" cy="64" r="23" class="slds-illustration__fill-secondary"></circle><path vector-effect="non-scaling-stroke" class="slds-illustration__stroke-secondary" stroke-dasharray="135 1 1 18" stroke-linecap="round" stroke-linejoin="round" stroke-width="3" d="M64,109 C88.8528137,109 109,88.8528137 109,64 C109,39.1471863 88.8528137,19 64,19 C39.1471863,19 19,39.1471863 19,64 C19,88.8528137 39.1471863,109 64,109 Z" transform="rotate(-130 64 64)"></path><path vector-effect="non-scaling-stroke" class="slds-illustration__stroke-secondary" stroke-dasharray="107 10" stroke-linecap="round" stroke-linejoin="round" stroke-width="3" d="M64,97 C82.2253967,97 97,82.2253967 97,64 C97,45.7746033 82.2253967,31 64,31 C45.7746033,31 31,45.7746033 31,64 C31,82.2253967 45.7746033,97 64,97 Z" transform="rotate(150 64 64)"></path><g class="slds-illustration__stroke-primary" stroke-width="3" transform="translate(41 41)"><circle vector-effect="non-scaling-stroke" cx="23" cy="23" r="23"></circle></g></g></g></svg><div class="slds-text-longform"><h3 class="slds-text-heading_small"><ng-content></ng-content></h3></div></div>'})],e)}();exports.SystemIllustrationNoRecords=SystemIllustrationNoRecords;var SystemIllustrationNoTask=function(){function e(e){this.language=e}return e=__decorate([core_1.Component({selector:"system-illustration-no-task",template:'<div class="slds-illustration slds-illustration_small"><svg class="slds-illustration__svg" viewBox="0 0 454 182" aria-hidden="true" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink"><g stroke="none" stroke-width="1" fill="none" fill-rule="evenodd"><g transform="translate(-73.000000, -110.000000)"><g><g transform="translate(75.000000, 240.000000)"><polyline vector-effect="non-scaling-stroke" class="slds-illustration__stroke-secondary" stroke-width="3" stroke-linecap="round" stroke-linejoin="round" transform="translate(375.250000, 18.000000) scale(-1, 1) translate(-375.250000, -18.000000)" points="335.5 36 380 0 415 27"></polyline><polyline vector-effect="non-scaling-stroke" class="slds-illustration__stroke-secondary" stroke-width="3" stroke-linecap="round" stroke-linejoin="round" transform="translate(324.500000, 22.500000) scale(-1, 1) translate(-324.500000, -22.500000)" points="303 18 313.5 9 346 36"></polyline><path vector-effect="non-scaling-stroke" d="M0,36.5 L450,36.5" class="slds-illustration__stroke-secondary" stroke-width="3" stroke-linecap="round"></path><path vector-effect="non-scaling-stroke" d="M406.04276,9.26543454 L413,32.7461193 L400.495829,23.8448556 L404.113561,9.30802252 C404.246938,8.772085 404.789525,8.44574518 405.325462,8.57912213 C405.669253,8.66468028 405.942114,8.9257539 406.04276,9.26543454 Z" class="slds-illustration__fill-secondary"></path><path vector-effect="non-scaling-stroke" d="M311.962964,11.4391572 L318,33 L306.770218,23.1063642 L310.037036,11.4391572 C310.185948,10.9073269 310.7378,10.5969106 311.26963,10.7458231 C311.605963,10.8399963 311.868791,11.1028246 311.962964,11.4391572 Z" class="slds-illustration__fill-secondary" transform="translate(312.385109, 21.626882) scale(-1, 1) translate(-312.385109, -21.626882)"></path></g><g transform="translate(83.000000, 173.000000)" class="slds-illustration__stroke-secondary" stroke-linecap="round" stroke-width="3"><path vector-effect="non-scaling-stroke" d="M44,17.5 L63,17.5 C62.2789714,12.0723971 64.081543,7.53186978 68.4077148,3.87841797 C73.3754883,-0.195556641 79.2734375,0.717773438 82.440918,2.12353516 C85.6083984,3.52929687 87.9606934,5.46069336 89.5913086,9.10524041 C90.2822266,10.6397351 90.7517904,11.9379883 91,13"></path><path vector-effect="non-scaling-stroke" d="M83,20.5 C84.0558268,16.8461914 86.2227376,14.4572754 89.5007324,13.333252 C94.4177246,11.6472168 99.0800781,13.8925781 100.942383,16.1518555 C102.804687,18.4111328 103.39502,20.2260742 103.746582,22.1201172 C103.980957,23.3828125 104.06543,24.8427734 104,26.5 C108.141764,26.3313802 110.918945,27.1647135 112.331543,29 C114.040039,31.1936035 114.215332,33.817627 113.593018,35.75 C112.970703,37.682373 110.894531,40.5 107,40.5 L28,40.5"></path><path vector-effect="non-scaling-stroke" d="M18,27.5 L83.0004985,27.5"></path><path vector-effect="non-scaling-stroke" d="M0,27.5 L8,27.5"></path></g><g transform="translate(274.000000, 111.000000)" class="slds-illustration__stroke-secondary" stroke-linecap="round" stroke-width="3"><path vector-effect="non-scaling-stroke" d="M44,17.5 L63,17.5 C62.2789714,12.0723971 64.081543,7.53186978 68.4077148,3.87841797 C73.3754883,-0.195556641 79.2734375,0.717773438 82.440918,2.12353516 C85.6083984,3.52929687 87.9606934,5.46069336 89.5913086,9.10524041 C90.2822266,10.6397351 90.7517904,11.9379883 91,13"></path><path vector-effect="non-scaling-stroke" d="M83,20.5 C84.0558268,16.8461914 86.2227376,14.4572754 89.5007324,13.333252 C94.4177246,11.6472168 99.0800781,13.8925781 100.942383,16.1518555 C102.804687,18.4111328 103.39502,20.2260742 103.746582,22.1201172 C103.980957,23.3828125 104.06543,24.8427734 104,26.5 C108.141764,26.3313802 110.918945,27.1647135 112.331543,29 C114.040039,31.1936035 114.215332,33.817627 113.593018,35.75 C112.970703,37.682373 110.894531,40.5 107,40.5 L28,40.5"></path><path vector-effect="non-scaling-stroke" d="M18,27.5 L83.0004985,27.5"></path><path vector-effect="non-scaling-stroke" d="M0,27.5 L8,27.5"></path></g><g transform="translate(115.000000, 191.000000)"><g transform="translate(148.000000, 32.000000) scale(-1, 1) translate(-148.000000, -32.000000) translate(116.000000, 0.000000)" class="slds-illustration__fill-secondary"><path vector-effect="non-scaling-stroke" d="M25,53 C25,55.76 22.76125,58 20,58 C17.24,58 15,55.76 15,53 C15,50.24 17.24,48 20,48 C22.76125,48 25,50.24 25,53 Z"></path><path vector-effect="non-scaling-stroke" d="M8,58 C6.34130214,58 5,59.344354 5,61 C5,62.655646 6.34130214,64 8,64 C9.65717192,64 11,62.655646 11,61 C11,59.344354 9.65717192,58 8,58"></path><path vector-effect="non-scaling-stroke" d="M43.2932416,0 C35.2856577,0 28.3128049,4.40586521 24.6382957,10.9184604 C22.0889739,9.11222859 18.9814709,8.03886643 15.6213524,8.03886643 C6.99160591,8.03886643 0,15.0367986 0,23.6690948 C0,32.302472 6.99160591,39.3004042 15.6213524,39.3004042 C15.8077805,39.3004042 15.9920023,39.2777047 16.1806367,39.2712191 C19.0013272,43.3344299 23.6918145,46 29.011083,46 C32.7848734,46 36.2475826,44.6596485 38.9469293,42.4296926 C40.3512074,42.7193815 41.8051261,42.8739543 43.2932416,42.8739543 C55.1275661,42.8739543 64,33.4569038 64,21.6185732 C64,9.77916158 55.1275661,0 43.2932416,0 Z"></path></g><g transform="translate(0.000000, 18.000000)"><path vector-effect="non-scaling-stroke" d="M90.5057553,53.0538038 C90.5057553,53.0538038 116.215483,58.0701972 145.433002,58.0701972 C174.650521,58.0701972 204.505755,53.0538038 204.505755,53.0538038 C204.505755,53.0538038 192.222862,60.6378663 185.905056,63.0258453 C179.58725,65.4138243 166.637272,67.3671811 166.637272,67.3671811 C166.637272,67.3671811 153.865271,70.7987363 147.505755,70.9374424 C141.14624,71.0761485 132.54218,68.1108222 132.54218,68.1108222 L106.786672,63.0258453 L90.5057553,53.0538038 Z" class="slds-illustration__fill-primary"></path><path vector-effect="non-scaling-stroke" d="M84.8198266,43.3368404 C84.8198266,43.3368404 99.4457512,70.425365 147.915957,70.425365 C196.386164,70.425365 214.819827,43.3368404 214.819827,43.3368404" class="slds-illustration__stroke-primary" stroke-width="4" stroke-linecap="round" stroke-linejoin="round"></path><path vector-effect="non-scaling-stroke" d="M73,49.5 L88,49.5" class="slds-illustration__stroke-primary" stroke-width="3" stroke-linecap="round"></path><path vector-effect="non-scaling-stroke" d="M211,49.5 L226,49.5" class="slds-illustration__stroke-primary" stroke-width="3" stroke-linecap="round"></path><path vector-effect="non-scaling-stroke" d="M142.74548,0 L153.650377,2.22044605e-16 C154.478804,8.05656105e-16 155.150377,0.671572875 155.150377,1.5 L155.150377,2.98261094 C155.150377,3.11136765 155.100706,3.2351613 155.01171,3.32820944 L146.234757,12.5047677 L155.209827,12.5047677 C156.038254,12.5047677 156.709827,13.1763405 156.709827,14.0047677 L156.709827,14.4270108 C156.709827,15.2554379 156.038254,15.9270108 155.209827,15.9270108 L141.888626,15.9270108 C141.060199,15.9270108 140.388626,15.2554379 140.388626,14.4270108 L140.388626,12.8248256 C140.388626,12.696109 140.438265,12.5723507 140.527212,12.4793109 L149.20663,3.40051458 L142.74548,3.40051458 C141.917053,3.40051458 141.24548,2.7289417 141.24548,1.90051458 L141.24548,1.5 C141.24548,0.671572875 141.917053,1.52179594e-16 142.74548,0 Z" class="slds-illustration__fill-primary"></path><path vector-effect="non-scaling-stroke" d="M20,81.5 L390,81.5" class="slds-illustration__stroke-primary" stroke-width="3" stroke-linecap="round"></path><path vector-effect="non-scaling-stroke" d="M0,81.5 L12,81.5" class="slds-illustration__stroke-primary" stroke-width="3" stroke-linecap="round"></path></g></g><g transform="translate(175.500000, 153.000000)"><g transform="translate(0.000000, 7.000000)" class="slds-illustration__fill-secondary"><path vector-effect="non-scaling-stroke" d="M19.3444016,2.17529966 L32.8957957,84.445825 C33.0753185,85.5357082 32.3373256,86.5647651 31.2474424,86.7442879 C31.1399954,86.7619863 31.0312825,86.7708798 30.9223876,86.7708798 L2.12566435,86.7708798 C1.02109485,86.7708798 0.125664347,85.8754493 0.125664347,84.7708798 C0.125664347,84.6486417 0.136870913,84.526661 0.159143349,84.4064691 L15.4044726,2.13594377 C15.6057311,1.04986421 16.6493247,0.332574998 17.7354043,0.533833473 C18.5639901,0.687376483 19.2074411,1.34381197 19.3444016,2.17529966 Z"></path></g><g class="slds-illustration__stroke-primary" stroke-linecap="round" stroke-width="3"><polygon vector-effect="non-scaling-stroke" stroke-linejoin="round" points="17 0.709590879 34 94.5 -1.82254212e-12 94.5"></polygon><path vector-effect="non-scaling-stroke" d="M17,8.09449405 C17,92.0999502 17,135.036706 17,136.904762 C17,135.036706 17,92.0999502 17,8.09449405 Z"></path><path vector-effect="non-scaling-stroke" d="M17,64.2334004 C24.3333333,71.7198767 28,75.6881307 28,76.1381623 C28,75.6881307 24.3333333,71.7198767 17,64.2334004 Z" stroke-linejoin="round" transform="translate(22.500000, 70.185781) scale(-1, 1) translate(-22.500000, -70.185781)"></path><path vector-effect="non-scaling-stroke" d="M8,50.2334004 C14,57.05321 17,60.6881307 17,61.1381623 C17,60.6881307 14,57.05321 8,50.2334004 Z" stroke-linejoin="round"></path></g></g><g transform="translate(307.500000, 135.000000)"><g transform="translate(0.000000, 2.000000)" class="slds-illustration__fill-secondary"><path vector-effect="non-scaling-stroke" d="M29.524032,0.669921875 L55.6419593,108.305728 C55.9024257,109.379148 55.2433964,110.460477 54.1699762,110.720943 C54.0155692,110.75841 53.8572476,110.777344 53.69836,110.777344 L2.40272523,110.777344 C1.29815573,110.777344 0.402725233,109.881913 0.402725233,108.777344 C0.402725233,108.601258 0.42597945,108.425943 0.471884777,108.255946 L29.524032,0.669921875 Z"></path></g><g class="slds-illustration__stroke-primary" stroke-linecap="round" stroke-width="3"><polygon vector-effect="non-scaling-stroke" stroke-linejoin="round" points="29 0 56.572466 112.5 0 112.5"></polygon><path vector-effect="non-scaling-stroke" d="M29,6.09449405 C29,103.433283 29,153.036706 29,154.904762 C29,153.036706 29,103.433283 29,6.09449405 Z"></path><path vector-effect="non-scaling-stroke" d="M29,74.2334004 C41,87.05321 47,93.6881307 47,94.1381623 C47,93.6881307 41,87.05321 29,74.2334004 Z" stroke-linejoin="round" transform="translate(38.000000, 84.185781) scale(-1, 1) translate(-38.000000, -84.185781)"></path><path vector-effect="non-scaling-stroke" d="M14,61.2334004 C24,72.7198767 29,78.6881307 29,79.1381623 C29,78.6881307 24,72.7198767 14,61.2334004 Z" stroke-linejoin="round"></path><path vector-effect="non-scaling-stroke" d="M29,48.2334004 C36.3333333,57.05321 40,61.6881307 40,62.1381623 C40,61.6881307 36.3333333,57.05321 29,48.2334004 Z" stroke-linejoin="round" transform="translate(34.500000, 55.185781) scale(-1, 1) translate(-34.500000, -55.185781)"></path></g></g><g transform="translate(347.500000, 166.000000)"><g transform="translate(0.000000, 4.000000)" class="slds-illustration__fill-secondary"><path vector-effect="non-scaling-stroke" d="M19.3444016,2.17529966 L32.8957957,84.445825 C33.0753185,85.5357082 32.3373256,86.5647651 31.2474424,86.7442879 C31.1399954,86.7619863 31.0312825,86.7708798 30.9223876,86.7708798 L2.12566435,86.7708798 C1.02109485,86.7708798 0.125664347,85.8754493 0.125664347,84.7708798 C0.125664347,84.6486417 0.136870913,84.526661 0.159143349,84.4064691 L15.4044726,2.13594377 C15.6057311,1.04986421 16.6493247,0.332574998 17.7354043,0.533833473 C18.5639901,0.687376483 19.2074411,1.34381197 19.3444016,2.17529966 Z"></path></g><g class="slds-illustration__stroke-primary" stroke-linecap="round" stroke-width="3"><polygon vector-effect="non-scaling-stroke" stroke-linejoin="round" points="17 0.709590879 34 91.5 -1.82254212e-12 91.5"></polygon><path vector-effect="non-scaling-stroke" d="M17,5.09449405 C17,83.0999502 17,123.036706 17,124.904762 C17,123.036706 17,83.0999502 17,5.09449405 Z"></path><path vector-effect="non-scaling-stroke" d="M17,61.2334004 C24.3333333,68.7198767 28,72.6881307 28,73.1381623 C28,72.6881307 24.3333333,68.7198767 17,61.2334004 Z" stroke-linejoin="round" transform="translate(22.500000, 67.185781) scale(-1, 1) translate(-22.500000, -67.185781)"></path></g></g><g transform="translate(392.000000, 184.000000)" class="slds-illustration__stroke-secondary" stroke-linecap="round" stroke-width="3"><g transform="translate(31.713442, 25.088326) rotate(-15.000000) translate(-31.713442, -25.088326) translate(4.713442, 6.588326)"><path vector-effect="non-scaling-stroke" d="M31.0360707,3.43528591 C31.0360707,3.43528591 40.5802283,0.671893051 42.6488424,10.6908663" transform="translate(36.842457, 6.888440) rotate(41.000000) translate(-36.842457, -6.888440)"></path><path vector-effect="non-scaling-stroke" d="M40.4282002,10.1797377 C40.4282002,10.1797377 49.9723578,7.4163448 52.0409719,17.435318" transform="translate(46.234586, 13.632892) scale(-1, 1) rotate(-41.000000) translate(-46.234586, -13.632892)"></path><path vector-effect="non-scaling-stroke" d="M0.730284783,29.5865514 C0.730284783,29.5865514 10.2744424,26.8231586 12.3430565,36.8421318"></path><path vector-effect="non-scaling-stroke" d="M12.7302848,29.5865514 C12.7302848,29.5865514 22.2744424,26.8231586 24.3430565,36.8421318" transform="translate(18.536671, 33.039705) scale(-1, 1) translate(-18.536671, -33.039705)"></path></g></g></g></g></g></svg><div class="slds-text-longform"><h3 class="slds-text-heading--small"><system-label label="LBL_NO_ACTIVITIES"></system-label></h3></div></div>'}),__metadata("design:paramtypes",[services_1.language])],e)}();exports.SystemIllustrationNoTask=SystemIllustrationNoTask;var SystemImagePreviewModal=function(){function SystemImagePreviewModal(e){this.language=e,this.self={},this.imgsrc="",this.imgtype="",this.imgname=""}return SystemImagePreviewModal.prototype.closeModal=function(){this.self.destroy()},SystemImagePreviewModal.prototype.download=function(){var e=this.b64toBlob(this.imgsrc.replace("data:"+this.imgtype+";base64,",""),this.imgtype),t=URL.createObjectURL(e),s=document.createElement("a");document.body.appendChild(s),s.href=t,s.download=this.imgname,s.click(),s.remove()},SystemImagePreviewModal.prototype.b64toBlob=function(e,t,s){void 0===t&&(t=""),void 0===s&&(s=512);for(var o=atob(e),i=[],n=0;n<o.length;n+=s){for(var a=o.slice(n,n+s),r=new Array(a.length),l=0;l<a.length;l++)r[l]=a.charCodeAt(l);var d=new Uint8Array(r);i.push(d)}return new Blob(i,{type:t})},__decorate([core_1.Input(),__metadata("design:type",String)],SystemImagePreviewModal.prototype,"imgsrc",void 0),__decorate([core_1.Input(),__metadata("design:type",String)],SystemImagePreviewModal.prototype,"imgtype",void 0),__decorate([core_1.Input(),__metadata("design:type",String)],SystemImagePreviewModal.prototype,"imgname",void 0),SystemImagePreviewModal=__decorate([core_1.Component({template:'<system-modal size="large"><system-modal-header (close)="closeModal()">{{imgname}}</system-modal-header><system-modal-content margin="none"><div *ngIf="!imgsrc" style="height: 50vh;" class="slds-align--absolute-center"><system-spinner></system-spinner></div><div *ngIf="imgsrc" style="max-height: 80vh;" class="slds-text-align--center"><img style="max-height: 100%;" [src]="imgsrc"></div></system-modal-content><system-modal-footer><button class="slds-button slds-button--icon slds-button--icon-border" (click)="download()"><system-button-icon icon="download" size="small"></system-button-icon></button></system-modal-footer></system-modal>'}),__metadata("design:paramtypes",[services_1.language])],SystemImagePreviewModal)}();exports.SystemImagePreviewModal=SystemImagePreviewModal;var SystemInputText=function(){function e(){}var t;return t=e,Object.defineProperty(e.prototype,"value",{get:function(){return this._value},set:function(e){e!=this._value&&(this._value=e,this.onChange(e))},enumerable:!0,configurable:!0}),e.prototype.registerOnChange=function(e){this.onChange=e},e.prototype.registerOnTouched=function(e){this.onTouched=e},e.prototype.writeValue=function(e){this._value=e},e=t=__decorate([core_1.Component({selector:"system-input-text",template:'<div class="slds-form-element"><div class="slds-form-element__control"><input type="text" class="slds-input" [(ngModel)]="value"></div></div>',providers:[{provide:forms_1.NG_VALUE_ACCESSOR,useExisting:core_1.forwardRef(function(){return t}),multi:!0}]}),__metadata("design:paramtypes",[])],e)}();exports.SystemInputText=SystemInputText;var SystemInputEnum=function(){function e(e,t){this.metadata=e,this.language=t,this.options=[]}var t;return t=e,Object.defineProperty(e.prototype,"value",{get:function(){return this._value},set:function(e){e!=this._value&&(this._value=e,this.onChange(e))},enumerable:!0,configurable:!0}),e.prototype.registerOnChange=function(e){this.onChange=e},e.prototype.registerOnTouched=function(e){this.onTouched=e},e.prototype.writeValue=function(e){this._value=e},e.prototype.ngOnInit=function(){this.getOptions()},e.prototype.getOptions=function(){var e=[],t=this.language.getFieldDisplayOptions(this.module,this.field);for(var s in t)e.push({value:s,display:t[s]});if(this.options=e,this.sortdirection)switch(this.sortdirection.toLowerCase()){case"desc":this.options.sort(function(e,t){return e.display.toLowerCase()<t.display.toLowerCase()?1:-1});break;case"asc":this.options.sort(function(e,t){return e.display.toLowerCase()>t.display.toLowerCase()?1:-1})}},__decorate([core_1.Input(),__metadata("design:type",String)],e.prototype,"module",void 0),__decorate([core_1.Input(),__metadata("design:type",String)],e.prototype,"field",void 0),__decorate([core_1.Input(),__metadata("design:type",String)],e.prototype,"sortdirection",void 0),e=t=__decorate([core_1.Component({selector:"system-input-enum",template:'<div class="slds-form-element"><div class="slds-select_container"><select #focus class="slds-select" [(ngModel)]="value"><option *ngFor="let o of options" [value]="o.value">{{o.display}}</option></select></div></div>',providers:[{provide:forms_1.NG_VALUE_ACCESSOR,useExisting:core_1.forwardRef(function(){return t}),multi:!0}]}),__metadata("design:paramtypes",[services_1.metadata,services_1.language])],e)}();exports.SystemInputEnum=SystemInputEnum;var SystemInputMultiEnum=function(){function e(e,t){this.metadata=e,this.language=t,this.options=[]}var t;return t=e,Object.defineProperty(e.prototype,"value",{get:function(){return this._value},set:function(e){this._value=e,this.onChange(e)},enumerable:!0,configurable:!0}),e.prototype.registerOnChange=function(e){this.onChange=e},e.prototype.registerOnTouched=function(e){this.onTouched=e},e.prototype.writeValue=function(e){this._value=e},e.prototype.ngOnInit=function(){this.getOptions()},e.prototype.getOptions=function(){var e=[],t=this.language.getFieldDisplayOptions(this.module,this.field);for(var s in t)s&&t[s]&&e.push({value:s,display:t[s]});if(this.options=e,this.sortdirection)switch(this.sortdirection.toLowerCase()){case"desc":this.options.sort(function(e,t){return e.display.toLowerCase()<t.display.toLowerCase()?1:-1});break;case"asc":this.options.sort(function(e,t){return e.display.toLowerCase()>t.display.toLowerCase()?1:-1})}},__decorate([core_1.Input(),__metadata("design:type",String)],e.prototype,"module",void 0),__decorate([core_1.Input(),__metadata("design:type",String)],e.prototype,"field",void 0),__decorate([core_1.Input(),__metadata("design:type",String)],e.prototype,"sortdirection",void 0),e=t=__decorate([core_1.Component({selector:"system-input-multienum",template:'<system-checkbox-group [(ngModel)]="value" class="slds-grid slds-wrap"><div *ngFor="let option of options" class="slds-large-size--1-of-3 slds-medium-size--1-of-1 slds-truncate"><system-checkbox-group-checkbox [value]="option.value">{{option.display}}</system-checkbox-group-checkbox></div></system-checkbox-group>',providers:[{provide:forms_1.NG_VALUE_ACCESSOR,useExisting:core_1.forwardRef(function(){return t}),multi:!0}]}),__metadata("design:paramtypes",[services_1.metadata,services_1.language])],e)}();exports.SystemInputMultiEnum=SystemInputMultiEnum;var SystemInputInteger=function(){function e(){}var t;return t=e,Object.defineProperty(e.prototype,"value",{get:function(){return this._value},set:function(e){e!=this._value&&(this._value=e,this.onChange(e))},enumerable:!0,configurable:!0}),e.prototype.registerOnChange=function(e){this.onChange=e},e.prototype.registerOnTouched=function(e){this.onTouched=e},e.prototype.writeValue=function(e){this._value=e},e=t=__decorate([core_1.Component({selector:"system-input-integer",template:'<div class="slds-form-element"><div class="slds-form-element__control"><input type="number" class="slds-input" [(ngModel)]="value"></div></div>',providers:[{provide:forms_1.NG_VALUE_ACCESSOR,useExisting:core_1.forwardRef(function(){return t}),multi:!0}]}),__metadata("design:paramtypes",[])],e)}();exports.SystemInputInteger=SystemInputInteger;var SystemInputActionset=function(){function e(e,t){this.language=e,this.metadata=t,this.disabled=!1,this._actionsets=[],this._module="",this._actionsets=this.metadata.getActionSets()}var t;return t=e,Object.defineProperty(e.prototype,"actionset",{get:function(){return this._actionset},set:function(e){this._actionset=e,this.onChange(e)},enumerable:!0,configurable:!0}),e.prototype.detectModule=function(){this._actionset&&(this._module=this.metadata.getActionSet(this._actionset).module)},e.prototype.registerOnChange=function(e){this.onChange=e},e.prototype.registerOnTouched=function(e){this.onTouched=e},e.prototype.writeValue=function(e){this._actionset=e,this.detectModule()},__decorate([core_1.Input(),__metadata("design:type",Object)],e.prototype,"disabled",void 0),e=t=__decorate([core_1.Component({selector:"system-input-actionset",template:'<div class="slds-grid"><system-input-module class="slds-p-right--xxx-small slds-size--1-of-3" [(ngModel)]="_module" [displayAsterisk]="true"></system-input-module><div class="slds-form-element__control slds-p-left--xxx-small slds-size--2-of-3"><div class="slds-select_container"><select [disabled]="!_module || disabled" class="slds-select" [(ngModel)]="actionset"><option></option><optgroup [label]="\'custom \' + language.getLabel(\'LBL_ACTIONSET\')" *ngIf="(_actionsets|systemmodulecustompipe:_module).length > 0"><option *ngFor="let sysActionset of _actionsets|systemmodulecustompipe:_module" [value]="sysActionset.id">{{sysActionset.name}}</option></optgroup><optgroup [label]="\'global \'+ language.getLabel(\'LBL_ACTIONSET\')" *ngIf="(_actionsets|systemmoduleglobalpipe:_module).length > 0"><option *ngFor="let sysActionset of _actionsets|systemmoduleglobalpipe:_module" [value]="sysActionset.id">{{sysActionset.name}}</option></optgroup></select></div></div></div>',providers:[{provide:forms_1.NG_VALUE_ACCESSOR,useExisting:core_1.forwardRef(function(){return t}),multi:!0}]}),__metadata("design:paramtypes",[services_1.language,services_1.metadata])],e)}();exports.SystemInputActionset=SystemInputActionset;var SystemInputComponentset=function(){function e(e,t){this.language=e,this.metadata=t,this.disabled=!1,this._componentsets=[],this._modules=[],this._module="",this._componentsets=this.metadata.getComponentSets(),this._modules=this.metadata.getModules(),this._modules.sort()}var t;return t=e,Object.defineProperty(e.prototype,"componentset",{get:function(){return this._componentset},set:function(e){this._componentset=e,this.onChange(e)},enumerable:!0,configurable:!0}),e.prototype.detectModule=function(){this._componentset&&(this._module=this.metadata.getComponentSet(this._componentset).module)},e.prototype.registerOnChange=function(e){this.onChange=e},e.prototype.registerOnTouched=function(e){this.onTouched=e},e.prototype.writeValue=function(e){this._componentset=e,this.detectModule()},__decorate([core_1.Input(),__metadata("design:type",Object)],e.prototype,"disabled",void 0),e=t=__decorate([core_1.Component({selector:"system-input-componentset",template:'<div class="slds-grid"><div class="slds-form-element__control slds-p-right--xxx-small slds-size--1-of-3"><div class="slds-select_container"><select [disabled]="disabled" class="slds-select" [(ngModel)]="_module"><option value="*">*</option><option *ngFor="let thismodule of _modules" [value]="thismodule">{{thismodule}}</option></select></div></div><div class="slds-form-element__control slds-p-left--xxx-small slds-size--2-of-3"><div class="slds-select_container"><select [disabled]="!_module || disabled" class="slds-select" [(ngModel)]="componentset"><option></option><optgroup [label]="\'custom \' + language.getLabel(\'LBL_COMPONENTSET\')" *ngIf="_componentsets|systemmodulecustompipe:_module.length > 0"><option *ngFor="let sysComponentset of _componentsets|systemmodulecustompipe:_module" [value]="sysComponentset.id">{{sysComponentset.name}}</option></optgroup><optgroup [label]="\'global \' + language.getLabel(\'LBL_COMPONENTSET\')" *ngIf="_componentsets|systemmoduleglobalpipe:_module.length > 0"><option *ngFor="let sysComponentset of _componentsets|systemmoduleglobalpipe:_module" [value]="sysComponentset.id">{{sysComponentset.name}}</option></optgroup></select></div></div></div>',providers:[{provide:forms_1.NG_VALUE_ACCESSOR,useExisting:core_1.forwardRef(function(){return t}),multi:!0}]}),__metadata("design:paramtypes",[services_1.language,services_1.metadata])],e)}();exports.SystemInputComponentset=SystemInputComponentset;var SystemInputCountry=function(){function e(e,t,s){this.metadata=e,this.language=t,this.configuration=s,this.countries=[],this.strict=!1,"strict"==this.configuration.getCapabilityConfig("spiceui").addressmode&&(this.strict=!0)}var t;return t=e,Object.defineProperty(e.prototype,"value",{get:function(){return this._value},set:function(e){e!=this._value&&(this._value=e,this.onChange(e))},enumerable:!0,configurable:!0}),e.prototype.registerOnChange=function(e){this.onChange=e},e.prototype.registerOnTouched=function(e){this.onTouched=e},e.prototype.writeValue=function(e){this._value=e},e.prototype.ngOnInit=function(){this.strict&&this.getCountries()},e.prototype.getCountries=function(){var e,s=this,t=this.configuration.getData("countries");this.countries=(null===(e=t)||void 0===e?void 0:e.countries)?t.countries:[],this.countries.sort(function(e,t){return s.language.getLabel(e.label).localeCompare(s.language.getLabel(t.label))})},e=t=__decorate([core_1.Component({selector:"system-input-country",template:'<div class="slds-form-element"><div *ngIf="strict; else countryinput" class="slds-select_container"><select #focus class="slds-select" [(ngModel)]="value"><option></option><option *ngFor="let c of countries" [value]="c.cc"><system-label [label]="c.label"></system-label></option></select></div><ng-template #countryinput><div class="slds-form-element__control"><input type="text" class="slds-input" [(ngModel)]="value"></div></ng-template></div>',providers:[{provide:forms_1.NG_VALUE_ACCESSOR,useExisting:core_1.forwardRef(function(){return t}),multi:!0}]}),__metadata("design:paramtypes",[services_1.metadata,services_1.language,services_1.configurationService])],e)}();exports.SystemInputCountry=SystemInputCountry;var SystemInputCountryCode=function(){function e(e,t,s){this.metadata=e,this.language=t,this.configuration=s,this.countrycodes=[],this.strict=!1,"strict"==this.configuration.getCapabilityConfig("spiceui").addressmode&&(this.strict=!0)}var t;return t=e,Object.defineProperty(e.prototype,"value",{get:function(){return this._value},set:function(e){e!=this._value&&(this._value=e,this.onChange(e))},enumerable:!0,configurable:!0}),e.prototype.registerOnChange=function(e){this.onChange=e},e.prototype.registerOnTouched=function(e){this.onTouched=e},e.prototype.writeValue=function(e){this._value=e},e.prototype.ngOnInit=function(){this.strict&&this.getCountries()},e.prototype.getCountries=function(){this.countrycodes=[];for(var e=0,t=this.configuration.getData("countries").countries;e<t.length;e++){var s=t[e];!s.e164||0<=this.countrycodes.indexOf(s.e164)||this.countrycodes.push(s.e164)}this.countrycodes.sort()},e=t=__decorate([core_1.Component({selector:"system-input-country-code",template:'<div class="slds-form-element"><div *ngIf="strict; else countryinput" class="slds-select_container"><select #focus class="slds-select" [(ngModel)]="value"><option></option><option *ngFor="let c of countrycodes" [value]="\'+\'+c">+{{c}}</option></select></div><ng-template #countryinput><div class="slds-form-element__control"><input type="text" class="slds-input" [(ngModel)]="value"></div></ng-template></div>',providers:[{provide:forms_1.NG_VALUE_ACCESSOR,useExisting:core_1.forwardRef(function(){return t}),multi:!0}]}),__metadata("design:paramtypes",[services_1.metadata,services_1.language,services_1.configurationService])],e)}();exports.SystemInputCountryCode=SystemInputCountryCode;var SystemInputDatePicker=function(){function e(e,t){this.language=e,this.userPreferences=t,this.currentGrid=[],this.secondGrid=[],this.yearsList=[],this.dual=!1,this.weekStartDay=0,this.showTodayButton=!0,this.datePicked=new core_1.EventEmitter,this.curDate=new moment,this.secondDate=new moment;var s=this.userPreferences.unchangedPreferences.global;this.weekStartDay="Monday"==s.week_day_start?1:this.weekStartDay}return Object.defineProperty(e.prototype,"currentYear",{get:function(){return{id:this.curDate.year(),name:this.curDate.year()}},set:function(e){this.curDate.year(e.length?e:e.name),this.buildGrids()},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"secondYear",{set:function(e){this.curDate.year(e.length?e:e.name),this.buildGrids()},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"secondYearDisplay",{get:function(){return this.secondDate.year()},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"currentMonth",{get:function(){return moment.localeData().months()[this.curDate.month()]},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"secondMonth",{get:function(){return moment.localeData().months()[this.secondDate.month()]},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"weekdays",{get:function(){var e=this.language.currentlanguage.substring(0,2);moment.locale(e);var t=moment.weekdaysMin();switch(this.weekStartDay){case 1:var s=t.shift();return t.push(s),t;default:return t}},enumerable:!0,configurable:!0}),e.prototype.ngOnInit=function(){this.initializeGrid()},e.prototype.ngOnChanges=function(){this.initializeGrid()},e.prototype.initializeGrid=function(){this.setDate?(this.curDate=new moment(this.setDate),this.secondDate=new moment(this.setDate)):(this.curDate=new moment,this.secondDate=new moment),this.secondDate.add(1,"month"),this.buildYearsList(),this.buildGrids()},e.prototype.buildYearsList=function(){var o=this;this.yearsList=new Array(11).fill("").map(function(e,t){var s=t-5+ +o.curDate.year();return{id:s.toString(),name:s.toString()}})},e.prototype.weekdayLong=function(e){var t=this.language.currentlanguage.substring(0,2);return moment.locale(t),moment.weekdays(e+this.weekStartDay)},e.prototype.disabled=function(e){if(!e)return!1;if(e.isBefore(this.curDate,"month")||!this.dual&&e.isAfter(this.curDate,"month")||this.dual&&e.isAfter(this.secondDate,"month"))return!0;var t=new moment(e.format());return!(!this.minDate||!t.isBefore(this.minDate,"month"))||!(!this.maxDate||!t.isAfter(this.maxDate,"month"))},e.prototype.isToday=function(e){if(!e)return!1;var t=new moment;return t.isSame(e,"year")&&t.isSame(e,"month")&&t.isSame(e,"day")},e.prototype.isCurrent=function(e){return!!e&&(this.setDate&&this.setDate.isSame(e,"year")&&this.setDate.isSame(e,"month")&&this.setDate.isSame(e,"day"))},e.prototype.prevMonth=function(){this.curDate.subtract(1,"months"),this.dual&&this.secondDate.subtract(1,"months"),this.buildGrids()},e.prototype.nextMonth=function(){this.curDate.add(1,"months"),this.dual&&this.secondDate.add(1,"months"),this.buildGrids()},e.prototype.goToday=function(){this.curDate=new moment,this.buildGrids()},e.prototype.pickDate=function(e){if(e){var t=new moment(e.format());return(!this.minDate||!t.isBefore(this.minDate))&&((!this.maxDate||!t.isAfter(this.maxDate))&&void this.datePicked.emit(t))}},e.prototype.buildGrids=function(){this.currentGrid=[],this.secondGrid=[],this.buildGridWeeks(this.currentGrid,this.curDate),this.dual&&this.buildGridWeeks(this.secondGrid,this.secondDate)},e.prototype.buildGridWeeks=function(e,t){var s=new moment(t);s.date(1),0==s.day()&&1==this.weekStartDay&&s.subtract(7,"d"),s.day(this.weekStartDay);for(var o=0;o<6;){for(var i=0,n={days:[],number:s.format("w")};i<7;)(t.isSame(this.curDate,"month")&&s.isSameOrBefore(this.curDate,"month")||!this.dual&&s.isAfter(this.curDate,"month")||this.dual&&t.isSame(this.secondDate,"month")&&s.isSameOrAfter(this.secondDate,"month"))&&(n.days[i]=moment(s.format())),s.add(1,"d"),i++;if(e.push(n),s.isAfter(t,"month")||s.isAfter(t,"year"))break;o++}},__decorate([core_1.Input(),__metadata("design:type",Object)],e.prototype,"setDate",void 0),__decorate([core_1.Input(),__metadata("design:type",Boolean)],e.prototype,"dual",void 0),__decorate([core_1.Input(),__metadata("design:type",Object)],e.prototype,"minDate",void 0),__decorate([core_1.Input(),__metadata("design:type",Object)],e.prototype,"maxDate",void 0),__decorate([core_1.Input(),__metadata("design:type",Number)],e.prototype,"weekStartDay",void 0),__decorate([core_1.Input(),__metadata("design:type",Boolean)],e.prototype,"showTodayButton",void 0),__decorate([core_1.Output(),__metadata("design:type",core_1.EventEmitter)],e.prototype,"datePicked",void 0),e=__decorate([core_1.Component({selector:"system-input-date-picker",template:'<div class="slds-datepicker__filter slds-grid"><div class="slds-datepicker__filter_month slds-grid slds-grid_align-spread slds-grow"><div class="slds-align-middle"><button class="slds-button slds-button_icon slds-button_icon-container" title="Previous Month" (click)="prevMonth()"><system-button-icon [icon]="\'left\'"></system-button-icon></button></div><h2 aria-atomic="true" aria-live="assertive" class="slds-align-middle">{{currentMonth}}</h2><div class="slds-align-middle"><button class="slds-button slds-button_icon slds-button_icon-container" title="Next Month" (click)="nextMonth()"><system-button-icon [icon]="\'right\'"></system-button-icon></button></div></div><div class="slds-shrink-none"><system-select [selectList]="yearsList" [(selectedItem)]="currentYear" [emitInputValueOnEnterPress]="true"></system-select></div></div><table aria-labelledby="month" aria-multiselectable="true" class="slds-datepicker__month slds-m-left--x-small" role="grid"><thead><tr><th scope="col"></th><th *ngFor="let weekday of weekdays; let index = index" scope="col"><abbr [title]="weekdayLong(index)">{{weekday}}</abbr></th></tr></thead><tbody><tr *ngFor="let week of currentGrid"><td role="gridcell" class="slds-theme--shade"><abbr class="slds-p-horizontal--xx-small" [title]="language.getLabel(\'LBL_WEEK\')+\' \'+week?.number">{{week?.number}}</abbr></td><td *ngFor="let day of week?.days" role="gridcell" (click)="pickDate(day)" [ngClass]="{\'slds-disabled-text\': disabled(day), \'slds-is-today\': isToday(day), \'slds-is-selected\': isCurrent(day)}"><span class="slds-day">{{day.date()}}</span></td></tr></tbody><tbody *ngIf="dual"><tr><td [attr.colspan]="weekdays.length +1" class="slds-theme--shade"><div class="slds-grid slds-m-vertical--xx-small"><h2 class="slds-size--1-of-2">{{secondMonth}}</h2><div>{{secondYearDisplay}}</div></div></td></tr><tr *ngFor="let week of secondGrid"><td role="gridcell" class="slds-theme--shade"><abbr class="slds-p-horizontal--xx-small" [title]="language.getLabel(\'LBL_WEEK\')+\' \'+week?.number">{{week?.number}}</abbr></td><td *ngFor="let day of week?.days" role="gridcell" (click)="pickDate(day)" [ngClass]="{\'slds-disabled-text\': disabled(day), \'slds-is-today\': isToday(day), \'slds-is-selected\': isCurrent(day)}"><span class="slds-day">{{day?.date()}}</span></td></tr></tbody></table><button *ngIf="showTodayButton" class="slds-button slds-align_absolute-center slds-text-link" (click)="goToday()"><system-label label="LBL_TODAY"></system-label></button>',host:{class:"slds-datepicker"}}),__metadata("design:paramtypes",[services_1.language,services_1.userpreferences])],e)}();exports.SystemInputDatePicker=SystemInputDatePicker;var SystemInputDate=function(){function e(e,t,s,o,i){this.elementref=e,this.renderer=t,this.userpreferences=s,this.modal=o,this.language=i,this.showCalendarButton=!0,this._date={display:"",moment:null,valid:!0},this.isOpen=!1}var t;return t=e,Object.defineProperty(e.prototype,"isValid",{get:function(){return this._date.valid},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"display",{get:function(){return this._date.display?this._date.display:""},set:function(e){if(e){var t=moment(e,this.userpreferences.getDateFormat(),!0);t.isValid()?(this._date.moment||(this._date.moment=new moment),this._date.moment.year(t.year()).month(t.month()).date(t.date()),this._date.valid=!0,this.toggleClosed(),"function"==typeof this.onChange&&this.onChange(this._date.moment)):(this._date.display=e,this._date.valid=!1)}else this.clear()},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"canclear",{get:function(){return!!this._date.display},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"dropdownside",{get:function(){var e=this.elementref.nativeElement.getBoundingClientRect();return window.innerWidth-e.left<280?"slds-dropdown_right":"slds-dropdown_left"},enumerable:!0,configurable:!0}),e.prototype.ngOnDestroy=function(){this.clickListener&&this.clickListener()},e.prototype.registerOnChange=function(e){this.onChange=e},e.prototype.registerOnTouched=function(e){this.onTouched=e},e.prototype.writeValue=function(e){e&&e.isValid&&e.isValid()?(this._date.moment=new moment(e),this._date.display=this._date.moment.format(this.userpreferences.getDateFormat())):this.clear(!1)},e.prototype.clear=function(e){void 0===e&&(e=!0),this._date.moment=null,this._date.display="",this._date.valid=!0,"function"==typeof this.onChange&&e&&this.onChange(this._date.moment)},e.prototype.toggleOpen=function(){var t=this;this.isOpen=!this.isOpen,this.isOpen&&(this.clickListener=this.renderer.listen("document","click",function(e){return t.onDocumentClick(e)}))},e.prototype.toggleClosed=function(){this.isOpen=!1,this.clickListener&&this.clickListener()},e.prototype.onDocumentClick=function(e){this.isOpen&&!this.elementref.nativeElement.contains(e.target)&&(this.isOpen=!1,this.clickListener())},e.prototype.datePicked=function(e,t){e&&(this._date.moment||(this._date.moment=new moment),moment.isMoment(e)||(e=moment(e)),this._date.moment.set("year",e.year()),this._date.moment.set("month",e.month()),this._date.moment.set("date",e.date()),t&&(this._date.moment.set("hour",e.hour()),this._date.moment.set("minute",e.minute())),this._date.display=this._date.moment.format(this.userpreferences.getDateFormat()),this._date.valid=!0,"function"==typeof this.onChange&&this.onChange(this._date.moment),this.toggleClosed())},e.prototype.openCalendar=function(){var s=this;this.toggleClosed(),this.modal.openModal("Calendar").subscribe(function(t){t.instance.asPicker=!0,t.instance.calendar.pickerDate$.pipe(operators_1.take(1)).subscribe(function(e){t.instance.asPicker=!1,s.datePicked(e,!0)})})},e=t=__decorate([core_1.Component({selector:"system-input-date",template:'<div class="slds-form-element" [ngClass]="{\'slds-has-error\': !isValid}"><div class="slds-form-element__control"><div class="slds-combobox_container"><div class="slds-combobox slds-dropdown-trigger slds-dropdown-trigger_click slds-combobox-picklist slds-timepicker" [ngClass]="{\'slds-is-open\':isOpen}" role="combobox"><div class="slds-combobox__form-element slds-input-has-icon slds-input-has-icon_right" role="none"><input class="slds-input slds-combobox__input" aria-controls="listbox-unique-id" autocomplete="off" role="textbox" type="text" placeholder="" [(ngModel)]="display"><div class="slds-input__icon-group slds-input__icon-group_right"><button *ngIf="canclear" class="slds-input__icon slds-input__icon_right slds-button slds-button_icon" style="position: relative;" (click)="clear()"><system-button-icon icon="clear"></system-button-icon></button> <button class="slds-input__icon slds-input__icon_right slds-button slds-button_icon" style="position: relative;" (click)="toggleOpen()"><system-button-icon icon="event"></system-button-icon></button></div></div><div aria-hidden="false" class="slds-datepicker slds-dropdown slds-dropdown--large" [ngClass]="dropdownside" role="dialog"><system-input-date-picker *ngIf="isOpen" [setDate]="_date.moment" (datePicked)="datePicked($event)"></system-input-date-picker><div *ngIf="showCalendarButton" class="slds-grid slds-grid--align-center"><button class="slds-button slds-text-link slds-p-around--xx-small" (click)="openCalendar()"><system-label label="LBL_CALENDAR"></system-label></button></div></div></div></div></div><div *ngIf="!isValid" class="slds-form-element__help"><system-label label="LBL_INPUT_INVALID"></system-label></div></div>',providers:[{provide:forms_1.NG_VALUE_ACCESSOR,useExisting:core_1.forwardRef(function(){return t}),multi:!0}]}),__metadata("design:paramtypes",[core_1.ElementRef,core_1.Renderer2,services_1.userpreferences,services_1.modal,services_1.language])],e)}();exports.SystemInputDate=SystemInputDate;var SystemInputDelayed=function(){function e(){this.delay=500,this.placeholder=""}var t;return t=e,Object.defineProperty(e.prototype,"value",{get:function(){return this._value},set:function(e){var t=this;this._value=e,this._modeltimeout&&window.clearTimeout(this._modeltimeout),this._modeltimeout=window.setTimeout(function(){return t.onChange(t._value)},this.delay)},enumerable:!0,configurable:!0}),e.prototype.registerOnChange=function(e){this.onChange=e},e.prototype.registerOnTouched=function(e){this.onTouched=e},e.prototype.writeValue=function(e){this._value=e},__decorate([core_1.Input(),__metadata("design:type",Number)],e.prototype,"delay",void 0),__decorate([core_1.Input(),__metadata("design:type",String)],e.prototype,"placeholder",void 0),e=t=__decorate([core_1.Component({selector:"system-input-delayed",template:'<div class="slds-form-element"><div class="slds-form-element__control"><input class="slds-input" type="text" [placeholder]="placeholder" [(ngModel)]="value"></div></div>',providers:[{provide:forms_1.NG_VALUE_ACCESSOR,useExisting:core_1.forwardRef(function(){return t}),multi:!0}]})],e)}();exports.SystemInputDelayed=SystemInputDelayed;var SystemInputFieldset=function(){function e(e,t){this.language=e,this.metadata=t,this.disabled=!1,this._fieldsets=[],this._module="",this._fieldsets=this.metadata.getFieldSets()}var t;return t=e,Object.defineProperty(e.prototype,"fieldset",{get:function(){return this._fieldset},set:function(e){this._fieldset=e,this.onChange(e)},enumerable:!0,configurable:!0}),e.prototype.detectModule=function(){this._fieldset&&(this._module=this.metadata.getFieldset(this._fieldset).module)},e.prototype.registerOnChange=function(e){this.onChange=e},e.prototype.registerOnTouched=function(e){this.onTouched=e},e.prototype.writeValue=function(e){this._fieldset=e,this.detectModule()},__decorate([core_1.Input(),__metadata("design:type",Object)],e.prototype,"disabled",void 0),e=t=__decorate([core_1.Component({selector:"system-input-fieldset",template:'<div class="slds-grid"><system-input-module [(ngModel)]="_module" class="slds-p-right--xxx-small slds-size--1-of-3" [displayAsterisk]="true"></system-input-module><div class="slds-form-element__control slds-p-left--xxx-small slds-size--2-of-3"><div class="slds-select_container"><select [disabled]="!_module || disabled" class="slds-select" [(ngModel)]="fieldset"><option></option><optgroup [label]="\'custom \' + language.getLabel(\'LBL_FIELDSET\')" *ngIf="_fieldsets|systemmodulecustompipe:_module.length > 0"><option *ngFor="let sysFieldset of _fieldsets|systemmodulecustompipe:_module" [value]="sysFieldset.id">{{sysFieldset.name}}</option></optgroup><optgroup [label]="\'global \' + language.getLabel(\'LBL_FIELDSET\')" *ngIf="_fieldsets|systemmoduleglobalpipe:_module.length > 0"><option *ngFor="let sysFieldset of _fieldsets|systemmoduleglobalpipe:_module" [value]="sysFieldset.id">{{sysFieldset.name}}</option></optgroup></select></div></div></div>',providers:[{provide:forms_1.NG_VALUE_ACCESSOR,useExisting:core_1.forwardRef(function(){return t}),multi:!0}]}),__metadata("design:paramtypes",[services_1.language,services_1.metadata])],e)}();exports.SystemInputFieldset=SystemInputFieldset;var SystemInputLabel=function(){function e(e,t,s){this.language=e,this.modal=t,this.modelutilities=s,this._time={display:"",moment:null,offset:0,valid:!0},this.label="",this._searchterm="",this.foundlabels=[]}var t;return t=e,Object.defineProperty(e.prototype,"isOpen",{get:function(){return""!=this._searchterm},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"searchterm",{get:function(){return this._searchterm},set:function(e){this._searchterm=e,this.dosearch()},enumerable:!0,configurable:!0}),e.prototype.ngOnDestroy=function(){this.clickListener&&this.clickListener()},e.prototype.onBlur=function(){this._searchterm=""},e.prototype.dosearch=function(){this._searchterm?this.foundlabels=this.language.searchLabel(this._searchterm,50):this.foundlabels=[]},e.prototype.selectLabel=function(e){this.label=e,this._searchterm="",this.onChange(e)},e.prototype.clearField=function(){this.label="",this.onChange("")},e.prototype.keyup=function(e){switch(e.key){case"Enter":this.label=this._searchterm,this.onChange(this.label),this._searchterm=""}},e.prototype.addLabel=function(){var t=this,s={id:this.modelutilities.generateGuid(),name:"",scope:"custom",custom_translations:[],global_translations:[]};s.custom_translations.push({id:this.modelutilities.generateGuid(),syslanguagelabel_id:s.id,syslanguage:this.language.languagedata.languages.default}),this.modal.openModal("LanguageLabelModal").subscribe(function(e){e.instance.label=s,e.instance.label$.subscribe(function(e){e&&(t.label=e.name,t.onChange(t.label))})})},e.prototype.registerOnChange=function(e){this.onChange=e},e.prototype.registerOnTouched=function(e){this.onTouched=e},e.prototype.writeValue=function(e){this.label=e},e=t=__decorate([core_1.Component({selector:"system-input-label",template:'<div class="slds-combobox_container"><div class="slds-combobox slds-dropdown-trigger slds-dropdown-trigger_click" [ngClass]="{\'slds-is-open\': isOpen}" role="combobox"><div *ngIf="label" class="slds-form-element__control"><div class="slds-pill_container"><span class="slds-pill slds-size--1-of-1 slds-p-horizontal--xx-small"><span class="slds-pill__label"><system-label [label]="label"></system-label>&nbsp;({{label}})</span> <button class="slds-button slds-button--icon slds-pill__remove" (click)="clearField()"><system-button-icon [icon]="\'close\'"></system-button-icon></button></span></div></div><div *ngIf="!label" class="slds-form-element__control slds-grid slds-box--border"><div class="slds-input-has-icon slds-input-has-icon--right slds-grow"><input type="search" class="slds-lookup__search-input slds-input--bare" [(ngModel)]="searchterm" (keyup)="keyup($event)" (blur)="onBlur()" [placeholder]="language.getLabel(\'LBL_SEARCH\')" role="combobox"></div></div><div class="slds-dropdown slds-dropdown_fluid slds-dropdown--length-7" role="listbox"><ul class="slds-listbox slds-listbox_vertical" role="presentation"><li *ngFor="let foundlabel of foundlabels" role="presentation" class="slds-listbox__item" (mousedown)="selectLabel(foundlabel.label)"><div class="slds-media slds-listbox__option slds-listbox__option_plain" role="option"><span class="slds-truncate">{{foundlabel.label}} [{{foundlabel.translation}}]</span></div></li><li class="slds-listbox__item slds-border_top slds-p-vertical--xx-small" role="presentation" (mousedown)="addLabel()"><button class="slds-button slds-button--icon slds-align_absolute-center"><system-utility-icon [icon]="\'add\'" [size]="\'x-small\'"></system-utility-icon></button></li></ul></div></div></div>',providers:[{provide:forms_1.NG_VALUE_ACCESSOR,useExisting:core_1.forwardRef(function(){return t}),multi:!0}]}),__metadata("design:paramtypes",[services_1.language,services_1.modal,services_1.modelutilities])],e)}();exports.SystemInputLabel=SystemInputLabel;var SystemInputModule=function(){function e(e,t,s){var o=this;this.language=e,this.metadata=t,this.configuration=s,this.disabled=!1,this.displaytechnicalname=!0,this.displayAsterisk=!1,this.subscription=new rxjs_1.Subscription,this._modules=[],this._modules=this.metadata.getModules(),this.sortModules(),this.subscription=this.language.currentlanguage$.subscribe(function(e){o.sortModules()})}var t;return(t=e).prototype.ngOnDestroy=function(){this.subscription.unsubscribe()},e.prototype.sortModules=function(){var s=this;this._modules.sort(function(e,t){return s.language.getModuleName(e).toLowerCase()>s.language.getModuleName(t).toLowerCase()?1:-1})},Object.defineProperty(e.prototype,"module",{get:function(){return this._module},set:function(e){this._module=e,this.onChange&&this.onChange(e)},enumerable:!0,configurable:!0}),e.prototype.registerOnChange=function(e){this.onChange=e},e.prototype.registerOnTouched=function(e){this.onTouched=e},e.prototype.writeValue=function(e){this._module=e},__decorate([core_1.Input(),__metadata("design:type",Object)],e.prototype,"disabled",void 0),__decorate([core_1.Input(),__metadata("design:type",Boolean)],e.prototype,"displaytechnicalname",void 0),__decorate([core_1.Input(),__metadata("design:type",Boolean)],e.prototype,"displayAsterisk",void 0),e=t=__decorate([core_1.Component({selector:"system-input-module",template:'<div class="slds-form-element__control"><div class="slds-select_container"><select [disabled]="disabled" class="slds-select" [(ngModel)]="module"><option *ngIf="displayAsterisk" value="*">*</option><option *ngFor="let thismodule of _modules" [value]="thismodule"><system-label-modulename [module]="thismodule"></system-label-modulename> <span *ngIf="displaytechnicalname">&nbsp;({{thismodule}})</span></option></select></div></div>',providers:[{provide:forms_1.NG_VALUE_ACCESSOR,useExisting:core_1.forwardRef(function(){return t}),multi:!0}]}),__metadata("design:paramtypes",[services_1.language,services_1.metadata,services_1.configurationService])],e)}();exports.SystemInputModule=SystemInputModule;var SystemInputModuleFilter=function(){function e(e,t){this.language=e,this.metadata=t,this.modules=[],this._modulefilters=[],this.module="",this._modulefilter="",this._modulefilters=this.metadata.getModuleFilters();for(var s=function(t){o.modules.find(function(e){return e==t.module})||o.modules.push(t.module)},o=this,i=0,n=this._modulefilters;i<n.length;i++){s(n[i])}this.modules.sort()}var t;return t=e,Object.defineProperty(e.prototype,"modulefilter",{get:function(){return this._modulefilter},set:function(e){this._modulefilter=e,this.onChange(e)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"modulefilters",{get:function(){var t=this;return this._modulefilters.filter(function(e){return e.module==t.module})},enumerable:!0,configurable:!0}),e.prototype.registerOnChange=function(e){this.onChange=e},e.prototype.registerOnTouched=function(e){this.onTouched=e},e.prototype.writeValue=function(e){this._modulefilter=e,this._modulefilter&&(this.module=this.metadata.getModuleFilter(this._modulefilter).module)},__decorate([core_1.Input(),__metadata("design:type",Object)],e.prototype,"disabled",void 0),e=t=__decorate([core_1.Component({selector:"system-input-module-filter",template:'<div class="slds-form-element slds-m-vertical--xxx-small"><div class="slds-grid"><div class="slds-form-element__control slds-p-right--xxx-small slds-size--1-of-3"><div class="slds-select_container"><select [disabled]="disabled" class="slds-select" [(ngModel)]="module"><option></option><option *ngFor="let module of modules" [value]="module">{{module}}</option></select></div></div><div class="slds-form-element__control slds-p-left--xxx-small slds-size--2-of-3"><div class="slds-select_container"><select [disabled]="!module || disabled" class="slds-select" [(ngModel)]="modulefilter"><option></option><option *ngFor="let modulefilter of modulefilters" [value]="modulefilter.id">{{modulefilter.name}}</option></select></div></div></div></div>',providers:[{provide:forms_1.NG_VALUE_ACCESSOR,useExisting:core_1.forwardRef(function(){return t}),multi:!0}]}),__metadata("design:paramtypes",[services_1.language,services_1.metadata])],e)}();exports.SystemInputModuleFilter=SystemInputModuleFilter;var SystemInputModuleField=function(){function e(e,t,s){this.language=e,this.metadata=t,this.configuration=s,this.disabled=!1,this.displaytechnicalname=!0,this._fields=[],this.subscription=new rxjs_1.Subscription}var t;return(t=e).prototype.ngOnInit=function(){var t=this,e=this.metadata.getModuleFields(this.module);for(var s in e)this._fields.push(s);this.sortFields(),this.subscription=this.language.currentlanguage$.subscribe(function(e){t.sortFields()})},e.prototype.sortFields=function(){var s=this;this._fields.sort(function(e,t){return s.language.getFieldDisplayName(s.module,e).toLowerCase()>s.language.getFieldDisplayName(s.module,t).toLowerCase()?1:-1})},Object.defineProperty(e.prototype,"field",{get:function(){return this._field},set:function(e){this._field=e,this.onChange&&this.onChange(e)},enumerable:!0,configurable:!0}),e.prototype.registerOnChange=function(e){this.onChange=e},e.prototype.registerOnTouched=function(e){this.onTouched=e},e.prototype.writeValue=function(e){this._field=e},e.prototype.ngOnDestroy=function(){this.subscription.unsubscribe()},__decorate([core_1.Input(),__metadata("design:type",String)],e.prototype,"module",void 0),__decorate([core_1.Input(),__metadata("design:type",Object)],e.prototype,"disabled",void 0),__decorate([core_1.Input(),__metadata("design:type",Boolean)],e.prototype,"displaytechnicalname",void 0),e=t=__decorate([core_1.Component({selector:"system-input-module-field",template:'<div class="slds-form-element__control"><div class="slds-select_container"><select [disabled]="disabled" class="slds-select" [(ngModel)]="field"><option *ngFor="let thisfield of _fields" [value]="thisfield"><system-label-fieldname [module]="module" [field]="thisfield"></system-label-fieldname> <span *ngIf="displaytechnicalname">&nbsp;({{thisfield}})</span></option></select></div></div>',providers:[{provide:forms_1.NG_VALUE_ACCESSOR,useExisting:core_1.forwardRef(function(){return t}),multi:!0}]}),__metadata("design:paramtypes",[services_1.language,services_1.metadata,services_1.configurationService])],e)}();exports.SystemInputModuleField=SystemInputModuleField;var SystemInputNumber=function(){function e(e){this.userpreferences=e,this.onlyField=!1,this.disabled=!1,this.textValue="",this.lastTextValue=""}var t;return(t=e).prototype.registerOnChange=function(e){this.onChange=e},e.prototype.registerOnTouched=function(e){this.onTouched=e},e.prototype.writeValue=function(e){this.textValue=e,this.textValue&&this.getValSanitized(this.textValue),this.lastTextValue=this.textValue},e.prototype.onChange=function(e){},e.prototype.onTouched=function(){},e.prototype.fieldChanged=function(e){this.textValue=this.getValSanitized(this.textValue),this.textValue!==this.lastTextValue?(this.onChange(this.textValue),this.lastTextValue=this.textValue):e.stopPropagation()},e.prototype.getValSanitized=function(e){var t=this.userpreferences.toUse,s=void 0===this.precision?t.default_currency_significant_digits:this.precision,o=this.textValue.split(t.num_grp_sep).join("");return o=o.split(t.dec_sep).join("."),o=(o=(o=isNaN(parseFloat(o))?void 0:Math.floor(o*Math.pow(10,s))/Math.pow(10,s))&&o>this.max?this.max:o)&&o<this.min?this.min:o,this.getValAsText(o)},e.prototype.getValAsText=function(e){if(void 0===e)return"";var t=parseFloat(e);return isNaN(t)?"":this.userpreferences.formatMoney(t,this.precision)},__decorate([core_1.Input(),__metadata("design:type",Number)],e.prototype,"max",void 0),__decorate([core_1.Input(),__metadata("design:type",Number)],e.prototype,"min",void 0),__decorate([core_1.Input(),__metadata("design:type",Number)],e.prototype,"precision",void 0),__decorate([core_1.Input(),__metadata("design:type",Object)],e.prototype,"onlyField",void 0),__decorate([core_1.Input(),__metadata("design:type",String)],e.prototype,"placeholder",void 0),__decorate([core_1.Input(),__metadata("design:type",Object)],e.prototype,"disabled",void 0),__decorate([core_1.Input(),__metadata("design:type",Number)],e.prototype,"size",void 0),e=t=__decorate([core_1.Component({selector:"system-input-number",template:'<div *ngIf="!onlyField" class="slds-form-element__control"><div class="slds-form-element"><ng-template [ngTemplateOutlet]="field"></ng-template></div></div><ng-template *ngIf="onlyField" [ngTemplateOutlet]="field"></ng-template><ng-template #field><input class="slds-input slds-text-align--right" type="text" [(ngModel)]="textValue" (change)="fieldChanged($event)" [attr.placeholder]="placeholder" [disabled]="disabled" [attr.size]="size" [ngStyle]="{\'width\':size?\'auto\':undefined}"></ng-template>',providers:[{provide:forms_1.NG_VALUE_ACCESSOR,useExisting:core_1.forwardRef(function(){return t}),multi:!0}]}),__metadata("design:paramtypes",[services_1.userpreferences])],e)}();exports.SystemInputNumber=SystemInputNumber;var SystemInputPassword=function(){function e(){this._inputtype="password",this.disabled=!1}var t;return t=e,Object.defineProperty(e.prototype,"value",{get:function(){return this._value},set:function(e){e!=this._value&&(this._value=e,this.onChange(e))},enumerable:!0,configurable:!0}),e.prototype.registerOnChange=function(e){this.onChange=e},e.prototype.registerOnTouched=function(e){this.onTouched=e},e.prototype.writeValue=function(e){this._value=e},Object.defineProperty(e.prototype,"inputtype",{get:function(){return this.disabled?"password":this._inputtype},enumerable:!0,configurable:!0}),e.prototype.toggleType=function(){this._inputtype="text"==this._inputtype?"password":"text"},Object.defineProperty(e.prototype,"toggleicon",{get:function(){return"text"==this.inputtype?"hide":"preview"},enumerable:!0,configurable:!0}),__decorate([core_1.Input(),__metadata("design:type",Boolean)],e.prototype,"disabled",void 0),e=t=__decorate([core_1.Component({selector:"system-input-password",template:'<div class="slds-form-element__control slds-input-has-icon slds-input-has-icon_right"><button [disabled]="disabled" (click)="toggleType()" class="slds-button slds-button_icon slds-input__icon slds-input__icon_right"><system-button-icon [icon]="toggleicon"></system-button-icon></button> <input [type]="inputtype" [disabled]="disabled" class="slds-input" autocomplete="new-password" [(ngModel)]="value"></div>',providers:[{provide:forms_1.NG_VALUE_ACCESSOR,useExisting:core_1.forwardRef(function(){return t}),multi:!0}]}),__metadata("design:paramtypes",[])],e)}();exports.SystemInputPassword=SystemInputPassword;var SystemInputRadio=function(){function e(e){this.modelutilities=e,this.disabled=!1,this.id=this.modelutilities.generateGuid()}var t;return(t=e).prototype.setChecked=function(e){e.target.checked&&this.onChange(this.value)},e.prototype.registerOnChange=function(t){this.onChange=function(e){t(e)}},e.prototype.registerOnTouched=function(e){this.onTouched=e},e.prototype.writeValue=function(e){e&&e==this.value?this.checked=!0:this.checked=!1},__decorate([core_1.Input(),__metadata("design:type",String)],e.prototype,"name",void 0),__decorate([core_1.Input(),__metadata("design:type",Object)],e.prototype,"value",void 0),__decorate([core_1.Input(),__metadata("design:type",Boolean)],e.prototype,"disabled",void 0),e=t=__decorate([core_1.Component({selector:"system-input-radio",template:'<div class="slds-radio slds-truncate"><input type="radio" [id]="id" [name]="name" [checked]="checked" [disabled]="disabled" (change)="setChecked($event)"> <label class="slds-radio__label" [attr.for]="id"><span class="slds-radio_faux"></span> <span class="slds-form-element__label"><ng-content></ng-content></span></label></div>',providers:[{provide:forms_1.NG_VALUE_ACCESSOR,useExisting:core_1.forwardRef(function(){return t}),multi:!0}]}),__metadata("design:paramtypes",[services_1.modelutilities])],e)}();exports.SystemInputRadio=SystemInputRadio;var SystemInputRadioButtonGroup=function(){function e(e){this.cdRef=e,this.inputOptions=[],this.disabled=!1,this.groupName=_.uniqueId("group-name-")}var t;return t=e,Object.defineProperty(e.prototype,"modelValue",{get:function(){return this._modelValue},set:function(e){this.onChange(e),this.writeValue(e)},enumerable:!0,configurable:!0}),e.prototype.ngAfterViewInit=function(){this.cdRef.detach()},e.prototype.ngOnChanges=function(e){e.inputOptions&&this.setItemsInitialValues(),this.cdRef.detectChanges()},e.prototype.registerOnChange=function(t){this.onChange=function(e){t(e)}},e.prototype.registerOnTouched=function(e){this.onTouched=e},e.prototype.writeValue=function(e){this._modelValue=e,this.cdRef.detectChanges()},e.prototype.setItemsInitialValues=function(){this.inputOptions.forEach(function(e){e.id||(e.id=_.uniqueId("input-id-")),e.label&&!e.title&&(e.title=e.label)})},e.prototype.trackByFn=function(e,t){return t.id},__decorate([core_1.Input(),__metadata("design:type",Array)],e.prototype,"inputOptions",void 0),__decorate([core_1.Input(),__metadata("design:type",Boolean)],e.prototype,"disabled",void 0),e=t=__decorate([core_1.Component({selector:"system-input-radio-button-group",template:'<div class="slds-radio_button-group slds-m-right--x-small"><span *ngFor="let inputOption of inputOptions; trackBy: trackByFn" class="slds-button slds-radio_button"><input type="radio" [(ngModel)]="modelValue" [value]="inputOption.value" [disabled]="disabled || inputOption.disabled" [name]="groupName" [id]="inputOption.id"> <label class="slds-radio_button__label slds-height_full" [for]="inputOption.id"><span class="slds-radio_faux" style="padding: 0 .5rem;"><system-label *ngIf="!!inputOption.label; else iconContainer" [label]="inputOption.label" class="slds-truncate"></system-label><ng-template #iconContainer><system-utility-icon [icon]="inputOption.icon || \'choice\'" size="x-small"></system-utility-icon></ng-template></span></label></span></div>',changeDetection:core_1.ChangeDetectionStrategy.OnPush,providers:[{provide:forms_1.NG_VALUE_ACCESSOR,useExisting:core_1.forwardRef(function(){return t}),multi:!0}]}),__metadata("design:paramtypes",[core_1.ChangeDetectorRef])],e)}();exports.SystemInputRadioButtonGroup=SystemInputRadioButtonGroup;var SystemInputRelate=function(){function e(e,t){this.language=e,this.modal=t}var t;return(t=e).prototype.clearField=function(){this._relatedid=void 0,this._relatedname=void 0,this.onChange(void 0)},e.prototype.registerOnChange=function(e){this.onChange=e},e.prototype.registerOnTouched=function(e){this.onTouched=e},e.prototype.writeValue=function(e){if(e){var t=e.split("::");this._relatedid=t[0],this._relatedname=t[1]}this._relatedid=e},e.prototype.searchWithModal=function(){var t=this;this.modal.openModal("ObjectModalModuleLookup").subscribe(function(e){e.instance.module=t.module,e.instance.multiselect=!1,e.instance.selectedItems.subscribe(function(e){e.length&&(t._relatedid=e[0].id,t._relatedname=e[0].summary_text,t.onChange(t._relatedid+"::"+t._relatedname))})})},__decorate([core_1.Input(),__metadata("design:type",String)],e.prototype,"module",void 0),e=t=__decorate([core_1.Component({selector:"system-input-relate",template:'<div class="slds-combobox_container"><div class="slds-form-element slds-lookup"><div class="slds-combobox slds-dropdown-trigger slds-dropdown-trigger_click" role="combobox"><div *ngIf="_relatedid" class="slds-form-element__control"><div class="slds-pill_container"><span class="slds-pill slds-size--1-of-1"><span class="slds-icon_container slds-icon-standard-account slds-pill__icon_container"><system-icon [module]="module" size="small"></system-icon></span> <span class="slds-pill__label">{{_relatedname}}</span> <button class="slds-button slds-button--icon slds-pill__remove" (click)="clearField()"><system-button-icon [icon]="\'close\'"></system-button-icon></button></span></div></div><div *ngIf="!_relatedid" class="slds-form-element__control slds-grid slds-box--border"><div class="slds-input-has-icon slds-input-has-icon--right slds-grow"><input type="text" class="slds-lookup__search-input slds-input--bare" (focus)="searchWithModal()" [placeholder]="language.getModuleCombinedLabel(\'LBL_SEARCH\', module)" autocomplete="none" role="combobox"> <button (click)="searchWithModal()" class="slds-button slds-button_icon slds-input__icon slds-input__icon_right"><system-button-icon [icon]="\'search\'"></system-button-icon></button></div></div></div></div></div>',providers:[{provide:forms_1.NG_VALUE_ACCESSOR,useExisting:core_1.forwardRef(function(){return t}),multi:!0}]}),__metadata("design:paramtypes",[services_1.language,services_1.modal])],e)}();exports.SystemInputRelate=SystemInputRelate;var SystemInputState=function(){function e(e,t,s){this.metadata=e,this.language=t,this.configuration=s,this.states=[],this.strict=!1,"strict"==this.configuration.getCapabilityConfig("spiceui").addressmode&&(this.strict=!0)}var t;return t=e,Object.defineProperty(e.prototype,"value",{get:function(){return this._value},set:function(e){e!=this._value&&(this._value=e,this.onChange(e))},enumerable:!0,configurable:!0}),e.prototype.registerOnChange=function(e){this.onChange=e},e.prototype.registerOnTouched=function(e){this.onTouched=e},e.prototype.writeValue=function(e){this._value=e},e.prototype.ngOnChanges=function(){this.strict&&this.getStates()},e.prototype.getStates=function(){var s=this;if(this.states=[],this.country){var e=this.configuration.getData("countries");e.states&&(this.states=e.states.filter(function(e){return e.cc==s.country}),this.states.sort(function(e,t){return s.language.getLabel(e.label).localeCompare(s.language.getLabel(t.label))}))}},__decorate([core_1.Input(),__metadata("design:type",String)],e.prototype,"country",void 0),e=t=__decorate([core_1.Component({selector:"system-input-state",template:'<div class="slds-form-element"><div *ngIf="strict; else countryinput" class="slds-select_container"><select #focus class="slds-select" [disabled]="states.length == 0" [(ngModel)]="value"><option></option><option *ngFor="let s of states" [value]="s.sc"><system-label [label]="s.label"></system-label></option></select></div><ng-template #countryinput><div class="slds-form-element__control"><input type="text" class="slds-input" [(ngModel)]="value"></div></ng-template></div>',providers:[{provide:forms_1.NG_VALUE_ACCESSOR,useExisting:core_1.forwardRef(function(){return t}),multi:!0}]}),__metadata("design:paramtypes",[services_1.metadata,services_1.language,services_1.configurationService])],e)}();exports.SystemInputState=SystemInputState;var SystemInputTags=function(){function e(e,t,s,o,i){this.elementref=e,this.renderer=t,this.userpreferences=s,this.backend=o,this.language=i,this.tagemitter=new core_1.EventEmitter,this.querystring="",this.querytimeout=void 0,this.matchedtags=[]}return Object.defineProperty(e.prototype,"isOpen",{get:function(){return 0<this.matchedtags.length},enumerable:!0,configurable:!0}),e.prototype.search=function(e){var t=this;switch(e.key){case"ArrowDown":case"ArrowUp":break;case",":case";":case"Enter":this.addTag(this.querystring.replace(/^[\s]+|[\s\W]+$/gm,""));break;default:this.querytimeout&&window.clearTimeout(this.querytimeout),this.querytimeout=window.setTimeout(function(){return t.doSearch()},500)}},e.prototype.doSearch=function(){var t=this;this.backend.postRequest("/SpiceTags",{},{search:this.querystring.trim()}).subscribe(function(e){t.matchedtags=e,t.matchedtags.sort(function(e,t){return e.toLowerCase()>t.toLowerCase()?1:-1})})},e.prototype.addTag=function(e){this.querytimeout&&window.clearTimeout(this.querytimeout),this.matchedtags=[],this.tagemitter.emit(e),this.querystring=""},__decorate([core_1.Output(),__metadata("design:type",core_1.EventEmitter)],e.prototype,"tagemitter",void 0),e=__decorate([core_1.Component({selector:"system-input-tags",template:'<div class="slds-combobox_container"><div class="slds-combobox slds-dropdown-trigger slds-dropdown-trigger_click" role="combobox" [ngClass]="{\'slds-is-open\': isOpen}"><div class="slds-combobox__form-element" role="none"><input class="slds-input slds-combobox__input" type="search" [placeholder]="language.getLabel(\'LBL_SEARCH_TAG\')" [(ngModel)]="querystring" (keyup)="search($event)"></div><div class="slds-dropdown slds-dropdown_fluid" role="listbox"><ul class="slds-listbox slds-listbox_vertical" role="presentation"><li *ngFor="let matchedtag of matchedtags" role="presentation" class="slds-listbox__item" (click)="addTag(matchedtag)"><div class="slds-media slds-listbox__option slds-listbox__option_plain" role="option">{{matchedtag}}</div></li></ul></div></div></div>'}),__metadata("design:paramtypes",[core_1.ElementRef,core_1.Renderer2,services_1.userpreferences,services_1.backend,services_1.language])],e)}();exports.SystemInputTags=SystemInputTags;var SystemInputTime=function(){function e(e,t,s,o){this.elementref=e,this.renderer=t,this.userpreferences=s,this.language=o,this._time={display:"",moment:null,offset:0,valid:!0},this.dropdownValues=[],this.isOpen=!1,this.minutes_interval=30,this.dropdownValues=this.getDropdownValues()}var t;return(t=e).prototype.ngOnDestroy=function(){},Object.defineProperty(e.prototype,"isValid",{get:function(){return this._time.valid},enumerable:!0,configurable:!0}),e.prototype.getDropdownValues=function(){for(var e=0,t=[];e<=1440;){var s=(new moment).hour(0).minute(0).second(0);s.add(e,"minutes"),t.push({offset:e,display:s.format(this.userpreferences.getTimeFormat()),current:!1}),e+=this.minutes_interval}return t},e.prototype.getDropDownValueByOffset=function(t){return this.dropdownValues.find(function(e){return e.offset==t})},e.prototype.getNextDropDownValue=function(){return this.getDropDownValueByOffset(this._time.offset+this.minutes_interval)},e.prototype.setDisplayToNextDropDownValue=function(){this.display=this.getNextDropDownValue().display},e.prototype.setDisplayToPreviousDropDownValue=function(){this.display=this.getDropDownValueByOffset(this._time.offset-this.minutes_interval).display},Object.defineProperty(e.prototype,"display",{get:function(){return this._time.display},set:function(e){if(e){var t=moment(e,this.userpreferences.getTimeFormat(),!0);if(t.isValid())this._time.moment||(this._time.moment=new moment),this._time.moment.set("hour",t.hour()),this._time.moment.set("minute",t.minute()),this._time.valid=!0,this._time.offset=this.calculateOffset(this._time.moment),this._time.display=e,this.closeDropDown(),this.onChange(this._time.moment);else{if("string"==typeof e&&e.length<=2&&0<e.length)return parseInt(e,10)<10?e="0"+e+":00":e+=":00",void(this.display=e);this._time.valid=!1}}else this.clear()},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"canclear",{get:function(){return!!this._time.display},enumerable:!0,configurable:!0}),e.prototype.clear=function(e){void 0===e&&(e=!0),this._time.moment||(this._time.moment=new moment),this._time.moment=null,this._time.display="",this._time.valid=!0,"function"==typeof this.onChange&&e&&this.onChange(this._time.moment)},e.prototype.toggleDropDown=function(){this.isOpen=!this.isOpen,this.isOpen},e.prototype.closeDropDown=function(){this.isOpen=!1},e.prototype.registerOnChange=function(e){this.onChange=e},e.prototype.registerOnTouched=function(e){this.onTouched=e},e.prototype.writeValue=function(e){e&&e.isValid&&e.isValid()?(this._time.moment=new moment(e),this._time.offset=this.calculateOffset(this._time.moment),this._time.display=this._time.moment.format(this.userpreferences.getTimeFormat())):this.clear(!1)},e.prototype.selectValue=function(e){this._time.moment||(this._time.moment=new moment),this._time.moment.hour(0).minute(0).second(0),this._time.moment.add(e,"minutes"),this._time.offset=e,this._time.display=this._time.moment.format(this.userpreferences.getTimeFormat()),"function"==typeof this.onChange&&this.onChange(this._time.moment),this.closeDropDown()},e.prototype.calculateOffset=function(e){var t=60*e.hour()+e.minute();return Math.floor(t/this.minutes_interval)*this.minutes_interval},e=t=__decorate([core_1.Component({selector:"system-input-time",template:'<div class="slds-form-element" [ngClass]="{\'slds-has-error\': !isValid}"><div class="slds-form-element__control"><div class="slds-combobox_container"><div class="slds-combobox slds-dropdown-trigger slds-dropdown-trigger_click slds-combobox-picklist slds-timepicker" [ngClass]="{\'slds-is-open\':isOpen}" role="combobox"><div class="slds-combobox__form-element slds-input-has-icon slds-input-has-icon_right" role="none"><input class="slds-input slds-combobox__input" aria-controls="listbox-unique-id" autocomplete="off" role="textbox" type="text" [ngModelOptions]="{updateOn: \'blur\'}" [(ngModel)]="display" (keyup.arrowup)="setDisplayToNextDropDownValue()" (keyup.arrowdown)="setDisplayToPreviousDropDownValue()"><div class="slds-input__icon-group slds-input__icon-group_right"><button *ngIf="canclear" class="slds-input__icon slds-input__icon_right slds-button slds-button_icon" style="position: relative;" (click)="clear()"><system-button-icon icon="clear"></system-button-icon></button> <button class="slds-input__icon slds-input__icon_right slds-button slds-button_icon" style="position: relative;" (click)="toggleDropDown()"><system-button-icon icon="clock"></system-button-icon></button></div></div><div role="listbox" (mouseleave)="closeDropDown()"><ul class="slds-listbox slds-listbox_vertical slds-dropdown slds-dropdown--fluid slds-dropdown--length-7" role="presentation"><li *ngFor="let dropdownValue of dropdownValues" role="presentation" class="slds-listbox__item" (click)="display = dropdownValue.display"><div class="slds-media slds-listbox__option slds-listbox__option_plain slds-media_small slds-media_center" [ngClass]="{\'slds-is-selected\': dropdownValue.offset == _time.offset}" role="option"><span class="slds-media__figure"><system-icon addclasses="slds-icon slds-listbox__icon-selected" icon="check" sprite="utility" size="x-small"></system-icon></span> <span class="slds-media__body"><span class="slds-truncate" [title]="dropdownValue.display">{{dropdownValue.display}}</span></span></div></li></ul></div></div></div></div><div *ngIf="!isValid" class="slds-form-element__help"><system-label label="LBL_INPUT_INVALID"></system-label></div></div>',providers:[{provide:forms_1.NG_VALUE_ACCESSOR,useExisting:core_1.forwardRef(function(){return t}),multi:!0}]}),__metadata("design:paramtypes",[core_1.ElementRef,core_1.Renderer2,services_1.userpreferences,services_1.language])],e)}();exports.SystemInputTime=SystemInputTime;var SystemInputCompanycodes=function(){function e(e,t){this.language=e,this.configuration=t,this.disabled=!1,this._companycodes=[],this._companycodes=this.configuration.getData("companycodes"),"object"==typeof this._companycodes&&this._companycodes.sort(function(e,t){return e.name>t.name?-1:1})}var t;return t=e,Object.defineProperty(e.prototype,"companycode",{get:function(){return this._companycode},set:function(e){this._companycode=e,this.onChange&&this.onChange(e)},enumerable:!0,configurable:!0}),e.prototype.registerOnChange=function(e){this.onChange=e},e.prototype.registerOnTouched=function(e){this.onTouched=e},e.prototype.writeValue=function(e){this._companycode=e},__decorate([core_1.Input(),__metadata("design:type",Object)],e.prototype,"disabled",void 0),e=t=__decorate([core_1.Component({selector:"system-input-companycodes",template:'<div class="slds-form-element__control"><div class="slds-select_container"><select [disabled]="disabled" class="slds-select" [(ngModel)]="companycode"><option *ngFor="let thisCompanycode of _companycodes" [value]="thisCompanycode.id">{{thisCompanycode.name}}</option></select></div></div>',providers:[{provide:forms_1.NG_VALUE_ACCESSOR,useExisting:core_1.forwardRef(function(){return t}),multi:!0}]}),__metadata("design:paramtypes",[services_1.language,services_1.configurationService])],e)}();exports.SystemInputCompanycodes=SystemInputCompanycodes;var SystemInputBackendMethod=function(){function e(e,t,s){this.language=e,this.metadata=t,this.backend=s,this.disabled=!1,this._class="",this._method="",this._classexists=!1,this._methods=[]}var t;return t=e,Object.defineProperty(e.prototype,"modelOptions",{get:function(){return{updateOn:"blur"}},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"classname",{get:function(){return this._class},set:function(e){this._class=e,""!=this.classname?this.validateNamespace():(this._method="",this._methods=[],this._classexists=!1),this.joinValue()},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"methodname",{get:function(){return this._method},set:function(e){this._method=e,this.joinValue()},enumerable:!0,configurable:!0}),e.prototype.validateNamespace=function(){var t=this;this.backend.getRequest("system/checkclass/"+btoa(this._class)).subscribe(function(e){t._classexists=e.classexists,t._methods=e.methods})},e.prototype.splitValue=function(){if(this._value){var e=this._value.split("->");this._class=e[0],this._method=e[1],this.validateNamespace()}},e.prototype.joinValue=function(){""!=this._class?this._value=this._class+"->"+this._method:this._value="",this.onChange(this._value)},e.prototype.registerOnChange=function(e){this.onChange=e},e.prototype.registerOnTouched=function(e){this.onTouched=e},e.prototype.writeValue=function(e){e!=this._value&&(this._value=e,this.splitValue())},__decorate([core_1.Input(),__metadata("design:type",Object)],e.prototype,"disabled",void 0),e=t=__decorate([core_1.Component({selector:"system-input-backend-method",template:'<div class="slds-grid slds-grid--vertical-align-center slds-gutters_direct-xx-small"><input #focus type="text" class="slds-col slds-size--2-of-3 slds-input" [disabled]="disabled" [(ngModel)]="classname" [ngModelOptions]="modelOptions"><div class="slds-col slds-size--1-of-3 slds-select_container"><select class="slds-select" [disabled]="!_classexists || _methods.length == 0 || disabled" [(ngModel)]="methodname"><option *ngFor="let o of _methods" [value]="o">{{o}}</option></select></div></div>',providers:[{provide:forms_1.NG_VALUE_ACCESSOR,useExisting:core_1.forwardRef(function(){return t}),multi:!0}]}),__metadata("design:paramtypes",[services_1.language,services_1.metadata,services_1.backend])],e)}();exports.SystemInputBackendMethod=SystemInputBackendMethod;var SystemLabel=function(){function e(e,t){var s=this;this.language=e,this.cdRef=t,this.length="default",this.subsciptions=new rxjs_1.Subscription,this.subsciptions.add(this.language.currentlanguage$.subscribe(function(){return s.detectChanges()}))}return e.prototype.ngOnDestroy=function(){this.subsciptions.unsubscribe()},e.prototype.ngOnChanges=function(e){this.detectChanges()},e.prototype.detectChanges=function(){this.cdRef.detectChanges()},__decorate([core_1.Input(),__metadata("design:type",String)],e.prototype,"label",void 0),__decorate([core_1.Input(),__metadata("design:type",String)],e.prototype,"length",void 0),e=__decorate([core_1.Component({selector:"system-label",template:"{{language.getLabel(label, undefined, length)}}",changeDetection:core_1.ChangeDetectionStrategy.OnPush}),__metadata("design:paramtypes",[services_1.language,core_1.ChangeDetectorRef])],e)}();exports.SystemLabel=SystemLabel;var SystemLabelFieldname=function(){function e(e,t){var s=this;this.language=e,this.cdRef=t,this.fieldconfig={},this.length="default",this.subsciptions=new rxjs_1.Subscription,this.subsciptions.add(this.language.currentlanguage$.subscribe(function(){return s.detectChanges()}))}return e.prototype.ngOnDestroy=function(){this.subsciptions.unsubscribe()},e.prototype.ngOnChanges=function(e){this.detectChanges()},e.prototype.detectChanges=function(){this.cdRef.detectChanges()},__decorate([core_1.Input(),__metadata("design:type",String)],e.prototype,"module",void 0),__decorate([core_1.Input(),__metadata("design:type",String)],e.prototype,"field",void 0),__decorate([core_1.Input(),__metadata("design:type",Object)],e.prototype,"fieldconfig",void 0),__decorate([core_1.Input(),__metadata("design:type",String)],e.prototype,"length",void 0),e=__decorate([core_1.Component({selector:"system-label-fieldname",template:"{{language.getFieldDisplayName(module, field, fieldconfig, length)}}",changeDetection:core_1.ChangeDetectionStrategy.OnPush}),__metadata("design:paramtypes",[services_1.language,core_1.ChangeDetectorRef])],e)}();exports.SystemLabelFieldname=SystemLabelFieldname;var SystemLabelModulename=function(){function e(e,t){var s=this;this.language=e,this.cdRef=t,this.singular=!1,this.length="default",this.subsciptions=new rxjs_1.Subscription,this.subsciptions.add(this.language.currentlanguage$.subscribe(function(){return s.detectChanges()}))}return e.prototype.ngOnDestroy=function(){this.subsciptions.unsubscribe()},e.prototype.ngOnChanges=function(e){this.detectChanges()},e.prototype.detectChanges=function(){this.cdRef.detectChanges()},__decorate([core_1.Input(),__metadata("design:type",String)],e.prototype,"module",void 0),__decorate([core_1.Input(),__metadata("design:type",Boolean)],e.prototype,"singular",void 0),__decorate([core_1.Input(),__metadata("design:type",String)],e.prototype,"length",void 0),e=__decorate([core_1.Component({selector:"system-label-modulename",template:"{{language.getModuleName(module, singular, length)}}",changeDetection:core_1.ChangeDetectionStrategy.OnPush}),__metadata("design:paramtypes",[services_1.language,core_1.ChangeDetectorRef])],e)}();exports.SystemLabelModulename=SystemLabelModulename;var SystemLanguageSelector=function(){function e(e){this.language=e,this.availableLanguages=[],this.selected=new core_1.EventEmitter,this.displaylabel=!0,this.compId=_.uniqueId()}return e.prototype.ngOnInit=function(){this.getAvialableLanguages()},e.prototype.getAvialableLanguages=function(){this.availableLanguages=this.language.getAvialableLanguages(!0)},Object.defineProperty(e.prototype,"currentlanguage",{get:function(){return this.language.currentlanguage},set:function(e){this.language.currentlanguage=e,this.language.loadLanguage(),this.selected.emit(!0)},enumerable:!0,configurable:!0}),__decorate([core_1.Input(),__metadata("design:type",Boolean)],e.prototype,"displaylabel",void 0),e=__decorate([core_1.Component({selector:"system-language-selector",template:'<div class="slds-form-element"><label *ngIf="displaylabel" class="slds-form-element__label" for="{{compId}}-select-lang"><system-label label="LBL_SELECT_LANGUAGE"></system-label></label><div class="slds-form-element__control"><div class="slds-select_container"><select [disabled]="availableLanguages.length <= 1" class="slds-select" [(ngModel)]="currentlanguage" id="{{compId}}-select-lang"><option *ngFor="let language of availableLanguages" [value]="language.language">{{language.text}}</option></select></div></div></div>'}),__metadata("design:paramtypes",[services_1.language])],e)}();exports.SystemLanguageSelector=SystemLanguageSelector;var SystemLink=function(){function e(){this.click=new core_1.EventEmitter}return e.prototype.clicked=function(e){this.click.emit(e)},__decorate([core_1.Output(),__metadata("design:type",core_1.EventEmitter)],e.prototype,"click",void 0),e=__decorate([core_1.Component({selector:"system-link",template:'<span class="slds-text-link_reset" (click)="clicked($event)"><ng-content></ng-content></span>'})],e)}();exports.SystemLink=SystemLink;var SystemLoaderProgress=function(){function e(e){this.loader=e}return e=__decorate([core_1.Component({selector:"system-loader-progress",template:'<div class="slds-align--absolute-center"><div class="slds-size--2-of-3"><div class="slds-progress-bar slds-progress-bar_circular slds-progress-bar_medium"><span class="slds-progress-bar__value" [style.width]="loader.progress+\'%\'" style="background-color:#aaa"></span></div><div class="slds-text-align--center slds-p-vertical--small">... loading {{loader.activeLoader}} ...</div></div></div>'}),__metadata("design:paramtypes",[services_1.loader])],e)}();exports.SystemLoaderProgress=SystemLoaderProgress;var SystemLoadingModal=function(){function SystemLoadingModal(e){this.language=e,this.messagelabel="LBL_LOADING"}return SystemLoadingModal=__decorate([core_1.Component({template:'<section role="dialog" tabindex="-1" class="slds-modal slds-fade-in-open"><div class="slds-modal__container"><div class="slds-modal__header slds-modal__header_empty"></div><div class="slds-modal__content slds-p-around_medium"><div class="slds-align--absolute-center"><div class="slds-grid slds-grid--vertical-align-center"><system-spinner size="16"></system-spinner><div class="slds-p-left--small"><system-label [label]="this.messagelabel"></system-label></div></div></div></div></div></section>'}),__metadata("design:paramtypes",[services_1.language])],SystemLoadingModal)}();exports.SystemLoadingModal=SystemLoadingModal;var SystemModalContent=function(){function e(){this.margin="medium",this.grow=!1}return Object.defineProperty(e.prototype,"marginclass",{get:function(){var e="slds-modal__content slds-scrollable--y slds-p-around--"+this.margin;return this.grow&&(e+=" slds-grow"),e},enumerable:!0,configurable:!0}),__decorate([core_1.Input(),__metadata("design:type",String)],e.prototype,"margin",void 0),__decorate([core_1.Input(),__metadata("design:type",Boolean)],e.prototype,"grow",void 0),e=__decorate([core_1.Component({selector:"system-modal-content",template:"<ng-content></ng-content>",host:{"[class]":"this.marginclass"}})],e)}();exports.SystemModalContent=SystemModalContent;var SystemModalFooter=function(){function e(){}return e=__decorate([core_1.Component({selector:"system-modal-footer",template:'<footer class="slds-modal__footer"><ng-content></ng-content></footer>'})],e)}();exports.SystemModalFooter=SystemModalFooter;var SystemModalHeaderRight=function(){function e(){}return e=__decorate([core_1.Component({selector:"system-modal-header-right",template:"<ng-content></ng-content>"})],e)}();exports.SystemModalHeaderRight=SystemModalHeaderRight;var SystemModalHeaderTagline=function(){function e(){}return e=__decorate([core_1.Component({selector:"system-modal-header-tagline",template:'<p class="slds-m-top_x-small"><ng-content></ng-content></p>'})],e)}();exports.SystemModalHeaderTagline=SystemModalHeaderTagline;var SystemModalHeader=function(){function e(e,t){this.language=e,this.layout=t,this.module="",this.hiddenCloseButton=!1,this.close=new core_1.EventEmitter}return Object.defineProperty(e.prototype,"isSmall",{get:function(){return"small"==this.layout.screenwidth},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"headerStyle",{get:function(){return"small"==this.layout.screenwidth?{"border-radius":"0px"}:{}},enumerable:!0,configurable:!0}),__decorate([core_1.Input(),__metadata("design:type",String)],e.prototype,"module",void 0),__decorate([core_1.Input(),__metadata("design:type",Object)],e.prototype,"hiddenCloseButton",void 0),__decorate([core_1.Output(),__metadata("design:type",core_1.EventEmitter)],e.prototype,"close",void 0),e=__decorate([core_1.Component({selector:"system-modal-header",template:'<header class="slds-modal__header slds-theme--shade" [ngStyle]="headerStyle"><button *ngIf="!hiddenCloseButton && !isSmall" class="slds-button slds-button_icon slds-modal__close slds-button--icon-inverse" (click)="close.emit(true)"><system-button-icon icon="close" size="large"></system-button-icon><span class="slds-assistive-text"><system-label label="LBL_CLOSE"></system-label></span></button> <button *ngIf="!hiddenCloseButton && isSmall" class="slds-button slds-button_icon slds-is-absolute" style="top: 3px; right: 3px;" (click)="close.emit(true)"><system-button-icon icon="close"></system-button-icon><span class="slds-assistive-text"><system-label label="LBL_CLOSE"></system-label></span></button><div class="slds-grid slds-grid--align-spread slds-grid_vertical-align-center"><div class="slds-media__figure slds-m-right_x-small"><span *ngIf="module" class="slds-icon_container"><system-icon [module]="module" size="small"></system-icon></span></div><h2 class="slds-text-heading_medium slds-hyphenate"><ng-content></ng-content></h2><div><ng-content select="system-modal-header-right"></ng-content></div></div><ng-content select="system-modal-header-tagline"></ng-content></header>'}),__metadata("design:paramtypes",[services_1.language,services_1.layout])],e)}();exports.SystemModalHeader=SystemModalHeader;var SystemModalWrapper=function(){function SystemModalWrapper(e,t){this.modalservice=e,this.application=t,this.self=null,this.escKey=!0}return SystemModalWrapper.prototype.closeModal=function(){this.self.destroy()},SystemModalWrapper.prototype.ngOnDestroy=function(){this.modalservice.removeModal(this.self),this.application.tick()},SystemModalWrapper.prototype.setEscKey=function(e){void 0===e&&(e=!0),this.escKey=e},__decorate([core_1.ViewChild("target",{read:core_1.ViewContainerRef,static:!0}),__metadata("design:type",core_1.ViewContainerRef)],SystemModalWrapper.prototype,"target",void 0),SystemModalWrapper=__decorate([core_1.Component({selector:"system-modal-wrapper",template:'<div [style.zIndex]="zIndex" style="position:fixed"><span #target></span></div>'}),__metadata("design:paramtypes",[services_1.modal,core_1.ApplicationRef])],SystemModalWrapper)}();exports.SystemModalWrapper=SystemModalWrapper;var SystemModal=function(){function e(e,t){this.metadata=e,this.layout=t,this.size="medium",this.class=""}return Object.defineProperty(e.prototype,"sizeClass",{get:function(){return this.size?this.class+" slds-modal_"+this.size:this.class},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"containerStyle",{get:function(){return"small"==this.layout.screenwidth?{padding:"0px",margin:"0px","border-radius":"0px"}:{}},enumerable:!0,configurable:!0}),__decorate([core_1.Input(),__metadata("design:type",String)],e.prototype,"size",void 0),__decorate([core_1.Input(),__metadata("design:type",String)],e.prototype,"class",void 0),e=__decorate([core_1.Component({selector:"system-modal",template:'<section role="dialog" class="slds-modal slds-fade-in-open" [ngClass]="sizeClass"><div @modalanimation class="slds-modal__container" [ngStyle]="containerStyle"><ng-content select="system-modal-header"></ng-content><ng-content select="system-modal-content"></ng-content><ng-content select="system-modal-footer"></ng-content></div></section>',animations:[animations_1.trigger("modalanimation",[animations_1.transition(":enter",[animations_1.style({opacity:0}),animations_1.animate(".3s",animations_1.style({opacity:1}))]),animations_1.transition(":leave",[animations_1.animate(".3s",animations_1.style({opacity:0}))])])]}),__metadata("design:paramtypes",[services_1.metadata,services_1.layout])],e)}();exports.SystemModal=SystemModal;var SystemNumberSpinner=function(){function e(e,t){this.userpreferences=e,this.cdref=t,this._value=0,this.steps=20,this.duration=300}return e.prototype.ngOnChanges=function(e){var t=this,s=(parseFloat(this.value)-this._value)/this.steps;rxjs_1.interval(this.duration/this.steps).pipe(operators_1.take(this.steps)).subscribe(function(e){t._value!=parseFloat(t.value)&&(t._value+=s,Math.abs(t._value-parseFloat(t.value))<1&&(t._value=parseFloat(t.value)),t.cdref.detectChanges())},function(e){t._value=parseFloat(t.value),t.cdref.detectChanges()},function(){t._value=parseFloat(t.value),t.cdref.detectChanges()})},Object.defineProperty(e.prototype,"displayvalue",{get:function(){return this.userpreferences.formatMoney(this._value,0)},enumerable:!0,configurable:!0}),__decorate([core_1.Input(),__metadata("design:type",Object)],e.prototype,"value",void 0),__decorate([core_1.Input(),__metadata("design:type",Number)],e.prototype,"steps",void 0),__decorate([core_1.Input(),__metadata("design:type",Number)],e.prototype,"duration",void 0),e=__decorate([core_1.Component({selector:"system-number-spinner",template:"{{displayvalue}}",changeDetection:core_1.ChangeDetectionStrategy.OnPush}),__metadata("design:paramtypes",[services_1.userpreferences,core_1.ChangeDetectorRef])],e)}();exports.SystemNumberSpinner=SystemNumberSpinner;var SystemObjectPreviewModal=function(){function SystemObjectPreviewModal(e,t){this.language=e,this.sanitizer=t,this.self={},this.type="",this.name=""}return SystemObjectPreviewModal.prototype.closeModal=function(){this.self.destroy()},Object.defineProperty(SystemObjectPreviewModal.prototype,"data",{set:function(e){var t=this.datatoBlob(e,this.type);this.blobUrl=this.sanitizer.bypassSecurityTrustResourceUrl(URL.createObjectURL(t))},enumerable:!0,configurable:!0}),Object.defineProperty(SystemObjectPreviewModal.prototype,"objecttype",{get:function(){if(!this.type)return"";var e=this.type.split("/");switch(e[0]){case"audio":case"video":return e[0];default:return"object"}},enumerable:!0,configurable:!0}),SystemObjectPreviewModal.prototype.download=function(){var e=document.createElement("a");document.body.appendChild(e),e.href=this.blobUrl,e.download=this.name,e.click(),e.remove()},SystemObjectPreviewModal.prototype.datatoBlob=function(e,t,s){void 0===t&&(t=""),void 0===s&&(s=512);for(var o=[],i=0;i<e.length;i+=s){for(var n=e.slice(i,i+s),a=new Array(n.length),r=0;r<n.length;r++)a[r]=n.charCodeAt(r);var l=new Uint8Array(a);o.push(l)}return new Blob(o,{type:t})},__decorate([core_1.Input(),__metadata("design:type",String)],SystemObjectPreviewModal.prototype,"type",void 0),__decorate([core_1.Input(),__metadata("design:type",String)],SystemObjectPreviewModal.prototype,"name",void 0),SystemObjectPreviewModal=__decorate([core_1.Component({template:'<system-modal size="large"><system-modal-header (close)="closeModal()">{{name}}</system-modal-header><system-modal-content margin="none"><div *ngIf="!blobUrl" style="height: 50vh;" class="slds-align--absolute-center"><system-spinner></system-spinner></div><ng-container *ngIf="blobUrl" [ngSwitch]="objecttype"><div *ngSwitchCase="\'audio\'" class="slds-p-around--small slds-text-align--center"><audio controls><source [src]="blobUrl" [type]="type"></audio></div><div *ngSwitchCase="\'video\'" class="slds-p-around--small slds-text-align--center"><video width="320" height="240" controls><source [src]="blobUrl" [type]="type"></video></div><div *ngSwitchDefault style="height: 80vh; overflow: hidden;"><object [data]="blobUrl" [type]="type" width="100%" height="100%"></object></div></ng-container></system-modal-content></system-modal>'}),__metadata("design:paramtypes",[services_1.language,platform_browser_1.DomSanitizer])],SystemObjectPreviewModal)}();exports.SystemObjectPreviewModal=SystemObjectPreviewModal;var SystemProgressRing=function(){function e(e){this.language=e,this.percentage=100,this.size=24,this.status=""}return Object.defineProperty(e.prototype,"style",{get:function(){return{height:this.size+"px",width:this.size+"px"}},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"fillPercentage",{get:function(){return this.percentage/100},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"d",{get:function(){return"M 1 0 A 1 1 0 "+(50<this.percentage?"1":"0")+" 1 "+Math.cos(2*Math.PI*this.fillPercentage)+" "+Math.sin(2*Math.PI*this.fillPercentage)+" L 0 0"},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"ringClass",{get:function(){if(""==this.status&&100<=this.percentage)return"slds-progress-ring_complete";switch(this.status){case"warning":return"slds-progress-ring_warning";case"expired":return"slds-progress-ring_expired"}},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"iconstatus",{get:function(){return 100<=this.percentage?"complete":this.status},enumerable:!0,configurable:!0}),__decorate([core_1.Input(),__metadata("design:type",Number)],e.prototype,"percentage",void 0),__decorate([core_1.Input(),__metadata("design:type",Number)],e.prototype,"size",void 0),__decorate([core_1.Input(),__metadata("design:type",String)],e.prototype,"status",void 0),e=__decorate([core_1.Component({selector:"system-progress-ring",template:'<div class="slds-progress-ring" [ngClass]="ringClass"><div class="slds-progress-ring__progress" role="progressbar" aria-valuemin="0" aria-valuemax="100" aria-valuenow="88"><svg viewBox="-1 -1 2 2"><path class="slds-progress-ring__path" [attr.d]="d"></path></svg></div><div class="slds-progress-ring__content"><span *ngIf="iconstatus==\'warning\'" class="slds-icon_container slds-icon-utility-warning" title="Warning"><svg class="slds-icon" aria-hidden="true"><use xmlns:xlink="http://www.w3.org/1999/xlink" xlink:href="vendor/sldassets/icons/utility-sprite/svg/symbols.svg#warning"></use></svg><span class="slds-assistive-text"><system-label label="LBL_WARNING"></system-label></span></span> <span *ngIf="iconstatus==\'expired\'" class="slds-icon_container slds-icon-utility-error" title="Expired"><svg class="slds-icon" aria-hidden="true"><use xmlns:xlink="http://www.w3.org/1999/xlink" xlink:href="vendor/sldassets/icons/utility-sprite/svg/symbols.svg#error"></use></svg><span class="slds-assistive-text"><system-label label="LBL_EXPIRED"></system-label></span></span> <span *ngIf="iconstatus==\'complete\'" class="slds-icon_container slds-icon-utility-check" title="Complete"><svg class="slds-icon" aria-hidden="true"><use xmlns:xlink="http://www.w3.org/1999/xlink" xlink:href="vendor/sldassets/icons/utility-sprite/svg/symbols.svg#check"></use></svg><span class="slds-assistive-text"><system-label label="LBL_COMPLETE"></system-label></span></span></div></div>'}),__metadata("design:paramtypes",[services_1.language])],e)}();exports.SystemProgressRing=SystemProgressRing;var SystemProgressBar=function(){function e(e,t){this.lang=e,this.userprefs=t,this.progress=0,this.decimals=2,this.size="medium",this.total=null}return Object.defineProperty(e.prototype,"displayPercents",{get:function(){return null===this.total},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"_progress",{get:function(){return void 0===this.progress?0:this.progress},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"_total",{get:function(){return void 0===this.total?0:this.total},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"progressText",{get:function(){return(this.displayPercents?this._progress.toFixed(this.decimals)+" %":this._progress.toFixed(this.decimals)+"/"+this._total.toFixed(this.decimals)).split(".").join(this.userprefs.toUse.dec_sep)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"progressWidth",{get:function(){return this.displayPercents?100<this._progress?100:this._progress:(this._progress>this._total?this._total:this._progress)/this._total*100},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"sizeClass",{get:function(){return"slds-progress-bar_"+this.size},enumerable:!0,configurable:!0}),__decorate([core_1.Input(),__metadata("design:type",Number)],e.prototype,"progress",void 0),__decorate([core_1.Input(),__metadata("design:type",Number)],e.prototype,"decimals",void 0),__decorate([core_1.Input(),__metadata("design:type",Object)],e.prototype,"size",void 0),__decorate([core_1.Input(),__metadata("design:type",Number)],e.prototype,"total",void 0),e=__decorate([core_1.Component({selector:"system-progress-bar",template:'<div><div class="slds-grid slds-grid_align-spread slds-p-bottom_x-small"><span class="slds-m-left--xx-small"><ng-content></ng-content></span> <strong class="slds-m-right--x-small">{{progressText}} {{lang.getLabel(\'LBL_COMPLETED\')}}</strong></div><div class="slds-progress-bar slds-progress-bar_circular" [ngClass]="sizeClass"><span class="slds-progress-bar__value" [ngStyle]="{\'width.%\':progressWidth}"></span></div></div>',host:{style:"display:block"}}),__metadata("design:paramtypes",[services_1.language,services_1.userpreferences])],e)}();exports.SystemProgressBar=SystemProgressBar;var SystemPrompt=function(){function SystemPrompt(e){this.language=e,this.value=null,this.options=null,this.answer=null,this.answerSubject=null,this.answerSubject=new rxjs_1.Subject,this.answer=this.answerSubject.asObservable()}return Object.defineProperty(SystemPrompt.prototype,"splitText",{get:function(){return this.text?this.text.split(/(?:\r\n|\r|\n)/g):[]},enumerable:!0,configurable:!0}),SystemPrompt.prototype.ngOnInit=function(){this.theme||(this.theme="shade")},SystemPrompt.prototype.ngAfterViewInit=function(){"confirm"===this.type?this.cancelButton.nativeElement.focus():"info"===this.type?this.okButton.nativeElement.focus():"input"===this.type&&this.inputField.nativeElement.focus()},SystemPrompt.prototype.clickOK=function(){"input"===this.type?this.answerSubject.next(this.value):this.answerSubject.next(!0),this.answerSubject.complete(),this.self.destroy()},SystemPrompt.prototype.clickCancel=function(){this.answerSubject.next(!1),this.answerSubject.complete(),this.self.destroy()},SystemPrompt.prototype.onModalEscX=function(){if("info"===this.type)return!1;this.clickCancel()},__decorate([core_1.Input(),__metadata("design:type",String)],SystemPrompt.prototype,"type",void 0),__decorate([core_1.Input(),__metadata("design:type",String)],SystemPrompt.prototype,"text",void 0),__decorate([core_1.Input(),__metadata("design:type",String)],SystemPrompt.prototype,"headertext",void 0),__decorate([core_1.Input(),__metadata("design:type",String)],SystemPrompt.prototype,"theme",void 0),__decorate([core_1.Input(),__metadata("design:type",Object)],SystemPrompt.prototype,"value",void 0),__decorate([core_1.Input(),__metadata("design:type",Array)],SystemPrompt.prototype,"options",void 0),__decorate([core_1.ViewChild("cancelButton",{static:!1}),__metadata("design:type",Object)],SystemPrompt.prototype,"cancelButton",void 0),__decorate([core_1.ViewChild("okButton",{static:!1}),__metadata("design:type",Object)],SystemPrompt.prototype,"okButton",void 0),__decorate([core_1.ViewChild("inputField",{static:!1}),__metadata("design:type",Object)],SystemPrompt.prototype,"inputField",void 0),SystemPrompt=__decorate([core_1.Component({selector:"system-prompt",template:'<section role="alertdialog" tabindex="-1" class="slds-modal slds-fade-in-open slds-modal_prompt"><div class="slds-modal__container"><header class="slds-modal__header slds-theme_{{theme}}" [style.height]="headertext ? \'auto\':\'1rem\'"><h2 *ngIf="headertext" class="slds-text-heading_medium slds-hyphenate">{{headertext}}</h2></header><div *ngIf="text || type === \'input\'" class="slds-modal__content slds-text-align_center"><div *ngIf="text" class="slds-m-vertical_medium"><div *ngFor="let line of splitText">{{line}}</div></div><div *ngIf="type === \'input\'" class="slds-form-element slds-m-vertical_medium"><div class="slds-form-element__control"><input *ngIf="!options" #inputField class="slds-input" type="text" [(ngModel)]="value"><select *ngIf="options" #inputField class="slds-select" [(ngModel)]="value" style="width:inherit;max-width:100%"><option *ngFor="let option of options;let i=index" [selected]="i==value" [value]="i">{{option}}</option></select></div></div></div><footer class="slds-modal__footer"><button *ngIf="type !== \'info\'" #cancelButton class="slds-button slds-button--neutral" (click)="clickCancel()"><system-label label="LBL_CANCEL"></system-label></button> <button #okButton class="slds-button slds-button--brand" (click)="clickOK()">OK</button></footer></div></section>'}),__metadata("design:paramtypes",[services_1.language])],SystemPrompt)}();exports.SystemPrompt=SystemPrompt;var SystemRichTextEditor=function(){function SystemRichTextEditor(e,t,s,o,i,n,a){this.modal=e,this.renderer=t,this.metadata=s,this.editorService=o,this._document=i,this.elementRef=n,this.language=a,this.extendedmode=!0,this._html="",this.isActive=!1,this.modalOpen=!1,this.isExpanded=!1,this.contract=new core_1.EventEmitter,this.block="default",this.fontName="Tilium Web",this.fontSize="5",this.tagMap={BLOCKQUOTE:"indent",A:"link"},this.save$=new core_1.EventEmitter,this.select=["H1","H2","H3","H4","H5","H6","P","PRE","DIV"]}var e;return e=SystemRichTextEditor,Object.defineProperty(SystemRichTextEditor.prototype,"expandIcon",{get:function(){return this.isExpanded?"contract_alt":"expand_alt"},enumerable:!0,configurable:!0}),SystemRichTextEditor.prototype.getRichTextStyle=function(e){return this.isExpanded?{height:"calc(100vh - "+e.offsetTop+"px)",resize:"none"}:{}},SystemRichTextEditor.prototype.ngOnInit=function(){this.handleKeyboardShortcuts()},SystemRichTextEditor.prototype.ngOnDestroy=function(){this.clickListener&&this.clickListener(),this.keydownListener&&this.keydownListener()},SystemRichTextEditor.prototype.registerOnChange=function(e){this.onChange=e},SystemRichTextEditor.prototype.registerOnTouched=function(e){this.onTouched=e},SystemRichTextEditor.prototype.writeValue=function(e){this._html=e||"",this.renderer.setProperty(this.htmlEditor.element.nativeElement,"innerHTML",this._html)},SystemRichTextEditor.prototype.executeCommand=function(e){switch(e){case"openSourceEditor":this.openSourceEditor();break;case"openEditorModal":this.openEditorModal();break;case"openMediaFilePicker":this.openMediaFilePicker();break;default:this.isActive&&""!=e&&this.editorService.executeCommand(e),this.exec()}},SystemRichTextEditor.prototype.onEditorClick=function(e){var t=this;this.isActive||(this.isActive=!0,this.focusEditor(),this.clickListener=this.renderer.listen("document","click",function(e){return t.onDocumentClick(e)})),e.stopPropagation()},SystemRichTextEditor.prototype.onDocumentClick=function(e){this.modalOpen||this.elementRef.nativeElement.contains(e.target)||(this.isActive=!1,this.clickListener())},SystemRichTextEditor.prototype.onContentChange=function(e){"function"==typeof this.onChange&&this.onChange(e),this._html=e},SystemRichTextEditor.prototype.exec=function(){var e;window.getSelection&&(e=window.getSelection());for(var t=e.focusNode,s=[];t&&"editor"!==t.id;)s.unshift(t),t=t.parentNode;this.triggerBlocks(s)},SystemRichTextEditor.prototype.openEditorModal=function(){var t=this;this.isExpanded=!this.isExpanded,this.isExpanded?this.modal.openModal("SystemRichTextEditorModal").subscribe(function(e){t.editorModalSaveSubscriber=e.instance.save$.subscribe(function(e){return t.save$.emit(e)}),e.instance.content=t._html,e.instance.contract.pipe(operators_1.take(1)).subscribe(function(e){t.isExpanded=!1,t.focusEditor(),t.writeValue(e),t.onChange(e),t.editorModalSaveSubscriber&&t.editorModalSaveSubscriber.unsubscribe()})}):this.contract.emit(this._html)},SystemRichTextEditor.prototype.openMediaFilePicker=function(){var t=this;this.modalOpen=!0,this.modal.openModal("MediaFilePicker").subscribe(function(e){e.instance.answer.subscribe(function(e){e&&(e.upload?t.modal.openModal("MediaFileUploader").subscribe(function(e){e.instance.answer.subscribe(function(e){e&&(t.focusEditor(),t.editorService.restoreSelection(),t.editorService.insertImage("https://cdn.spicecrm.io/"+e)),t.modalOpen=!1})}):(e.id&&(t.focusEditor(),t.editorService.restoreSelection(),t.editorService.insertImage("https://cdn.spicecrm.io/"+e.id)),t.modalOpen=!1))})})},SystemRichTextEditor.prototype.openSourceEditor=function(){var t=this;this.modal.openModal("SystemRichTextSourceModal").subscribe(function(e){e.instance._html=t._html,e.instance.html.subscribe(function(e){t._html=e,"function"==typeof t.onChange&&t.onChange(e),t.renderer.setProperty(t.htmlEditor.element.nativeElement,"innerHTML",t._html)})})},SystemRichTextEditor.prototype.commandIsActive=function(e){return this.isActive&&this._document.queryCommandState(e)},SystemRichTextEditor.prototype.triggerBlocks=function(s){var o=this;if(this.isActive){var i=!1;this.select.forEach(function(t){var e=s.find(function(e){return e.nodeName===t});void 0===e||t!==e.nodeName&&"code"!=e.nodeName?!1===i&&(o.block="default"):!1===i&&(o.block=e.nodeName.toLowerCase(),i=!0)}),i=!1}},SystemRichTextEditor.prototype.insertUrl=function(){var e=prompt("Insert URL link","http://");e&&""!==e&&"http://"!==e&&(this.editorService.selectedText=this.getSelectedText(),this.editorService.createLink(e))},SystemRichTextEditor.prototype.addVideo=function(){var i=this;this.isActive&&(this.editorService.saveSelection(),this.modal.input("Add Video","Inser Video URL").subscribe(function(e){if(e&&0!=e.length){i.focusEditor(),i.editorService.restoreSelection();var t=/https?:\/\/(?:www\.)?vimeo.com\/(?:channels\/(?:\w+\/)?|groups\/([^\/]*)\/videos\/|album\/(\d+)\/video\/|)(\d+)(?:$|\/|\?)/,s=/^.*((youtu.be\/)|(v\/)|(\/u\/\w\/)|(embed\/)|(watch\?))\??v?=?([^#\&\?]*).*/;e.match(t)&&(e="https://player.vimeo.com/video/"+e.match(t)[3]),e.match(s)&&(e="https://www.youtube.com/embed/"+e.match(s)[7]);var o='<iframe src="'+e+'" frameborder="0" allow="encrypted-media" allowfullscreen></iframe>';i._document.execCommand("insertHTML",!1,o)}}))},SystemRichTextEditor.prototype.getSelectedText=function(){return window.getSelection?window.getSelection().toString():this._document.selection&&"Control"!=this._document.selection.type?this._document.selection.createRange().text:void 0},SystemRichTextEditor.prototype.insertColor=function(e,t){this.editorService.insertColor(e,t)},SystemRichTextEditor.prototype.setFontName=function(e){this.editorService.setFontName(e)},SystemRichTextEditor.prototype.setFontSize=function(e){this.editorService.setFontSize(e)},SystemRichTextEditor.prototype.onFileChanged=function(e){},SystemRichTextEditor.prototype.setCustomClass=function(e){},SystemRichTextEditor.prototype.encodeHtml=function(e){return String(e).replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;")},SystemRichTextEditor.prototype.addCodeSnippet=function(){if(this.isActive){var e='<br><pre style="background-color: #eee;border-radius: .2rem; border:1px solid #ccc; padding: .5rem"><code>'+(this.encodeHtml(this.getSelectedText())||"&nbsp;")+"</code></pre><br>";this._document.execCommand("insertHTML",!1,e)}},SystemRichTextEditor.prototype.onPaste=function(e){if("CODE"==e.target.nodeName){e.preventDefault();var t=(e.originalEvent||e).clipboardData.getData("text/plain");document.execCommand("insertHTML",!1,this.encodeHtml(t))}},SystemRichTextEditor.prototype.handleKeyboardShortcuts=function(){var t=this;this.keydownListener=this.renderer.listen("document","keydown",function(e){(window.navigator.platform.match("Mac")?e.metaKey:e.ctrlKey)&&"s"==e.key.toLowerCase()&&(e.preventDefault(),t.save$.emit(t._html))})},SystemRichTextEditor.prototype.focusEditor=function(){this.htmlEditor.element.nativeElement.focus()},__decorate([core_1.ViewChild("htmleditor",{read:core_1.ViewContainerRef,static:!0}),__metadata("design:type",core_1.ViewContainerRef)],SystemRichTextEditor.prototype,"htmlEditor",void 0),__decorate([core_1.Input(),__metadata("design:type",Boolean)],SystemRichTextEditor.prototype,"extendedmode",void 0),__decorate([core_1.Output(),__metadata("design:type",core_1.EventEmitter)],SystemRichTextEditor.prototype,"save$",void 0),SystemRichTextEditor=e=__decorate([core_1.Component({selector:"system-richtext-editor",template:'<div (click)="onEditorClick($event)" class="slds-rich-text-editor slds-grid slds-grid_vertical slds-nowrap"><div role="toolbar" class="slds-rich-text-editor__toolbar slds-shrink-none"><button class="slds-button slds-button_icon slds-button_icon-border-filled slds-m-right--xx-small" tabindex="-1" [title]="language.getLabel(\'LBL_SAVE\')" (click)="save$.emit(_html)"><system-button-icon icon="save"></system-button-icon></button><ul *ngIf="extendedmode" class="slds-button-group-list"><li><button class="slds-button slds-button_icon slds-button_icon-border-filled" tabindex="-1" [title]="language.getLabel(\'LBL_UNDO\')" (click)="executeCommand(\'undo\')"><system-button-icon icon="undo"></system-button-icon><span class="slds-assistive-text">undo</span></button></li><li><button class="slds-button slds-button_icon slds-button_icon-border-filled" tabindex="-1" [title]="language.getLabel(\'LBL_REDO\')" (click)="executeCommand(\'redo\')"><system-button-icon icon="redo"></system-button-icon><span class="slds-assistive-text">redo</span></button></li></ul><div *ngIf="extendedmode" class="slds-grid slds-rich-text-editor__spacing-wrapper" role="group"><div class="slds-rich-text-editor__select"><div class="slds-form-element"><div class="slds-form-element__control"><div class="slds-select_container"><select class="slds-select" [(ngModel)]="block" (change)="executeCommand(block)"><option value="h1"><h1>Heading 1</h1></option><option value="h2"><h2>Heading 2</h2></option><option value="h3"><h3>Heading 3</h3></option><option value="h4">Heading 4</option><option value="h5">Heading 5</option><option value="h6">Heading 6</option><option value="p">Paragraph</option><option value="pre">Predefined</option><option value="div">Standard</option><option value="default">Default</option></select></div></div></div></div></div><ul class="slds-button-group-list"><li><button class="slds-button slds-button_icon slds-button_icon-border-filled" tabindex="-1" [title]="language.getLabel(\'LBL_BOLD\')" (click)="executeCommand(\'bold\')" [ngClass]="{\'slds-active\': commandIsActive(\'bold\')}"><system-button-icon icon="bold"></system-button-icon></button></li><li><button class="slds-button slds-button_icon slds-button_icon-border-filled" tabindex="-1" [title]="language.getLabel(\'LBL_ITALIC\')" (click)="executeCommand(\'italic\')" [ngClass]="{\'slds-active\': commandIsActive(\'italic\')}"><system-button-icon icon="italic"></system-button-icon></button></li><li><button class="slds-button slds-button_icon slds-button_icon-border-filled" tabindex="-1" [title]="language.getLabel(\'LBL_UNDERLINE\')" (click)="executeCommand(\'underline\')" [ngClass]="{\'slds-active\': commandIsActive(\'underline\')}"><system-button-icon icon="underline"></system-button-icon></button></li><li><button class="slds-button slds-button_icon slds-button_icon-border-filled" tabindex="-1" [title]="language.getLabel(\'LBL_STRIKETHROUGH\')" (click)="executeCommand(\'strikethrough\')" [ngClass]="{\'slds-active\': commandIsActive(\'strikethrough\')}"><system-button-icon icon="strikethrough"></system-button-icon></button></li></ul><ul class="slds-button-group-list"><li><button class="slds-button slds-button_icon slds-button_icon-border-filled" tabindex="-1" [title]="language.getLabel(\'LBL_BULLETED_LIST\')" (click)="executeCommand(\'insertUnorderedList\')" [ngClass]="{\'slds-active\': commandIsActive(\'insertUnorderedList\')}"><system-button-icon icon="richtextbulletedlist"></system-button-icon></button></li><li><button class="slds-button slds-button_icon slds-button_icon-border-filled" tabindex="-1" [title]="language.getLabel(\'LBL_NUMBERED_LIST\')" (click)="executeCommand(\'insertOrderedList\')" [ngClass]="{\'slds-active\': commandIsActive(\'insertOrderedList\')}"><system-button-icon icon="richtextnumberedlist"></system-button-icon></button></li></ul><ul class="slds-button-group-list"><li><button class="slds-button slds-button_icon slds-button_icon-border-filled" tabindex="-1" [title]="language.getLabel(\'LBL_TEXT_INDENT\')" (click)="executeCommand(\'indent\')" [ngClass]="{\'slds-active\': commandIsActive(\'indent\')}"><system-button-icon icon="richtextindent"></system-button-icon></button></li><li><button class="slds-button slds-button_icon slds-button_icon-border-filled" tabindex="-1" [title]="language.getLabel(\'LBL_TEXT_OUTDENT\')" (click)="executeCommand(\'outdent\')" [ngClass]="{\'slds-active\': commandIsActive(\'otdent\')}"><system-button-icon icon="richtextoutdent"></system-button-icon></button></li></ul><ul class="slds-button-group-list"><li><button class="slds-button slds-button_icon slds-button_icon-border-filled" tabindex="-1" [title]="language.getLabel(\'LBL_LEFT_ALIGN\')" (click)="executeCommand(\'justifyLeft\')" [ngClass]="{\'slds-active\': commandIsActive(\'justifyLeft\')}"><system-button-icon icon="left_align_text"></system-button-icon></button></li><li><button class="slds-button slds-button_icon slds-button_icon-border-filled" tabindex="-1" [title]="language.getLabel(\'LBL_CENTER_ALIGN\')" (click)="executeCommand(\'justifyCenter\')" [ngClass]="{\'slds-active\': commandIsActive(\'justifyCenter\')}"><system-button-icon icon="center_align_text"></system-button-icon></button></li><li><button class="slds-button slds-button_icon slds-button_icon-border-filled" tabindex="-1" [title]="language.getLabel(\'LBL_RIGHT_ALIGN\')" (click)="executeCommand(\'justifyRight\')" [ngClass]="{\'slds-active\': commandIsActive(\'justifyRight\')}"><system-button-icon icon="right_align_text"></system-button-icon></button></li><li><button class="slds-button slds-button_icon slds-button_icon-border-filled" tabindex="-1" [title]="language.getLabel(\'LBL_ALIGN_TEXT\')" (click)="executeCommand(\'justifyFull\')" [ngClass]="{\'slds-active\': commandIsActive(\'justifyFull\')}"><system-button-icon icon="justify_text"></system-button-icon></button></li></ul><ul *ngIf="extendedmode" class="slds-button-group-list"><li><button class="slds-button slds-button_icon slds-button_icon-border-filled" tabindex="-1" [title]="language.getLabel(\'LBL_NEW_IMAGE\')" (click)="executeCommand(\'openMediaFilePicker\')"><system-button-icon icon="image"></system-button-icon></button></li><li><button class="slds-button slds-button_icon slds-button_icon-border-filled" tabindex="-1" [title]="language.getLabel(\'LBL_ADD_VIDEO\')" (click)="addVideo()"><system-button-icon icon="video"></system-button-icon></button></li><li><button class="slds-button slds-button_icon slds-button_icon-border-filled" tabindex="-1" [title]="language.getLabel(\'LBL_ADD_CODE_SNIPPET\')" (click)="addCodeSnippet()"><system-button-icon icon="snippet"></system-button-icon></button></li><li><button class="slds-button slds-button_icon slds-button_icon-border-filled" tabindex="-1" [title]="language.getLabel(\'LBL_LINK\')" (click)="insertUrl()"><system-button-icon icon="link"></system-button-icon></button></li><li><button class="slds-button slds-button_icon slds-button_icon-border-filled" tabindex="-1" [title]="language.getLabel(\'LBL_REMOVE_LINK\')" (click)="executeCommand(\'unlink\')"><system-button-icon icon="remove_link"></system-button-icon></button></li></ul><ul class="slds-button-group-list"><li><button class="slds-button slds-button_icon slds-button_icon-border-filled" tabindex="-1" [title]="language.getLabel(\'LBL_REMOVE_FORMATTING\')" (click)="executeCommand(\'removeFormat\')"><system-button-icon icon="remove_formatting"></system-button-icon></button></li></ul><ul *ngIf="extendedmode" class="slds-button-group-list"><li><button class="slds-button slds-button_icon slds-button_icon-border-filled" tabindex="-1" [title]="language.getLabel(\'LBL_SOURCE_EDITOR\')" (click)="executeCommand(\'openSourceEditor\')"><system-button-icon icon="insert_tag_field"></system-button-icon></button></li><li><button class="slds-button slds-button_icon slds-button_icon-border-filled" tabindex="-1" [title]="language.getLabel(\'LBL_EXPAND\')" (click)="executeCommand(\'openEditorModal\')"><system-button-icon [icon]="expandIcon"></system-button-icon></button></li></ul></div><div class="slds-rich-text-editor__textarea slds-grid" #editorWrapper><div #htmlEditorContainer class="slds-rich-text-area__content slds-text-color_weak slds-grow" [ngStyle]="getRichTextStyle(htmlEditorContainer)"><div #htmleditor tabindex="0" [attr.contenteditable]="isActive" style="height: 100%; cursor: text;" (click)="exec()" (keyup)="exec()" (paste)="onPaste($event)" (input)="onContentChange($event.target.innerHTML)"></div></div></div></div>',providers:[{provide:forms_1.NG_VALUE_ACCESSOR,useExisting:core_1.forwardRef(function(){return e}),multi:!0},systemrichtextservice]}),__param(4,core_1.Inject(common_1.DOCUMENT)),__metadata("design:paramtypes",[services_1.modal,core_1.Renderer2,services_1.metadata,systemrichtextservice,Object,core_1.ElementRef,services_1.language])],SystemRichTextEditor)}();exports.SystemRichTextEditor=SystemRichTextEditor;var SystemRichTextEditorModal=function(){function SystemRichTextEditorModal(e){this.metadata=e,this.content="",this.contract=new core_1.EventEmitter,this.save$=new core_1.EventEmitter}return SystemRichTextEditorModal.prototype.ngAfterViewInit=function(){this.renderView()},SystemRichTextEditorModal.prototype.renderView=function(){var t=this;this.metadata.addComponent("SystemRichTextEditor",this.modalContainer).subscribe(function(e){e.instance.isExpanded=!0,e.instance.htmlEditor.element.nativeElement.focus(),e.instance.writeValue(t.content),e.instance.contract.pipe(operators_1.take(1)).subscribe(function(e){t.self&&t.self.destroy(),t.contract.emit(e)}),t.selfOriginSaveSubscriber=e.instance.save$.subscribe(function(e){return t.save$.emit(e)})})},SystemRichTextEditorModal.prototype.ngOnDestroy=function(){this.selfOriginSaveSubscriber&&this.selfOriginSaveSubscriber.unsubscribe()},__decorate([core_1.ViewChild("modalContainer",{read:core_1.ViewContainerRef,static:!0}),__metadata("design:type",core_1.ViewContainerRef)],SystemRichTextEditorModal.prototype,"modalContainer",void 0),__decorate([core_1.Output(),__metadata("design:type",core_1.EventEmitter)],SystemRichTextEditorModal.prototype,"save$",void 0),SystemRichTextEditorModal=__decorate([core_1.Component({selector:"system-richtext-editor-modal",template:'<div style="position: fixed; top: 0; left: 0; height: 100vh; width: 100%; z-index: 9001"><div #modalContainer></div></div>'}),__metadata("design:paramtypes",[services_1.metadata])],SystemRichTextEditorModal)}();exports.SystemRichTextEditorModal=SystemRichTextEditorModal;var SystemRichTextSourceModal=function(){function SystemRichTextSourceModal(e,t,s,o){var i=this;this.language=e,this.renderer=t,this.sanitized=s,this.libloader=o,this.self={},this._html="",this.searchtext="",this.foundIndices=[],this.currentIndex=-1,this.html=new core_1.EventEmitter,this.beautifyenabled=!1,this.libloader.loadLib("jsbeautify").subscribe(function(e){i.beautifyenabled=!0})}return Object.defineProperty(SystemRichTextSourceModal.prototype,"nextDisabled",{get:function(){return this.currentIndex==this.foundIndices.length-1},enumerable:!0,configurable:!0}),Object.defineProperty(SystemRichTextSourceModal.prototype,"previewDisabled",{get:function(){return 0==this.currentIndex},enumerable:!0,configurable:!0}),Object.defineProperty(SystemRichTextSourceModal.prototype,"searchText",{get:function(){return this.searchtext},set:function(e){this.currentIndex=0,this.searchtext=e},enumerable:!0,configurable:!0}),Object.defineProperty(SystemRichTextSourceModal.prototype,"sanitizedHtml",{get:function(){return this.sanitized.bypassSecurityTrustHtml(this._html)},enumerable:!0,configurable:!0}),SystemRichTextSourceModal.prototype.ngOnInit=function(){this.renderer.setProperty(this.sourceEditor.nativeElement,"innerText",this._html)},SystemRichTextSourceModal.prototype.keyUp=function(e){(13==e.which||13==e.keyCode&&0<this.searchText.length)&&(this.currentIndex=0,this.selectFoundText())},SystemRichTextSourceModal.prototype.findTextIndices=function(e,t){this.foundIndices=[],e=e.toLowerCase();for(var s,o=0;o<t.length&&-1<(s=t.indexOf(e,o));)this.foundIndices.push(s),o=s+e.length},SystemRichTextSourceModal.prototype.getTextNodesIn=function(e){var s=this,o=[];if(3==e.nodeType)o.push(e);else{var i=e.childNodes;i.forEach(function(e,t){return o.concat(s.getTextNodesIn(i[t]))});for(var t=0,n=i.length;t<n;++t)o.push.apply(o,this.getTextNodesIn(i[t]))}return o},SystemRichTextSourceModal.prototype.selectFoundText=function(){var e=this.sourceEditor.nativeElement;if(document.createRange&&window.getSelection){var s=document.createRange();s.selectNodeContents(e);var t=this.getTextNodesIn(e);this.findTextIndices(this.searchText,t.map(function(e){return e.data}).join(""));var o=this.foundIndices[this.currentIndex],i=o+this.searchText.length,n=0;t.some(function(e){var t=n+e.length;if(o<t&&n<i)return s.setStart(e,o-n),s.setEnd(e,i-n),!0;n+=e.length});var a=window.getSelection();a.removeAllRanges(),a.addRange(s)}else if(document.hasOwnProperty("selection")&&document.body.hasOwnProperty("createTextRange")){var r=document.body.createTextRange();r.moveToElementText(e),r.collapse(!0),this.findTextIndices(this.searchText,this._html);var l=this.foundIndices[this.currentIndex],d=l+this.searchText.length;r.moveEnd("character",d),r.moveStart("character",l),r.select()}},SystemRichTextSourceModal.prototype.beautify=function(){this.renderer.setProperty(this.sourceEditor.nativeElement,"innerText",html_beautify(this.sourceEditor.nativeElement.innerText,{indent_size:4,indent_char:" ",indent_with_tabs:!1,end_with_newline:!1,indent_level:0,preserve_newlines:!0,max_preserve_newlines:10,space_in_paren:!1,space_in_empty_paren:!1,unindent_chained_methods:!1,break_chained_methods:!1,keep_array_indentation:!1,unescape_strings:!1,wrap_line_length:100,e4x:!1,comma_first:!1,operator_position:"before-newline",indent_empty_lines:!1,templating:["auto"]}))},SystemRichTextSourceModal.prototype.nextResult=function(){this.currentIndex<this.foundIndices.length&&(this.currentIndex++,this.selectFoundText())},SystemRichTextSourceModal.prototype.previewResult=function(){0<this.currentIndex&&(this.currentIndex--,this.selectFoundText())},SystemRichTextSourceModal.prototype.onContentChange=function(e){this._html=e},SystemRichTextSourceModal.prototype.close=function(){this.html.emit(this._html),this.self.destroy()},__decorate([core_1.ViewChild("sourceeditor",{static:!0}),__metadata("design:type",Object)],SystemRichTextSourceModal.prototype,"sourceEditor",void 0),SystemRichTextSourceModal=__decorate([core_1.Component({selector:"system-richtext-sourcemodal",template:'<system-modal size="large"><system-modal-header (close)="close()"><system-label label="LBL_SOURCE_EDITOR"></system-label></system-modal-header><system-modal-content><div class="slds-grid" style="height: 70vh;"><div class="slds-size--1-of-2 slds-p-right--xx-small"><div class="slds-box slds-theme--default slds-scrollable_y slds-rich-text-editor__output" [innerHtml]="sanitizedHtml" style="height: 100%;"></div></div><div class="slds-size--1-of-2 slds-p-left--x-small"><div class="slds-p-bottom--xx-small slds-grid"><div class="slds-grow slds-combobox__form-element slds-input-has-icon slds-input-has-icon_left-right slds-global-search__form-element" role="none"><system-utility-icon icon="search" addclasses="slds-input__icon slds-input__icon--left"></system-utility-icon><input (keyup)="keyUp($event)" type="text" class="slds-input" [placeholder]="language.getLabel(\'LBL_SEARCH\')" [(ngModel)]="searchText"><div *ngIf="foundIndices.length > 1" class="slds-grid slds-grid--align-spread slds-input__icon_right slds-is-absolute__top" style="height: 100%"><button (click)="nextResult()" [disabled]="nextDisabled" class="slds-button slds-button_icon slds-input__icon" style="position:relative;" [title]="language.getLabel(\'LBL_NEXT\')"><system-button-icon icon="arrowdown"></system-button-icon></button> <button (click)="previewResult()" [disabled]="previewDisabled" class="slds-button slds-button_icon slds-input__icon" style="position:relative;" [title]="language.getLabel(\'LBL_PREVIEW\')"><system-button-icon icon="arrowup"></system-button-icon></button></div></div><button [disabled]="!beautifyenabled" class="slds-m-left--xx-small slds-button slds-button--icon-border slds-button--neutral" (click)="beautify()"><system-button-icon icon="right_align_text"></system-button-icon></button></div><pre #sourceeditor [attr.contenteditable]="true" (input)="onContentChange($event.target[\'innerText\'])" style="height: calc(100% - 36px);" class="slds-box slds-m-around--none slds-theme--default slds-scrollable_y"></pre></div></div></system-modal-content><system-modal-footer><button class="slds-button slds-button--neutral" (click)="close()"><system-label label="LBL_OK"></system-label></button></system-modal-footer></system-modal>'}),__metadata("design:paramtypes",[services_1.language,core_1.Renderer2,platform_browser_1.DomSanitizer,services_1.libloader])],SystemRichTextSourceModal)}();exports.SystemRichTextSourceModal=SystemRichTextSourceModal;var SystemRoleSelector=function(){function e(e,t,s){this.language=e,this.metadata=t,this.broadcast=s,this.roles=[]}return e.prototype.ngOnInit=function(){this.getRoles()},e.prototype.getRoles=function(){this.roles=this.metadata.getRoles()},Object.defineProperty(e.prototype,"activeRole",{get:function(){return this.metadata.getActiveRole()},enumerable:!0,configurable:!0}),e.prototype.setActiveRole=function(e){this.metadata.setActiveRole(e),this.broadcast.broadcastMessage("applauncher.setrole",e)},e=__decorate([core_1.Component({selector:"system-role-selector",template:'<div system-dropdown-trigger-simple class="slds-dropdown-trigger slds-dropdown-trigger_click"><button class="slds-button slds-p-horizontal--xx-small" [disabled]="roles.length < 2" [title]="language.getLabel(activeRole.label, undefined, \'short\')"><span class="slds-avatar--small slds-align--absolute-center slds-line-height_reset" style="line-height: 25px;" [ngClass]="activeRole.icon"><system-label [label]="activeRole.label" length="short"></system-label></span></button><div class="slds-dropdown slds-dropdown--bottom slds-dropdown_right"><ul class="slds-dropdown__list" role="menu" aria-label="Show More"><li class="slds-dropdown__item" role="presentation" *ngFor="let role of roles" (click)="setActiveRole(role.id)"><a href="javascript:void(0);" role="menuitem"><div><span class="slds-avatar--small slds-align--absolute-center slds-line-height_reset" style="line-height: 25px;" [ngClass]="role.icon"><system-label [label]="role.label" length="short"></system-label></span></div><system-label class="slds-grow slds-p-left--x-small" [label]="role.label"></system-label></a></li></ul></div></div>'}),__metadata("design:paramtypes",[services_1.language,services_1.metadata,services_1.broadcast])],e)}();exports.SystemRoleSelector=SystemRoleSelector;var SystemSection=function(){function e(e){this.language=e,this.titlelabel="",this.expanded=!0,this.alwaysExpanded=!1}return e.prototype.togglePanel=function(){this.expanded=!this.expanded},e.prototype.getTabStyle=function(){if(!this.expanded)return{height:"0px",transform:"rotateX(90deg)"}},__decorate([core_1.Input(),__metadata("design:type",String)],e.prototype,"titlelabel",void 0),__decorate([core_1.Input(),__metadata("design:type",Boolean)],e.prototype,"expanded",void 0),__decorate([core_1.Input(),__metadata("design:type",Object)],e.prototype,"alwaysExpanded",void 0),e=__decorate([core_1.Component({selector:"system-section",template:'<div class="slds-section" [ngClass]="{\'slds-is-open\': expanded}"><h3 *ngIf="titlelabel" class="slds-section__title" [ngClass]="{\'slds-theme_shade\':alwaysExpanded}"><button *ngIf="!alwaysExpanded" aria-controls="expando-unique-id" aria-expanded="true" class="slds-button slds-section__title-action" (click)="togglePanel()"><system-utility-icon [icon]="\'switch\'" [size]="\'x-small\'" [addclasses]="\'slds-section__title-action-icon slds-button__icon slds-button__icon_left\'"></system-utility-icon><span class="slds-truncate" title="{{language.getLabel(titlelabel)}}"><system-label [label]="titlelabel"></system-label></span></button> <span *ngIf="alwaysExpanded" class="slds-truncate slds-p-horizontal_small" title="{{language.getLabel(titlelabel)}}"><system-label [label]="titlelabel"></system-label></span></h3><div [ngStyle]="getTabStyle()"><ng-content></ng-content></div></div>'}),__metadata("design:paramtypes",[services_1.language])],e)}();exports.SystemSection=SystemSection;var SystemSelect=function(){function e(e,t,s){this.elementRef=e,this.renderer=t,this.language=s,this.selectList=[],this.label="",this.listheight="7",this.disabled=!1,this.emitInputValueOnEnterPress=!1,this.selectedItemChange=new core_1.EventEmitter,this.searchList=[],this.show_list=!1}return Object.defineProperty(e.prototype,"getDropdownLength",{get:function(){return"slds-dropdown_length-"+this.listheight},enumerable:!0,configurable:!0}),e.prototype.ngOnChanges=function(e){void 0!==e.selectList&&(this.searchList=this.listBuilder(this.selectList))},e.prototype.clickOnSearch=function(e){this.elementRef.nativeElement.contains(e.target)||(this.show_list=!1)},e.prototype.onKeydown=function(e){this.searchList=[];var t=this.copyList(),s=!1,o=e.target.value.toLowerCase();for(var i in"Enter"==e.key&&this.emitInputValueOnEnterPress&&this.selectedItemChange.emit(o),t)for(var n=0,a=t[i];n<a.length;n++){var r=a[n],l=r.name.toLowerCase().search(o);-1<l&&(0<o.length&&(s=!0,r.name=[r.name.slice(0,l),"<mark>",r.name.slice(l,l+e.target.value.length),"</mark>",r.name.slice(l+e.target.value.length)].join("")),this.searchList[i]||(this.searchList[i]=[]),this.searchList[i].push(r))}this.show_list=s},e.prototype.listBuilder=function(e){for(var t=[],s=0,o=e;s<o.length;s++){var i=o[s];if(i.hasOwnProperty("group"))t[i.group]||(t[i.group]=[]);else{var n="_undefined";t[i.group=n]||(t[n]=[])}t[i.group].push({id:i.id,name:i.name})}return t},e.prototype.copyList=function(){var e=[],t=this.listBuilder(this.selectList);for(var s in t){e[s]=[];for(var o=0,i=t[s].length;o<i;o++)for(var n in e[s][o]=[],t[s][o])t[s][o].hasOwnProperty(n)&&(e[s][o][n]=t[s][o][n])}return e},e.prototype.onFocus=function(){var t=this;this.show_list=!0,this.clickListener=this.renderer.listen("document","click",function(e){return t.clickOnSearch(e)})},e.prototype.itemClicked=function(t,e){var s=this;this.show_list=!1,this.selectList.some(function(e){if(e.id==t.id)return s.selectedItemChange.emit(e),!0}),e.stopPropagation&&e.stopPropagation()},__decorate([core_1.Input(),__metadata("design:type",Object)],e.prototype,"selectList",void 0),__decorate([core_1.Input(),__metadata("design:type",String)],e.prototype,"label",void 0),__decorate([core_1.Input(),__metadata("design:type",Object)],e.prototype,"selectedItem",void 0),__decorate([core_1.Input(),__metadata("design:type",String)],e.prototype,"listheight",void 0),__decorate([core_1.Input(),__metadata("design:type",Boolean)],e.prototype,"disabled",void 0),__decorate([core_1.Input(),__metadata("design:type",Boolean)],e.prototype,"emitInputValueOnEnterPress",void 0),__decorate([core_1.Output(),__metadata("design:type",core_1.EventEmitter)],e.prototype,"selectedItemChange",void 0),e=__decorate([core_1.Component({selector:"system-select",template:'<div class="slds-form-element slds-size_2-of-2"><label *ngIf="label" class="slds-form-element__label"><system-label [label]="label"></system-label></label><div class="slds-form-element__control slds-size_2-of-2"><div class="slds-combobox_container"><div class="slds-combobox slds-dropdown-trigger slds-dropdown-trigger_click slds-is-open" aria-expanded="true" aria-haspopup="listbox" role="combobox"><div class="slds-combobox__form-element slds-input-has-icon slds-input-has-icon_right" role="none"><input (focus)="onFocus()" type="text" [attr.disabled]="disabled ? \'disabled\' : null" class="slds-input slds-combobox__input slds-combobox__input-value" aria-autocomplete="list" autoComplete="off" role="textbox" placeholder="{{language.getLabel(\'LBL_SEARCH\')}}" [value]="selectedItem?.name || \'\'" (keyup)="onKeydown($event)"><system-utility-icon [icon]="\'search\'" [addclasses]="\'slds-input__icon slds-input__icon--left\'"></system-utility-icon></div><div *ngIf="show_list" [ngClass]="getDropdownLength" class="slds-dropdown slds-dropdown_fluid" role="listbox"><ul class="slds-listbox slds-listbox_vertical" role="presentation"><ng-container *ngFor="let selectItem of searchList | keyvalue"><li *ngIf="selectItem.key != \'_undefined\'" role="presentation"><div class="slds-border_bottom slds-border_top slds-p-left_small" style="background-color: #ecebea;"><span class="slds-truncate size-xx-small" style="font-weight: bold; font-size: 12px;">{{selectItem.key}}</span></div></li><li *ngFor="let selectItem of selectItem.value" role="presentation" class="slds-listbox__item" (click)="itemClicked(selectItem, $event)"><div [ngClass]="{\'slds-has-focus\': selectedItem?.id == selectItem.id}" class="slds-media slds-listbox__option slds-listbox__option_plain slds-media_small" role="option"><span class="slds-media__body"><span class="slds-truncate" value="selectItem.id"><span [innerHTML]="selectItem.name"></span></span></span></div></li></ng-container></ul></div></div></div></div></div>'}),__metadata("design:paramtypes",[core_1.ElementRef,core_1.Renderer2,services_1.language])],e)}();exports.SystemSelect=SystemSelect;var SystemSpinner=function(){function e(){this.size=0,this.border=0,this.inverse="false",this.spinnerStyle={}}return e.prototype.ngOnInit=function(){return 0!=this.size&&(this.spinnerStyle.width=this.size+"px",this.spinnerStyle.height=this.size+"px"),0!=this.border&&(this.spinnerStyle["border-width"]=this.border+"px"),"true"==this.inverse&&(this.spinnerStyle["border-right-color"]="#fff",this.spinnerStyle["border-left-color"]="#fff",this.spinnerStyle["border-bottom-color"]="#fff"),{}},__decorate([core_1.Input(),__metadata("design:type",Number)],e.prototype,"size",void 0),__decorate([core_1.Input(),__metadata("design:type",Number)],e.prototype,"border",void 0),__decorate([core_1.Input(),__metadata("design:type",String)],e.prototype,"inverse",void 0),e=__decorate([core_1.Component({selector:"system-spinner",template:'<div class="cssload-container"><div class="cssload-double-torus" [ngStyle]="spinnerStyle"></div></div>'})],e)}();exports.SystemSpinner=SystemSpinner;var SystemSplitView=function(){function SystemSplitView(){this.componentconfig={}}return Object.defineProperty(SystemSplitView.prototype,"componentSetLeft",{get:function(){return this.componentconfig.left},enumerable:!0,configurable:!0}),Object.defineProperty(SystemSplitView.prototype,"componentSetRight",{get:function(){return this.componentconfig.right},enumerable:!0,configurable:!0}),__decorate([core_1.Input(),__metadata("design:type",Object)],SystemSplitView.prototype,"componentconfig",void 0),SystemSplitView=__decorate([core_1.Component({selector:"system-split-view",template:'<div class="slds-grid slds-gutters_direct-xx-small"><div class="slds-col slds-size--1-of-1 slds-large-size--1-of-2"><system-componentset *ngIf="componentSetLeft" [componentset]="componentSetLeft"></system-componentset></div><div class="slds-col slds-size--1-of-1 slds-large-size--1-of-2"><system-componentset *ngIf="componentSetRight" [componentset]="componentSetRight"></system-componentset></div></div>'})],SystemSplitView)}();exports.SystemSplitView=SystemSplitView;var SystemStencil=function(){function e(){}return e=__decorate([core_1.Component({selector:"system-stencil",template:'<div class="slds-theme--shade" style="background-color:#e4e9f3; min-width:100px;">&nbsp;</div>'})],e)}();exports.SystemStencil=SystemStencil;var SystemTableStencils=function(){function e(){this.columns=1,this.rows=5,this.tools=!1,this.select=!1,this.colArray=[],this.rowArray=[]}return e.prototype.ngOnInit=function(){for(var e=1;this.rowArray.push(e),++e<=this.rows;);for(var t=1;this.colArray.push(t),++t<=this.columns;);},e.prototype.linestyle=function(e){return{opacity:.5+.5/e}},__decorate([core_1.Input(),__metadata("design:type",Number)],e.prototype,"columns",void 0),__decorate([core_1.Input(),__metadata("design:type",Number)],e.prototype,"rows",void 0),__decorate([core_1.Input(),__metadata("design:type",Boolean)],e.prototype,"tools",void 0),__decorate([core_1.Input(),__metadata("design:type",Boolean)],e.prototype,"select",void 0),e=__decorate([core_1.Component({selector:"[system-table-stencils]",template:'<tr *ngFor="let row of rowArray" [ngStyle]="linestyle(row)"><td *ngIf="select" class="slds-cell-shrink"></td><td *ngFor="let col of colArray"><system-stencil></system-stencil></td><td *ngIf="tools" class="slds-cell-shrink"></td></tr>'})],e)}();exports.SystemTableStencils=SystemTableStencils;var SystemTinyMCEModal=function(){function SystemTinyMCEModal(e){this.language=e,this.self={},this.content="",this.updateContent=new core_1.EventEmitter,this.title=""}return SystemTinyMCEModal.prototype.ngOnInit=function(){0===this.title.length&&(this.title=this.language.getLabel("LBL_EDITOR"))},SystemTinyMCEModal.prototype.closeModal=function(){this.self.destroy()},SystemTinyMCEModal.prototype.contentChange=function(e){this.content=e,this.updateContent.emit(e)},SystemTinyMCEModal=__decorate([core_1.Component({template:'<system-modal size="large"><system-modal-header (close)="closeModal()">{{title}}</system-modal-header><system-modal-content><system-tinymce [(content)]="content" [stylesheetId]="stylesheetId" [height]="\'80%\'" (contentChange)="contentChange($event)"></system-tinymce></system-modal-content><system-modal-footer><button class="slds-button slds-button--neutral" (click)="closeModal()"><system-label label="LBL_OK"></system-label></button></system-modal-footer></system-modal>'}),__metadata("design:paramtypes",[services_1.language])],SystemTinyMCEModal)}();exports.SystemTinyMCEModal=SystemTinyMCEModal;var SystemTinyMCE=function(){function e(e,t){var s=this;this.metadata=e,this.configurationService=t,this.elementid="mytinymce",this.height="250px",this.stylesheetId="",this.elementContent="new content",this.tinymceConfig={selector:"#"+this.elementid,remove_script_host:!0,relative_urls:!1,document_base_url:this.configurationService.getFrontendUrl(),menubar:!1,statusbar:!0,resize:!0,browser_spellcheck:!0,image_advtab:!0,paste_as_text:!0,paste_filter_drop:!0,plugins:["link","code","image","lists","paste","table"],toolbar:"undo redo | formatselect | styleselect bold italic removeformat | bullist numlist | link image table | code",skin_url:"vendor/tinymce/skins/lightgray",setup:function(t){(s.editor=t).on("keyup",function(){var e=t.getContent();s.content=e})},formats:{alignleft:{selector:"p,h1,h2,h3,h4,h5,h6,td,th,div,ul,ol,li,table,img",classes:"align-left"},aligncenter:{selector:"p,h1,h2,h3,h4,h5,h6,td,th,div,ul,ol,li,table,img",classes:"align-center"},alignright:{selector:"p,h1,h2,h3,h4,h5,h6,td,th,div,ul,ol,li,table,img",classes:"align-right"},alignjustify:{selector:"p,h1,h2,h3,h4,h5,h6,td,th,div,ul,ol,li,table,img",classes:"align-justify"},strikethrough:{inline:"del"}},style_formats:[{title:"Inline",items:[{title:"fett",icon:"bold",format:"bold"},{title:"kursiv",icon:"italic",format:"italic"},{title:"unterstrichen",icon:"underline",format:"underline"},{title:"strikethrough",icon:"strikethrough",format:"strikethrough"},{title:"hochgestellt",icon:"superscript",format:"superscript"},{title:"tiefgestellt",icon:"subscript",format:"subscript"}]},{title:"Ausrichtung",items:[{title:"links",icon:"alignleft",format:"alignleft"},{title:"mittig",icon:"aligncenter",format:"aligncenter"},{title:"rechts",icon:"alignright",format:"alignright"},{title:"Blocksatz",icon:"alignjustify",format:"alignjustify"}]}],style_formats_merge:!1,body_class:"spice"},this.contentChange=new core_1.EventEmitter}return Object.defineProperty(e.prototype,"content",{get:function(){return this.elementContent},set:function(e){this.elementContent=e,this.contentChange.emit(this.elementContent)},enumerable:!0,configurable:!0}),e.prototype.setStylesheet=function(){var e=[];if(_.isEmpty(this.stylesheetId))delete this.tinymceConfig.content_style;else{if((e=this.metadata.getHtmlFormats(this.stylesheetId)).length){var t=0;this.tinymceConfig.block_formats="",this.tinymceConfig.extended_valid_elements=[],this.tinymceConfig.custom_elements=[],this.tinymceConfig.block_formats+="Absatz=p;",this.tinymceConfig.style_formats.push({title:"Weiteres",items:[]});for(var s=0,o=e;s<o.length;s++){var i=o[s];if(_.isEmpty(i.block))this.tinymceConfig.style_formats[2].items.push({title:i.name,inline:i.inline,classes:i.classes,styles:i.styles});else{t++;var n;this.tinymceConfig.formats[n="custom_format_"+t]={title:i.name,inline:i.inline,block:i.block,classes:i.classes,styles:i.styles,wrapper:Boolean(Number(i.wrapper))},this.tinymceConfig.block_formats+=i.name+"="+n+";",this.tinymceConfig.extended_valid_elements.indexOf(i.block)&&this.tinymceConfig.extended_valid_elements.push(i.block),this.tinymceConfig.custom_elements.indexOf(i.block)&&this.tinymceConfig.custom_elements.push(i.block)}}0===this.tinymceConfig.style_formats[2].items.length&&this.tinymceConfig.style_formats.splice(2,1)}this.tinymceConfig.content_style=this.metadata.getHtmlStylesheetCode(this.stylesheetId)}},e.prototype.updateevent=function(){this.content=this.editor.getContent()},e.prototype.getStyle=function(){return{height:this.height}},e.prototype.ngAfterViewInit=function(){var t=this;this.metadata.loadLibs("tinymce").subscribe(function(e){t.setStylesheet(),tinymce.init(t.tinymceConfig)})},e.prototype.ngOnDestroy=function(){tinymce.remove(this.editor)},e.prototype.ngOnInit=function(){this.tinymceConfig.selector="#"+this.elementid,this.tinymceConfig.document_base_url=this.configurationService.getFrontendUrl()},__decorate([core_1.Input(),__metadata("design:type",String)],e.prototype,"elementid",void 0),__decorate([core_1.Input(),__metadata("design:type",String)],e.prototype,"height",void 0),__decorate([core_1.Input(),__metadata("design:type",String)],e.prototype,"stylesheetId",void 0),__decorate([core_1.Input(),__metadata("design:type",Object),__metadata("design:paramtypes",[Object])],e.prototype,"content",null),__decorate([core_1.Output(),__metadata("design:type",core_1.EventEmitter)],e.prototype,"contentChange",void 0),e=__decorate([core_1.Component({selector:"system-tinymce",template:'<textarea id="{{elementid}}" [ngStyle]="getStyle()">{{content}}</textarea>',styles:[":host >>> .mce-ico{font-size: 12px; color: #54698d;}",":host >>> .mce-text{font-size: 12px; color: #54698d;}",":host >>> .mce-btn button{font-size: 12px; color: #54698d;}",":host >>> .mce-tinymce{border-radius: 4px}",":host >>> .mce-widget{font-family: 'Titillium Web', sans-serif;}"],host:{"(click)":"this.updateevent()","(keyup)":"this.updateevent()"}}),__metadata("design:paramtypes",[services_1.metadata,services_1.configurationService])],e)}();exports.SystemTinyMCE=SystemTinyMCE;var SystemToastContainer=function(){function e(e,t,s,o){var i=this;this.toast=e,this.layout=t,this.renderer=s,this.cdr=o,this.renderer.listen("window","resize",function(){return i.cdr.detectChanges()})}return Object.defineProperty(e.prototype,"isnarrow",{get:function(){return"small"==this.layout.screenwidth},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"toastStyle",{get:function(){return this.isnarrow?{"min-width":"unset","border-radius":0,"border-bottom":"1px solid #fff"}:{}},enumerable:!0,configurable:!0}),e.prototype.getToastClass=function(e,t){var s="";switch(t){case"alert":s="slds-notify--alert slds-theme--alert-texture ";break;default:s="slds-notify--toast "}switch(e){case"success":s+="slds-theme--success";break;case"warning":s+="slds-theme--warning";break;case"error":s+="slds-theme--error"}return this.isnarrow?s+" slds-size--1-of-1 slds-m-around--none":s},e.prototype.getToastIcon=function(e){switch(e){case"success":return"success";case"warning":return"warning";case"error":return"error";default:return"info"}},e=__decorate([core_1.Component({selector:"system-toast-container",template:'<div class="slds-notify_container"><div *ngFor="let activeToast of toast.activeToasts" [ngStyle]="toastStyle" class="slds-notify" [ngClass]="getToastClass(activeToast.type, activeToast.theme)" role="alert"><button class="slds-button slds-notify__close slds-button--icon-inverse" (click)="toast.clearToast(activeToast.id)"><system-button-icon [icon]="\'close\'" [size]="\'large\'"></system-button-icon></button><div class="slds-notify__content slds-grid"><system-utility-icon [icon]="getToastIcon(activeToast.type)" [size]="\'small\'" [addclasses]="\'slds-m-right--small slds-col slds-no-flex\'" [colorclass]="\'slds-icon\'"></system-utility-icon><div class="slds-col slds-align-middle"><h2 class="slds-text-heading--small">{{activeToast.text}}</h2><p *ngIf="activeToast.description">{{activeToast.description}}</p></div></div></div></div>'}),__metadata("design:paramtypes",[services_1.toast,services_1.layout,core_1.Renderer2,core_1.ChangeDetectorRef])],e)}();exports.SystemToastContainer=SystemToastContainer;var SystemTooltip=function(){function e(){this.tooltiptext="",this.displayHelp=!1}return e.prototype.toggleHelp=function(){this.displayHelp=!this.displayHelp},e.prototype.openHelp=function(){this.displayHelp=!0},e.prototype.closeHelp=function(){this.displayHelp=!1},__decorate([core_1.Input(),__metadata("design:type",String)],e.prototype,"tooltiptext",void 0),e=__decorate([core_1.Component({selector:"system-tooltip",template:'<div class="slds-is-relative"><div class="slds-form-element"><div class="slds-form-element__icon slds-align-middle"><button class="slds-button slds-button_icon slds-button slds-button_icon" (mouseover)="openHelp()" (mouseout)="closeHelp()"><system-button-icon [icon]="\'info\'"></system-button-icon><span class="slds-assistive-text">Help</span></button></div></div><div *ngIf="displayHelp" class="slds-popover slds-popover_tooltip slds-nubbin_bottom-left slds-is-absolute" role="tooltip" style="word-wrap: break-word;white-space: normal;width: 300px;bottom: 30px;left: -15px;"><div class="slds-popover__body">{{tooltiptext}}</div></div></div>'})],e)}();exports.SystemTooltip=SystemTooltip;var SystemTreeItem=function(){function e(){this.onItemAdd=new core_1.EventEmitter,this.toggleExpandedChange=new core_1.EventEmitter,this.dragPositionChange=new core_1.EventEmitter,this.item=[],this.config={},this.isDragging=!1,this.dragPosition=""}return e.prototype.addItem=function(e,t){this.onItemAdd.emit({id:e,name:t})},e.prototype.expand=function(e,t){this.toggleExpandedChange.emit(e.id),t&&t.stopPropagation&&t.stopPropagation()},e.prototype.setPosition=function(e){this.dragPosition=e,this.isDragging&&this.dragPositionChange.emit(e?{id:this.item.id,position:e}:null)},__decorate([core_1.Output(),__metadata("design:type",core_1.EventEmitter)],e.prototype,"onItemAdd",void 0),__decorate([core_1.Output(),__metadata("design:type",core_1.EventEmitter)],e.prototype,"toggleExpandedChange",void 0),__decorate([core_1.Output(),__metadata("design:type",core_1.EventEmitter)],e.prototype,"dragPositionChange",void 0),__decorate([core_1.Input(),__metadata("design:type",Object)],e.prototype,"item",void 0),__decorate([core_1.Input(),__metadata("design:type",Object)],e.prototype,"config",void 0),__decorate([core_1.Input(),__metadata("design:type",Boolean)],e.prototype,"isDragging",void 0),e=__decorate([core_1.Component({selector:"system-tree-item",template:'<div class="slds-p-left--x-small" (mouseleave)="setPosition(null)"><div style="height: 0.37rem; width: 100%" [style.box-shadow]="isDragging && dragPosition == \'before\' ? \'0 -2px\' : \'none\'" (mouseenter)="setPosition(\'before\')"></div><article (mouseenter)="setPosition(\'item\')" [style.box-shadow]="isDragging && dragPosition == \'item\' ? \'0 0 0 2.5px\' : \'none\'" class="slds-grid slds-grid--align-spread slds-grid_vertical-align-center"><div class="slds-grid slds-grid_vertical-align-center slds-grow slds-truncate"><div style="min-width: 16px"><button *ngIf="config.collapsible && item.systemTreeDefs.hasChildren" [disabled]="config.expandall" class="slds-button slds-button_icon slds-m-right--xx-small slds-m-top--none" aria-expanded="true" aria-hidden="true" tabindex="-1" (click)="expand(item, $event)"><system-button-icon [icon]="item.systemTreeDefs.expanded ? \'chevrondown\' : \'chevronright\'" size="xx-small"></system-button-icon></button><system-utility-icon *ngIf="!config.collapsible" [icon]="config.icon || \'record\'" size="xx-small" [addclasses]="\'slds-p-around--xxx-small slds-m-right--xx-small\'"></system-utility-icon></div><div class="slds-truncate"><span class="slds-tree__item-label slds-truncate">{{item.name}}</span></div></div><div *ngIf="config.canadd && item.systemTreeDefs.isSelected" class="slds-m-right--xx-small"><button class="slds-button slds-button_icon slds-m-top--none" (click)="addItem(item.id, item.name)"><system-button-icon icon="add" size="xx-small"></system-button-icon></button></div></article><div style="height: 0.37rem; width: 100%" [style.box-shadow]="isDragging && dragPosition == \'after\' ? \'0 2px\' : \'none\'" (mouseenter)="setPosition(\'after\')"></div></div>'})],e)}();exports.SystemTreeItem=SystemTreeItem;var SystemTree=function(){function e(){this.sourceList=[],this.selectedItem="",this.selectedItemChange=new core_1.EventEmitter,this.onItemAdd=new core_1.EventEmitter,this.onTreeDrop=new core_1.EventEmitter,this.tree=[],this.isDragging=!1,this.treeConfig={draggable:!1,canadd:!1,expandall:!1,collapsible:!0}}return Object.defineProperty(e.prototype,"config",{get:function(){return this.treeConfig},set:function(e){this.treeConfig.draggable=e.draggable||!1,this.treeConfig.canadd=e.canadd||!1,this.treeConfig.expandall=e.expandall||!1,this.treeConfig.collapsible=e.collapsible||!0},enumerable:!0,configurable:!0}),e.prototype.ngOnChanges=function(e){e.sourceList&&this.buildTree(),e.selectedItem&&this.handleClick(this.selectedItem)},e.prototype.buildTree=function(){this.tree=[],this.sortBySequence(),this.addTreeItem(),this.setHasChildren()},e.prototype.sortBySequence=function(){this.sourceList.sort(function(e,t){return e.name&&t.name?e.name>t.name?1:-1:0});var e=_.groupBy(this.sourceList,function(e){return e.parent_id});for(var t in this.sourceList=[],e)e.hasOwnProperty(t)&&(e[t].sort(function(e,t){return e.parent_sequence&&t.parent_sequence?+e.parent_sequence>+t.parent_sequence?1:-1:0}),this.sourceList=__spreadArrays(this.sourceList,e[t]))},e.prototype.addTreeItem=function(e,t){void 0===e&&(e=""),void 0===t&&(t=1);for(var s=0,o=this.sourceList;s<o.length;s++){var i=o[s];(i.parent_id||""!=e)&&i.parent_id!=e||(i.systemTreeDefs||(i.systemTreeDefs={}),i.systemTreeDefs.expanded=!!this.config.collapsible&&(!!this.config.expandall||!!i.systemTreeDefs.expanded),i.systemTreeDefs.clickable=!i.hasOwnProperty("clickable")||i.clickable,i.systemTreeDefs.level=t,i.systemTreeDefs.isSelected=this.selectedItem==i.id,this.tree.push(i),i.systemTreeDefs.expanded&&this.addTreeItem(i.id,t+1))}},e.prototype.setHasChildren=function(){var e=this;this.tree.forEach(function(t){t.systemTreeDefs.hasChildren=e.sourceList.some(function(e){return e.parent_id==t.id})})},e.prototype.handleDrop=function(t){var s=this;if(this.isDragging=!1,this.dragPosition){var o,e,i=t.item.data.parent_id,n=this.tree.find(function(e){return e.id==s.dragPosition.id}),a=this.tree.findIndex(function(e){return e.id==s.dragPosition.id});switch(this.dragPosition.position){case"before":var r=a-1<=0,l=this.tree[r?0:a-1];t.item.data.parent_id=r?null:l.systemTreeDefs.hasChildren?l.id:l.parent_id,t.item.data.systemTreeDefs.level=r?1:l.systemTreeDefs.hasChildren?l.systemTreeDefs.level+1:l.systemTreeDefs.level,a=r?0:a;break;case"item":t.previousIndex>a&&a++,t.item.data.systemTreeDefs.level=n.systemTreeDefs.level+1,t.item.data.parent_id=n.id,n.systemTreeDefs.hasChildren=!0;break;case"after":var d=a>=this.tree.length-1,c=this.tree[d?this.tree.length-1:a];t.item.data.systemTreeDefs.level=d?1:c.systemTreeDefs.hasChildren?c.systemTreeDefs.level+1:c.systemTreeDefs.level,t.item.data.parent_id=d?null:c.systemTreeDefs.hasChildren?c.id:c.parent_id,a=d?this.tree.length-1:t.previousIndex>a?a+1:a}t.previousIndex!=a&&(this.tree.some(function(e){if(e.id==i)return e.systemTreeDefs.hasChildren=s.sourceList.some(function(e){return e.parent_id==i}),!0}),drag_drop_1.moveItemInArray(this.tree,t.previousIndex,a),o=this.tree.filter(function(e){return e.parent_id==t.item.data.parent_id||e.parent_id==i}).map(function(e,t){return{id:e.id,index:t}}),this.tree=this.tree.map(function(t){var e=o.findIndex(function(e){return e.id==t.id});return-1<e&&(t.parent_sequence=e),t})),t.item.data.parent_id!=i&&(e={id:t.item.data.id,parent_id:t.item.data.parent_id}),this.dragPosition=null,this.onTreeDrop.emit({itemWithNewParent:e,newSortSequences:o})}},e.prototype.setIsDragging=function(e){this.isDragging=e},e.prototype.handleDragPosition=function(e){this.dragPosition=e},e.prototype.handleExpand=function(t){this.sourceList.some(function(e){if(e.id==t)return e.systemTreeDefs.expanded=!e.systemTreeDefs.expanded,!0}),this.buildTree()},e.prototype.handleClick=function(t){var s=this;this.tree.some(function(e){if(e.id==t)return e.systemTreeDefs&&e.systemTreeDefs.clickable?(e.systemTreeDefs.isSelected=!0,s.selectedItemChange.emit(t),s.selectedItem=t):s.handleExpand(t),!0}),this.tree.some(function(e){if(e.id!=t&&e.systemTreeDefs&&e.systemTreeDefs.isSelected)return!(e.systemTreeDefs.isSelected=!1)})},e.prototype.trackByFn=function(e,t){return t.id},__decorate([core_1.Input(),__metadata("design:type",Array)],e.prototype,"sourceList",void 0),__decorate([core_1.Input(),__metadata("design:type",String)],e.prototype,"selectedItem",void 0),__decorate([core_1.Output(),__metadata("design:type",core_1.EventEmitter)],e.prototype,"selectedItemChange",void 0),__decorate([core_1.Output(),__metadata("design:type",core_1.EventEmitter)],e.prototype,"onItemAdd",void 0),__decorate([core_1.Output(),__metadata("design:type",core_1.EventEmitter)],e.prototype,"onTreeDrop",void 0),__decorate([core_1.Input(),__metadata("design:type",Object),__metadata("design:paramtypes",[Object])],e.prototype,"config",null),e=__decorate([core_1.Component({selector:"system-tree",template:'<div role="tree" class="tree-list-drag-boundary"><ul cdkDropList cdkDropListSortingDisabled [cdkDropListData]="tree" (cdkDropListDropped)="handleDrop($event)" class="slds-tree slds-p-top--xxx-small" role="tree" aria-labelledby="treeheading"><li role="treeitem" *ngFor="let item of tree; trackBy: trackByFn" cdkDrag cdkDragBoundary=".tree-list-drag-boundary" [cdkDragData]="item" (cdkDragStarted)="setIsDragging(true)" (cdkDragEnded)="setIsDragging(false)" [cdkDragDisabled]="!config.draggable || item.systemTreeDefs.hasChildren" [attr.aria-level]="item.systemTreeDefs.level" [attr.aria-selected]="item.systemTreeDefs.isSelected" class="slds-grid slds-drag--preview"><system-tree-item [item]="item" (click)="handleClick(item.id)" [config]="config" [isDragging]="isDragging" (toggleExpandedChange)="handleExpand($event)" (dragPositionChange)="handleDragPosition($event)" (onItemAdd)="onItemAdd.emit($event)" [title]="item.name" style="width: 100%" class="slds-grid--vertical slds-p-vertical--none slds-tree__item"></system-tree-item></li></ul></div><div *ngIf="config.canadd" class="slds-grid slds-align-content-center slds-border--top slds-m-top--x-small slds-p-top--x-small"><button class="slds-button slds-button--icon slds-button--icon-border slds-p-around--xx-small" (click)="onItemAdd.emit(null)"><system-button-icon [icon]="\'add\'" [size]="\'small\'"></system-button-icon></button></div>',styles:[".cdk-drag-animating {transition: none}"]})],e)}();exports.SystemTree=SystemTree;var SystemUploadImage=function(){function SystemUploadImage(e,t,s,o){var i=this;this.language=e,this.libloader=t,this.renderer=s,this.sanitizer=o,this.cropheight=200,this.cropwidth=200,this.croptype="circle",this.cropresize=!1,this.imagedata=new core_1.EventEmitter,this.pasteListener=this.renderer.listen("window","paste",function(e){e.preventDefault(),e.stopPropagation();var t=e.clipboardData.items[0].getAsFile(),s=window.URL;i.imageBase64=i.sanitizer.bypassSecurityTrustResourceUrl(s.createObjectURL(t))})}return SystemUploadImage.prototype.ngOnDestroy=function(){this.pasteListener()},Object.defineProperty(SystemUploadImage.prototype,"croppiestyle",{get:function(){return{height:2*this.cropheight+"px"}},enumerable:!0,configurable:!0}),SystemUploadImage.prototype.close=function(e){void 0===e&&(e=!0),e&&this.imagedata.emit(!1),this.self.destroy()},SystemUploadImage.prototype.showUpload=function(){var e=new MouseEvent("click",{bubbles:!0});this.imgupload.element.nativeElement.dispatchEvent(e)},SystemUploadImage.prototype.uploadImage=function(e){var t=this,s=new FileReader;s.onloadend=function(e){t.imageBase64=s.result},s.readAsDataURL(e.target.files[0])},SystemUploadImage.prototype.doCrop=function(e){var t=this;this.croppie||this.libloader.loadLib("croppie").subscribe(function(e){t.croppie=new Croppie(document.getElementById("croppieimage"),{enableExif:!0,enableOrientation:!0,enableZoom:!0,enforceBoundary:!0,mouseWheelZoom:!0,showZoomer:!0,enableResize:t.cropresize,viewport:{width:t.cropwidth,height:t.cropheight,type:"circle"},boundary:{height:2*t.cropheight}})})},SystemUploadImage.prototype.getcroppedImage=function(){var t=this;this.croppie.result({type:"base64",size:"viewport"}).then(function(e){t.imagedata.emit(e),t.close(!1)})},__decorate([core_1.ViewChild("imgupload",{read:core_1.ViewContainerRef,static:!1}),__metadata("design:type",core_1.ViewContainerRef)],SystemUploadImage.prototype,"imgupload",void 0),__decorate([core_1.Input(),__metadata("design:type",Number)],SystemUploadImage.prototype,"cropheight",void 0),__decorate([core_1.Input(),__metadata("design:type",Number)],SystemUploadImage.prototype,"cropwidth",void 0),__decorate([core_1.Input(),__metadata("design:type",String)],SystemUploadImage.prototype,"croptype",void 0),__decorate([core_1.Input(),__metadata("design:type",Boolean)],SystemUploadImage.prototype,"cropresize",void 0),__decorate([core_1.Output(),__metadata("design:type",core_1.EventEmitter)],SystemUploadImage.prototype,"imagedata",void 0),SystemUploadImage=__decorate([core_1.Component({selector:"system-upload-image",template:'<system-modal><system-modal-header (close)="close()"><system-label label="LBL_UPLOAD_IMAGE"></system-label></system-modal-header><system-modal-content><div [ngStyle]="croppiestyle" class="slds-align--absolute-center slds-scrollable--none"><div *ngIf="!imageBase64"><button class="slds-button slds-button--neutral" (click)="showUpload()"><system-label label="LBL_SELECT_IMAGE"></system-label></button> <input #imgupload style="display:none" type="file" accept="image/*" (change)="uploadImage($event)"></div><img *ngIf="imageBase64" id="croppieimage" [src]="imageBase64" (load)="doCrop($event)"></div></system-modal-content><system-modal-footer><button class="slds-button slds-button--neutral" (click)="close()"><system-label label="LBL_CANCEL"></system-label></button> <button [disabled]="!imageBase64" class="slds-button slds-button--brand" (click)="getcroppedImage()"><system-label label="LBL_USE"></system-label></button></system-modal-footer></system-modal>'}),__metadata("design:paramtypes",[services_1.language,services_1.libloader,core_1.Renderer2,platform_browser_1.DomSanitizer])],SystemUploadImage)}();exports.SystemUploadImage=SystemUploadImage;var SystemPopover=function(){function SystemPopover(e){this.metadata=e,this.popoverside="right",this.popoverpos="top",this.styles=null,this.hidePopoverTimeout={},this.parentElementRef=null,this.self=null,this.heightcorrection=30,this.widthcorrection=30}return SystemPopover.prototype.onMouseOver=function(){this.hidePopoverTimeout&&window.clearTimeout(this.hidePopoverTimeout)},SystemPopover.prototype.onMouseOut=function(){this.closePopover(!0)},Object.defineProperty(SystemPopover.prototype,"popoverStyle",{get:function(){var e=this.parentElementRef.nativeElement.getBoundingClientRect(),t=this.popover.element.nativeElement.getBoundingClientRect();return e.left<t.width?this.popoverside="right":this.popoverside="left",e.top-30+t.height>window.innerHeight&&0<e.top-t.height+this.heightcorrection?(this.popoverpos="bottom",{top:e.top-t.height+this.heightcorrection+"px",left:e.left<t.width?e.left+100+"px":e.left-t.width-this.widthcorrection+"px"}):(this.popoverpos="top",{top:e.top-this.heightcorrection+"px",left:e.left<t.width?e.left+100+"px":e.left-t.width-this.widthcorrection+"px"})},enumerable:!0,configurable:!0}),Object.defineProperty(SystemPopover.prototype,"popoverBodyStyle",{get:function(){return{"max-height":"calc(100vh - "+(this.popoverbody.element.nativeElement.getBoundingClientRect().top+5)+"px)"}},enumerable:!0,configurable:!0}),SystemPopover.prototype.ngOnInit=function(){this.styles=this.popoverStyle},SystemPopover.prototype.getNubbinClass=function(){return("left"==this.popoverside?"slds-nubbin--right-":"slds-nubbin--left-")+this.popoverpos},SystemPopover.prototype.closePopover=function(e){var t=this;void 0===e&&(e=!1),e?this.self.destroy():this.hidePopoverTimeout=window.setTimeout(function(){return t.self.destroy()},500)},__decorate([core_1.ViewChild("popover",{read:core_1.ViewContainerRef,static:!0}),__metadata("design:type",core_1.ViewContainerRef)],SystemPopover.prototype,"popover",void 0),__decorate([core_1.ViewChild("popoverbody",{read:core_1.ViewContainerRef,static:!0}),__metadata("design:type",core_1.ViewContainerRef)],SystemPopover.prototype,"popoverbody",void 0),SystemPopover=__decorate([core_1.Component({template:'<div class="slds-popover slds-popover_large slds-is-fixed" style="transition: .5s;" [ngStyle]="popoverStyle" [ngClass]="getNubbinClass()" role="dialog" (mouseenter)="onMouseOver()" (mouseleave)="onMouseOut()"><button class="slds-button slds-button_icon slds-button_icon slds-button_icon-small slds-float_right slds-popover__close" (click)="closePopover(true)"><system-button-icon icon="close"></system-button-icon></button><div #popover><div #popoverbody class="slds-popover__body slds-scrollable--y" [ngStyle]="popoverBodyStyle"><system-componentset [componentset]="componentset"></system-componentset></div></div></div>'}),__metadata("design:paramtypes",[services_1.metadata])],SystemPopover)}();exports.SystemPopover=SystemPopover;var SystemUtilityIcon=function(){function e(e){this.cdref=e,this.icon="",this.size="small",this.addclasses="",this.colorclass="slds-icon-text-default",this.title="",this.click=new core_1.EventEmitter}return e.prototype.ngOnChanges=function(e){this.cdref.detectChanges()},e.prototype.getSvgHRef=function(){return"./vendor/sldassets/icons/"+this._sprite+"-sprite/svg/symbols.svg#"+this._icon},e.prototype.getIconClass=function(){return"slds-icon  slds-icon--"+this._size+" "+this.colorclass+" "+this.addclasses},Object.defineProperty(e.prototype,"_icon",{get:function(){return 0<this.icon.indexOf(":")?this.icon.split(":")[1]:this.icon},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"_sprite",{get:function(){return 0<this.icon.indexOf(":")?this.icon.split(":")[0]:"utility"},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"_size",{get:function(){return 0<this.icon.indexOf(":")&&2<this.icon.split(":").length?this.icon.split(":")[2]:this.size?this.size:"small"},enumerable:!0,configurable:!0}),__decorate([core_1.Input(),__metadata("design:type",String)],e.prototype,"icon",void 0),__decorate([core_1.Input(),__metadata("design:type",String)],e.prototype,"size",void 0),__decorate([core_1.Input(),__metadata("design:type",String)],e.prototype,"addclasses",void 0),__decorate([core_1.Input(),__metadata("design:type",String)],e.prototype,"colorclass",void 0),__decorate([core_1.Input(),__metadata("design:type",String)],e.prototype,"title",void 0),__decorate([core_1.Output(),__metadata("design:type",core_1.EventEmitter)],e.prototype,"click",void 0),e=__decorate([core_1.Component({selector:"system-utility-icon",template:'<div class="slds-icon_container slds-icon-text-error" [title]="title" (click)="click.emit($event)"><svg aria-hidden="true" [ngClass]="getIconClass()"><use [attr.xlink:href]="getSvgHRef()"></use></svg></div>',changeDetection:core_1.ChangeDetectionStrategy.OnPush}),__metadata("design:paramtypes",[core_1.ChangeDetectorRef])],e)}();exports.SystemUtilityIcon=SystemUtilityIcon;var SystemViewContainer=function(){function SystemViewContainer(e,t,s){this.view=e,this.language=t,this.model=s,this.componentconfig={}}return Object.defineProperty(SystemViewContainer.prototype,"componentset",{get:function(){return this.componentconfig.componentset},enumerable:!0,configurable:!0}),Object.defineProperty(SystemViewContainer.prototype,"editable",{get:function(){return!(!this.model||!this.componentconfig.editable)},enumerable:!0,configurable:!0}),SystemViewContainer.prototype.cancel=function(){this.model&&(this.model.cancelEdit(),this.view.setViewMode())},SystemViewContainer.prototype.save=function(){this.model&&this.model.validate()&&(this.model.save(!0),this.view.setViewMode())},__decorate([core_1.Input(),__metadata("design:type",Object)],SystemViewContainer.prototype,"componentconfig",void 0),SystemViewContainer=__decorate([core_1.Component({selector:"system-view-container",template:'<div [system-view-provider]="{editable: editable}"><system-componentset *ngIf="componentset" [componentset]="componentset"></system-componentset><div class="slds-text-align--center slds-p-bottom--small" *ngIf="view.isEditMode()"><button class="slds-button slds-button--neutral" (click)="cancel()"><system-label label="LBL_CANCEL"></system-label></button> <button class="slds-button slds-button--brand slds-button-space-left" (click)="save()"><system-label label="LBL_SAVE"></system-label></button></div></div>'}),__param(2,core_1.Optional()),__metadata("design:paramtypes",[services_1.view,services_1.language,services_1.model])],SystemViewContainer)}();exports.SystemViewContainer=SystemViewContainer;var SystemIconHelpText=function(){function e(e){this.metadata=e,this.icon="info",this.file="./assets/icons/spicecrm.svg",this.size="xx-small",this.popoverMaxWidth="300px",this.color="#bbb",this.hovercolor="#5B5B5B",this.desaturate=!1,this.addclasses="",this.divClass="slds-media__figure",this.helpText="",this.showHelp=!1}return Object.defineProperty(e.prototype,"gicon",{get:function(){if(this.icon)return this.icon},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"gfile",{get:function(){if(this.file)return this.file},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"gsizeClass",{get:function(){if(this.size)return this.size},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"gcolor",{get:function(){if(this.color)return this.color},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"ghovercolor",{get:function(){if(this.hovercolor)return this.hovercolor},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"gdesaturate",{get:function(){if(this.desaturate)return this.desaturate},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"gaddClass",{get:function(){if(this.addclasses)return this.addclasses},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"gdivClass",{get:function(){if(this.divClass)return this.divClass},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"PopoverMaxWidth",{get:function(){return this.popoverMaxWidth},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"bottomdistance",{get:function(){return"xx-small"==this.size||"x-small"==this.size?" 2.5em":"small"==this.size?" 2.8em":"large"==this.size?" 3.5em":void 0},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"leftdistance",{get:function(){return"xx-small"==this.size||"x-small"==this.size?"-65%":"small"==this.size?"-30%":"large"==this.size?"10%":void 0},enumerable:!0,configurable:!0}),__decorate([core_1.Input(),__metadata("design:type",String)],e.prototype,"icon",void 0),__decorate([core_1.Input(),__metadata("design:type",String)],e.prototype,"file",void 0),__decorate([core_1.Input(),__metadata("design:type",String)],e.prototype,"size",void 0),__decorate([core_1.Input(),__metadata("design:type",String)],e.prototype,"popoverMaxWidth",void 0),__decorate([core_1.Input(),__metadata("design:type",String)],e.prototype,"color",void 0),__decorate([core_1.Input(),__metadata("design:type",String)],e.prototype,"hovercolor",void 0),__decorate([core_1.Input(),__metadata("design:type",Boolean)],e.prototype,"desaturate",void 0),__decorate([core_1.Input(),__metadata("design:type",String)],e.prototype,"addclasses",void 0),__decorate([core_1.Input(),__metadata("design:type",Object)],e.prototype,"divClass",void 0),__decorate([core_1.Input(),__metadata("design:type",String)],e.prototype,"helpText",void 0),e=__decorate([core_1.Component({selector:"system-icon-help-text",template:'<div style="position: relative; display: inline;"><a (mouseover)="showHelp=true" (mouseout)="showHelp=false"><span class="slds-icon_container slds-icon-utility-info"><system-custom-icon [ngStyle]="{\'color\': showHelp==true ? ghovercolor : gcolor}" [icon]="gicon" [file]="gfile" [size]="gsizeClass" [desaturate]="gdesaturate" [addclasses]="gaddClass" [divClass]="gdivClass"></system-custom-icon></span></a><div *ngIf="showHelp" class="slds-popover slds-popover_tooltip slds-nubbin_bottom-left" role="tooltip" id="help" [ngStyle]="{\'bottom\': bottomdistance, \'left\': leftdistance, \'max-width\': PopoverMaxWidth}" style="position: absolute; display: block; z-index: 50; width: max-content;"><div class="slds-popover__body" style="width: 100%"><span style="display: block;white-space:pre-wrap;">{{helpText}}</span></div></div></div>'}),__metadata("design:paramtypes",[services_1.metadata])],e)}();exports.SystemIconHelpText=SystemIconHelpText;var SystemMultipleSelect=function(){function e(e,t,s){this.elementRef=e,this.renderer=t,this.language=s,this.disabled=!1,this.grouped=!1,this.showPills=!0,this.listItems={},this.listHeight="7",this.groupSeparator="_",this.parsedListItems={},this.valueArray=[],this.isOpen=!1,this.selectedCountText="0 Selected Items",this.inputTagStyle={color:"transparent",cursor:"pointer"}}var t;return t=e,Object.defineProperty(e.prototype,"showEmptyText",{get:function(){var t=this;return 0==this.valueArray.filter(function(e){return e.includes(t.groupSeparator)}).length},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"listClass",{get:function(){return this.isOpen?"slds-is-open":""},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"dropdownIcon",{get:function(){return this.isOpen?"up":"down"},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"dropdownLength",{get:function(){return"slds-dropdown_length-"+this.listHeight},enumerable:!0,configurable:!0}),e.prototype.ngOnChanges=function(){this.buildOptionGroups()},e.prototype.registerOnChange=function(e){this.onChange=e},e.prototype.registerOnTouched=function(e){this.onTouched=e},e.prototype.writeValue=function(e){e&&(this.valueArray=e,this.setSelectedCountText())},e.prototype.buildOptionGroups=function(){var e;if(this.parsedListItems={},this.grouped){for(var t in e={},this.listItems)this.listItems.hasOwnProperty(t)&&!t.includes(this.groupSeparator)&&(e[t]={value:t,display:this.listItems[t],disabled:!1,items:[]});for(var t in this.listItems)if(this.listItems.hasOwnProperty(t)){var s=t.split(this.groupSeparator);2==s.length&&e[s[0]]&&e[s[0]].items.push({value:t,display:this.listItems[t]})}this.parsedListItems=_.toArray(e)}else{for(var t in e=[],this.listItems)this.listItems.hasOwnProperty(t)&&e.push({value:t,display:this.listItems[t]});this.parsedListItems=e}},e.prototype.isSelected=function(e){return-1<this.valueArray.indexOf(e)},e.prototype.onclick=function(){this.isOpen=!this.isOpen},e.prototype.onMouseLeave=function(){var t=this;this.clickListener&&this.clickListener(),this.isOpen&&(this.clickListener=this.renderer.listen("document","click",function(e){return t.handleCloseDropdown(e)}))},e.prototype.handleCloseDropdown=function(e){this.elementRef.nativeElement.contains(e.target)||(this.isOpen=!1,this.clickListener())},e.prototype.toggleAddRemoveItem=function(e,t){var s=this.valueArray.indexOf(e),o=this.valueArray.indexOf(t);-1<s?(this.valueArray.splice(s,1),t&&!this.groupHasItems(t)&&(o=this.valueArray.indexOf(t),this.valueArray.splice(o,1))):(t&&-1==o&&this.valueArray.push(t),this.valueArray.push(e)),this.setSelectedCountText(),this.onChange(this.valueArray)},e.prototype.groupHasItems=function(s){var o=this;return this.valueArray.some(function(e){var t=e.split(o.groupSeparator);return 2==t.length&&t[0]==s})},e.prototype.trackByFn=function(e,t){return e},e.prototype.removeItem=function(e,t){var s=t.split(this.groupSeparator)[0];if(this.valueArray.splice(e,1),!this.groupHasItems(s)){var o=this.valueArray.indexOf(s);this.valueArray.splice(o,1)}this.setSelectedCountText(),this.onChange(this.valueArray)},e.prototype.setSelectedCountText=function(){var t=this;this.selectedCountText=this.valueArray.filter(function(e){return e.includes(t.groupSeparator)}).length+" selected items"},__decorate([core_1.Input(),__metadata("design:type",Boolean)],e.prototype,"disabled",void 0),__decorate([core_1.Input(),__metadata("design:type",Boolean)],e.prototype,"grouped",void 0),__decorate([core_1.Input(),__metadata("design:type",Boolean)],e.prototype,"showPills",void 0),__decorate([core_1.Input(),__metadata("design:type",Object)],e.prototype,"listItems",void 0),__decorate([core_1.Input(),__metadata("design:type",String)],e.prototype,"listHeight",void 0),__decorate([core_1.Input(),__metadata("design:type",String)],e.prototype,"groupSeparator",void 0),e=t=__decorate([core_1.Component({selector:"system-multiple-select",template:'<div class="slds-form-element"><div class="slds-form-element__control"><div class="slds-combobox_container"><div class="slds-combobox slds-dropdown-trigger slds-dropdown-trigger_click" [ngClass]="listClass" aria-expanded="true" aria-haspopup="listbox" role="combobox"><div *ngIf="!showPills" class="slds-combobox__form-element slds-input-has-icon slds-input-has-icon_right" role="none"><input (click)="onclick()" (mouseleave)="onMouseLeave()" (keydown)="$event.preventDefault()" [disabled]="disabled" [placeholder]="selectedCountText" [ngStyle]="inputTagStyle" type="text" autoComplete="off" role="textbox" class="slds-input slds-combobox__input slds-has-focus slds-combobox__input-value"><system-utility-icon [icon]="dropdownIcon" addclasses="slds-input__icon slds-input__icon_right"></system-utility-icon></div><div *ngIf="showPills" (mouseleave)="onMouseLeave()" class="slds-grid slds-grid--vertical-align-center slds-wrap slds-pill_container"><ng-container *ngFor="let value of valueArray; let index = index; trackBy: trackByFn"><span *ngIf="value.includes(groupSeparator)" class="slds-pill slds-pill_link" style="max-width: 130px;"><a href="javascript:void(0);" class="slds-pill__action"><span class="slds-pill__label" [title]="listItems[value]">{{listItems[value]}}</span></a> <button class="slds-button slds-button_icon slds-pill__remove" (click)="removeItem(index, value)" [title]="language.getLabel(\'LBL_REMOVE\')"><system-button-icon icon="close"></system-button-icon></button></span></ng-container><div *ngIf="showEmptyText" (click)="onclick()" class="slds-grow slds-m-left--xx-small" style="cursor: default;">{{selectedCountText}}</div><div (click)="onclick()" class="slds-grow">&nbsp;</div><system-utility-icon (click)="onclick()" [icon]="dropdownIcon" size="xx-small" class="slds-col--bump-left slds-p-right--xx-small"></system-utility-icon></div><div class="slds-dropdown slds-dropdown_fluid spice-scrollbar" role="listbox" [ngClass]="dropdownLength"><ul *ngIf="grouped" class="slds-listbox slds-listbox_vertical" role="group"><ng-container *ngFor="let listGroup of parsedListItems; trackBy: trackByFn"><li role="presentation" class="slds-listbox__item"><div class="slds-media slds-listbox__option slds-listbox__option_plain slds-media_small" role="presentation"><h3 class="slds-listbox__option-header slds-truncate slds-text-title_caps" [title]="listGroup.display" role="presentation">{{listGroup.display}}</h3></div></li><li role="presentation" class="slds-listbox__item" *ngFor="let item of listGroup.items; trackBy: trackByFn" (click)="toggleAddRemoveItem(item.value, listGroup.value)"><div class="slds-media slds-listbox__option slds-listbox__option_plain slds-media_small slds-is-selected" role="option"><span class="slds-media__figure slds-listbox__option-icon"><system-utility-icon *ngIf="isSelected(item.value)" icon="check" size="xx-small"></system-utility-icon></span> <span class="slds-media__body"><span class="slds-truncate" [title]="item.display" [style.font-weight]="isSelected(item.value) ? 600 : \'initial\'">{{item.display}}</span></span></div></li></ng-container></ul><ul *ngIf="!grouped" class="slds-listbox slds-listbox_vertical" role="group"><li role="presentation" class="slds-listbox__item" *ngFor="let listItem of parsedListItems; trackBy: trackByFn" (click)="toggleAddRemoveItem(listItem.value)"><div class="slds-media slds-listbox__option slds-listbox__option_plain slds-media_small slds-is-selected" role="option"><span class="slds-media__figure slds-listbox__option-icon"><system-utility-icon *ngIf="isSelected(listItem.value)" icon="check" size="xx-small"></system-utility-icon></span> <span class="slds-media__body"><span class="slds-truncate" [title]="listItem.display" [style.font-weight]="isSelected(listItem.value) ? 600 : \'initial\'">{{listItem.display}}</span></span></div></li></ul></div></div></div></div></div>',providers:[{provide:forms_1.NG_VALUE_ACCESSOR,useExisting:core_1.forwardRef(function(){return t}),multi:!0}]}),__metadata("design:paramtypes",[core_1.ElementRef,core_1.Renderer2,services_1.language])],e)}();exports.SystemMultipleSelect=SystemMultipleSelect;var PackageLoader=function(){function PackageLoader(e,t,s,o){var i=this;this.language=e,this.backend=t,this.toast=s,this.metadata=o,this.scope="essentials",this.loading=!0,this.packagefilterterm="",this.repositories=[],this.packages=[],this.versions=[],this.languages=[],this.opencrs=!1,this.errorpackages=[],this.backend.getRequest("packages/repositories").subscribe(function(e){i.loading=!1,i.repositories=e,0==i.repositories.length?(i.repository="default",i.loadpackages()):1==i.repositories.length&&(i.repository=i.repositories[0],i.loadpackages())},function(e){i.loading=!1})}return Object.defineProperty(PackageLoader.prototype,"errorpackagesdisplay",{get:function(){return this.errorpackages.join(", ")},enumerable:!0,configurable:!0}),Object.defineProperty(PackageLoader.prototype,"repositoryname",{get:function(){return this.repository&&this.repository.name?this.repository.name:""},enumerable:!0,configurable:!0}),Object.defineProperty(PackageLoader.prototype,"repositoryaddurl",{get:function(){return this.repository&&this.repository.id?"/"+this.repository.id:""},enumerable:!0,configurable:!0}),PackageLoader.prototype.loadpackages=function(){var d=this;this.loading=!0,this.packages=[],this.languages=[],this.opencrs=!1,this.errorpackages=[],this.backend.getRequest("packages"+this.repositoryaddurl).subscribe(function(e){d.loading=!1;try{for(var s=d.language.getAvialableLanguages(!0),t=function(t){s.some(function(e){if(e.language==t.language_code)return t.installed=!0}),d.languages.push(t)},o=0,i=e.languages;o<i.length;o++){t(i[o])}for(var n=0,a=e.packages;n<a.length;n++){var r=a[n],l=e.loaded.packages.indexOf(r.package);0<=l?(r.installed=!0,e.loaded.packages.splice(l,1)):r.installed=!1,d.packages.push(r)}d.versions=e.versions,d.opencrs=e.opencrs,d.errorpackages=e.loaded.packages}catch(e){console.error(e)}},function(e){d.loading=!1})},PackageLoader.prototype.selectRepository=function(e){this.repository=e,this.loadpackages()},PackageLoader=__decorate([core_1.Component({selector:"package-loader",template:'<div class="slds-p-around--medium slds-theme--shade"><div class="slds-page-header__row"><div class="slds-page-header__col-title"><div class="slds-media"><system-icon icon="custom19" sprite="custom"></system-icon><div class="slds-media__body"><div class="slds-page-header__name"><div class="slds-page-header__name-title"><h1><span class="slds-page-header__title slds-truncate"><system-label label="LBL_PACKAGE_LOADER"></system-label></span></h1></div></div><div class="slds-page-header__name-meta slds-grid"><div *ngIf="opencrs" class="slds-grid slds-grid_vertical-align-center slds-p-right--small"><system-icon addclasses="slds-icon slds-icon-text-warning" divClass icon="warning" sprite="utility" size="xx-small"></system-icon><span class="slds-p-left--xx-small"><system-label label="LBL_OPEN_CHANGEREQUESTS"></system-label></span></div><div *ngIf="errorpackages.length > 0" class="slds-grid slds-grid_vertical-align-center"><system-icon addclasses="slds-icon slds-icon-text-warning" divClass icon="warning" sprite="utility" size="xx-small"></system-icon><span class="slds-p-left--xx-small"><system-label label="LBL_ERRONEUOS_PACKAGES"></system-label>: {{errorpackagesdisplay}}</span></div></div></div></div></div><div *ngIf="repositories.length > 0" class="slds-page-header__col-actions"><div class="slds-form-element"><div class="slds-form-element__control"><div class="slds-combobox_container"><div class="slds-combobox slds-dropdown-trigger slds-dropdown-trigger_click" [system-dropdown-trigger]="repositories.length <= 1" role="combobox"><div class="slds-combobox__form-element slds-input-has-icon slds-input-has-icon_right" role="none"><input type="text" class="slds-input slds-combobox__input" autoComplete="off" role="textbox" [(ngModel)]="repositoryname" [disabled]="repositories.length <= 1"><system-icon icon="down" sprite="utility" size="x-small" addclasses="slds-icon_container slds-icon-utility-down slds-input__icon slds-input__icon_right"></system-icon></div><div class="slds-dropdown slds-dropdown_length-5 slds-dropdown_fluid" role="listbox"><ul class="slds-listbox slds-listbox_vertical" role="presentation"><li *ngFor="let listrepostiory of repositories" (click)="selectRepository(listrepostiory)" role="presentation" class="slds-listbox__item"><div class="slds-listbox__option slds-listbox__option_plain" role="option"><div class="slds-truncate" title="Express Logistics and Transport">{{listrepostiory.name}}</div></div></li></ul></div></div></div></div></div></div></div></div><div *ngIf="!loading && repository" class="slds-theme--default"><ul class="slds-tabs_default__nav" role="tablist"><li class="slds-tabs_default__item" [ngClass]="{\'slds-is-active\':scope == \'essentials\'}" [title]="language.getLabel(\'LBL_ESSENTIALS\')" role="presentation"><a class="slds-tabs_default__link" href="javascript:void(0);" role="tab" (click)="scope=\'essentials\'"><system-label label="LBL_ESSENTIALS"></system-label></a></li><li class="slds-tabs_default__item" [ngClass]="{\'slds-is-active\':scope == \'packages\'}" [title]="language.getLabel(\'LBL_PACKAGES\')" role="presentation"><a class="slds-tabs_default__link" href="javascript:void(0);" role="tab" (click)="scope=\'packages\'"><system-label label="LBL_PACKAGES"></system-label></a></li><li class="slds-tabs_default__item" [ngClass]="{\'slds-is-active\':scope == \'languages\'}" title="language.getLabel(\'LBL_LANGUAGES\')" role="presentation"><a class="slds-tabs_default__link" href="javascript:void(0);" role="tab" (click)="scope=\'languages\'"><system-label label="LBL_LANGUAGES"></system-label></a></li><li class="slds-tabs_default__item" [ngClass]="{\'slds-is-active\':scope == \'content\'}" [title]="language.getLabel(\'LBL_CONTENT\')" role="presentation"><a class="slds-tabs_default__link" href="javascript:void(0);" role="tab" (click)="scope=\'content\'"><system-label label="LBL_CONTENT"></system-label></a></li></ul><package-loader-packages [ngClass]="{\'slds-show\': scope == \'essentials\', \'slds-hide\': scope != \'essentials\'}" [packages]="packages" packagescope="essentials" [repository]="repository"></package-loader-packages><package-loader-packages [ngClass]="{\'slds-show\': scope == \'packages\', \'slds-hide\': scope != \'packages\'}" [packages]="packages" packagescope="config" [repository]="repository"></package-loader-packages><package-loader-languages [ngClass]="{\'slds-show\': scope == \'languages\', \'slds-hide\': scope != \'languages\'}" [languages]="languages" [repository]="repository"></package-loader-languages><package-loader-packages [ngClass]="{\'slds-show\': scope == \'content\', \'slds-hide\': scope != \'content\'}" [packages]="packages" packagescope="content" [repository]="repository"></package-loader-packages></div><div *ngIf="!loading && !repository" system-to-bottom class="slds-theme--default slds-align--absolute-center"><h2 class="slds-text-heading--medium slds-p-vertical--small">Please select a Repository</h2></div><div system-to-bottom class="slds-align_absolute-center" *ngIf="loading"><div class="slds-grid slds-grid_vertical-align-center"><system-spinner size="16"></system-spinner><div class="slds-p-horizontal--small"><system-label label="LBL_RETRIEVING_PACKAGES"></system-label></div></div></div>'}),__metadata("design:paramtypes",[services_1.language,services_1.backend,services_1.toast,services_1.metadata])],PackageLoader)}();exports.PackageLoader=PackageLoader;var PackageLoaderPipe=function(){function e(){}return e.prototype.transform=function(e,t,s){return e.filter(function(e){return(!s||e.type==s)&&!(t&&!(t&&0<=e.name.toLowerCase().indexOf(t.toLowerCase())))})},e=__decorate([core_1.Pipe({name:"packageloaderpipe"})],e)}();exports.PackageLoaderPipe=PackageLoaderPipe;var PackageLoaderPackages=function(){function e(e){this.language=e,this.packagescope="",this.packagefilterterm="",this.packages=[]}return __decorate([core_1.Input(),__metadata("design:type",Object)],e.prototype,"packagescope",void 0),__decorate([core_1.Input(),__metadata("design:type",Object)],e.prototype,"packages",void 0),__decorate([core_1.Input(),__metadata("design:type",Object)],e.prototype,"repository",void 0),e=__decorate([core_1.Component({selector:"package-loader-packages",template:'<div system-to-bottom role="tabpanel"><div class="slds-p-vertical--x-small slds-p-horizontal--xx-small"><div class="slds-form-element"><div class="slds-form-element__control"><input class="slds-input" type="text" [(ngModel)]="packagefilterterm" [placeholder]="language.getLabel(\'LBL_SEARCH\')"></div></div></div><div class="slds-grid slds-wrap"><div class="slds-size--1-of-2 slds-p-around--xx-small" *ngFor="let package of packages|packageloaderpipe:packagefilterterm:packagescope"><package-loader-package [package]="package" [packages]="packages" [repository]="repository"></package-loader-package></div></div></div>'}),__metadata("design:paramtypes",[services_1.language])],e)}();exports.PackageLoaderPackages=PackageLoaderPackages;var PackageLoaderPackage=function(){function e(e,t,s,o,i){this.language=e,this.backend=t,this.configurationService=s,this.loader=o,this.broadcast=i,this.packages=[],this.extensions=[],this.requiredpackages=[],this.loading=""}return Object.defineProperty(e.prototype,"disabled",{get:function(){if(this.package.package.installed)return!1;var t=!1;return this.extensions.forEach(function(e){e.status||(t=!0)}),this.requiredpackages.forEach(function(e){e.installed||(t=!0)}),t},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"repositoryaddurl",{get:function(){return this.repository&&this.repository.id?"/"+this.repository.id:""},enumerable:!0,configurable:!0}),e.prototype.ngOnInit=function(){var t=this;if(this.package.extensions)for(var e=0,s=this.package.extensions.split(",");e<s.length;e++){var o=s[e],i=this.configurationService.checkCapability(o);this.extensions.push({name:o,status:i})}this.package.packages&&(this.requiredpackages=this.packages.filter(function(e){return 0<=t.package.packages.split(",").indexOf(e.package)}))},e.prototype.loadPackage=function(e){var t=this;this.loading="package",this.backend.getRequest("packages/package/"+e+this.repositoryaddurl).subscribe(function(e){t.loading="configuration",t.loader.reloadPrimary().subscribe(function(e){t.package.installed=!0,t.broadcast.broadcastMessage("loader.reloaded"),t.loading=""})},function(e){t.loading=""})},e.prototype.deletePackage=function(e){var t=this;this.loading="package",this.backend.deleteRequest("packages/package/"+e).subscribe(function(e){t.loading="configuration",t.package.installed=!1,t.loader.reloadPrimary().subscribe(function(e){t.broadcast.broadcastMessage("loader.reloaded"),t.loading=""})})},__decorate([core_1.Input(),__metadata("design:type",Object)],e.prototype,"package",void 0),__decorate([core_1.Input(),__metadata("design:type",Array)],e.prototype,"packages",void 0),__decorate([core_1.Input(),__metadata("design:type",Object)],e.prototype,"repository",void 0),e=__decorate([core_1.Component({selector:"package-loader-package",template:'<article class="slds-card" [ngClass]="{\'slds-disabled-text\': disabled}"><div [ngClass]="{\'slds-hidden\': loading}"><div class="slds-card__header slds-grid"><header class="slds-media slds-media_center slds-has-flexi-truncate"><system-icon size="small" icon="custom13" sprite="custom" class="slds-p-right--xx-small"></system-icon><div class="slds-media__body"><h2 class="slds-card__header-title"><div class="slds-card__header-link slds-truncate" [title]="package.name">{{package.name}}</div></h2></div><div class="slds-no-flex"><div class="slds-button-group" role="group"><button [disabled]="disabled" *ngIf="!package.installed" class="slds-button slds-button_icon slds-button_icon-border-filled" (click)="loadPackage(package.package)"><system-button-icon icon="download"></system-button-icon></button> <button [disabled]="disabled" *ngIf="package.installed && package.package != \'core\'" class="slds-button slds-button_icon slds-button_icon-border-filled" (click)="deletePackage(package.package)"><system-button-icon icon="delete"></system-button-icon></button> <button [disabled]="disabled" *ngIf="package.installed" class="slds-button slds-button_icon slds-button_icon-border-filled" (click)="loadPackage(package.package)"><system-button-icon icon="refresh"></system-button-icon></button></div></div></header></div><div class="slds-card__body slds-p-horizontal--small"><div class="slds-grid slds-gutters_direct-x-small"><div class="slds-size--1-of-2 slds-col"><div class="slds-text-heading_small slds-p-vertical--xx-small"><system-label label="LBL_DETAILS"></system-label></div><div class="slds-text-align--justify">{{package.description}}</div></div><div class="slds-size--1-of-2 slds-col"><div class="slds-text-heading_small slds-p-vertical--xx-small"><system-label label="LBL_PREREQUISITES"></system-label></div><div class="slds-grid slds-grid_vertical-align-center slds-p-vertical--xxx-small" *ngFor="let extension of extensions"><div class="slds-size--1-of-2 slds-truncate"><system-utility-icon icon="apex_plugin" size="xx-small" [colorclass]="disabled ? \'slds-icon-text-light\' : \'slds-icon-text-default\'"></system-utility-icon>{{extension.name}}</div><div class="slds-size--1-of-2 slds-text-align--right"><system-utility-icon size="xx-small" [icon]="extension.status ? \'check\' : \'close\'" [colorclass]="disabled ? \'slds-icon-text-light\' : \'slds-icon-text-default\'"></system-utility-icon></div></div><div class="slds-grid slds-grid_vertical-align-center slds-p-vertical--xxx-small" *ngFor="let requiredpackage of requiredpackages"><div class="slds-size--1-of-2 slds-truncate"><system-utility-icon icon="archive" size="xx-small" [colorclass]="disabled ? \'slds-icon-text-light\' : \'slds-icon-text-default\'"></system-utility-icon>{{requiredpackage.package}}</div><div class="slds-size--1-of-2 slds-text-align--right"><system-utility-icon size="xx-small" [icon]="requiredpackage.installed ? \'check\' : \'close\'" [colorclass]="disabled ? \'slds-icon-text-light\' : \'slds-icon-text-default\'"></system-utility-icon></div></div><div class="slds-disabled-text" *ngIf="requiredpackages.length == 0 && extensions.length == 0"><system-label label="LBL_NO_PREREQUISITES"></system-label></div></div></div></div></div><div *ngIf="loading" class="slds-is-absolute__top slds-size_full slds-height_full slds-align_absolute-center"><div *ngIf="loading == \'package\'" class="slds-grid slds-grid_vertical-align-center"><system-spinner size="16"></system-spinner><span class="slds-p-left--small"><system-label label="LBL_LOADING"></system-label></span></div><system-loader-progress *ngIf="loading == \'configuration\'" class="slds-size_full"></system-loader-progress></div></article>'}),__metadata("design:paramtypes",[services_1.language,services_1.backend,services_1.configurationService,services_1.loader,services_1.broadcast])],e)}();exports.PackageLoaderPackage=PackageLoaderPackage;var PackageLoaderLanguages=function(){function e(){this.languages=[]}return __decorate([core_1.Input(),__metadata("design:type",Object)],e.prototype,"languages",void 0),__decorate([core_1.Input(),__metadata("design:type",Object)],e.prototype,"repository",void 0),e=__decorate([core_1.Component({selector:"package-loader-languages",template:'<div system-to-bottom role="tabpanel"><div class="slds-grid slds-wrap"><div class="slds-size--1-of-2 slds-p-around--xx-small" *ngFor="let language of languages"><package-loader-language [package]="language" [repository]="repository"></package-loader-language></div></div></div>'})],e)}();exports.PackageLoaderLanguages=PackageLoaderLanguages;var PackageLoaderLanguage=function(){function e(e,t,s,o,i){this.language=e,this.backend=t,this.configurationService=s,this.loader=o,this.broadcast=i,this.loading=!1}return Object.defineProperty(e.prototype,"isDefault",{get:function(){return this.package.language_code==this.language.getDefaultLanguage()},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"deletedisabled",{get:function(){return this.isDefault||this.package.language_code==this.language.currentlanguage},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"repositoryaddurl",{get:function(){return this.repository&&this.repository.id?"/"+this.repository.id:""},enumerable:!0,configurable:!0}),e.prototype.setDefault=function(){this.isDefault||this.language.setDefaultLanguage(this.package.language_code)},e.prototype.loadLanguage=function(t){var s=this;this.loading=!0,this.backend.getRequest("/packages/language/"+t+this.repositoryaddurl).subscribe(function(e){s.loading=!1,e.success&&(s.package.installed=!0,s.language.addAvailableLanguage(e.languages[t]),s.language.currentlanguage==t?s.language.loadLanguage().subscribe(function(e){s.package.installed=!0}):s.package.installed=!0)})},e.prototype.deleteLanguage=function(t){var s=this;this.loading=!0,this.backend.deleteRequest("/packages/language/"+t).subscribe(function(e){s.loading=!1,e&&(s.package.installed=!1,s.language.removeAvailableLanguage(t))})},__decorate([core_1.Input(),__metadata("design:type",Object)],e.prototype,"package",void 0),__decorate([core_1.Input(),__metadata("design:type",Object)],e.prototype,"repository",void 0),e=__decorate([core_1.Component({selector:"package-loader-language",template:'<article class="slds-card"><div class="slds-card__header slds-grid"><header class="slds-media slds-media_center slds-has-flexi-truncate"><system-icon size="small" icon="custom68" sprite="custom" class="slds-p-right--xx-small"></system-icon><div class="slds-media__body"><h2 class="slds-card__header-title"><div class="slds-card__header-link slds-truncate" [title]="package.language_name">{{package.language_name}}</div></h2></div><div class="slds-no-flex"><system-spinner size="12" *ngIf="loading"></system-spinner><div *ngIf="!loading" class="slds-grid slds-grid_vertical-align-center"><system-custom-icon *ngIf="package.installed" class="slds-p-horizontal--xx-small" size="x-small" [icon]="isDefault ? \'light-bulb-on\' : \'light-bulb-off\'" (click)="setDefault()"></system-custom-icon><div class="slds-button-group" role="group"><button [disabled]="disabled" *ngIf="!package.installed" class="slds-button slds-button_icon slds-button_icon-border-filled" (click)="loadLanguage(package.language_code)"><system-button-icon icon="download"></system-button-icon></button> <button [disabled]="deletedisabled" *ngIf="package.installed && !isDefault" class="slds-button slds-button_icon slds-button_icon-border-filled" (click)="deleteLanguage(package.language_code)"><system-button-icon icon="delete"></system-button-icon></button> <button [disabled]="disabled" *ngIf="package.installed" class="slds-button slds-button_icon slds-button_icon-border-filled" (click)="loadLanguage(package.language_code)"><system-button-icon icon="refresh"></system-button-icon></button></div></div></div></header></div></article>'}),__metadata("design:paramtypes",[services_1.language,services_1.backend,services_1.configurationService,services_1.loader,services_1.broadcast])],e)}();exports.PackageLoaderLanguage=PackageLoaderLanguage;var SystemFilterBuilder=function(){function e(){this._conditions={logicaloperator:"and",groupscope:"all",conditions:[]}}var t;return(t=e).prototype.registerOnChange=function(e){this.onChange=e},e.prototype.registerOnTouched=function(e){this.onTouched=e},e.prototype.writeValue=function(e){if(e&&!_.isEmpty(e)){var t={logicaloperator:e.logicaloperator,groupscope:e.groupscope,conditions:__spreadArrays(e.conditions)};this._conditions=t}},e.prototype.expressionChanged=function(){for(var e=[],t=0,s=this._conditions.conditions;t<s.length;t++){var o=s[t];!0!==o.deleted&&e.push(o)}this._conditions.conditions=e,_.isEmpty(this._conditions.conditions)?this.onChange(null):this.onChange(__assign({},this._conditions))},__decorate([core_1.Input(),__metadata("design:type",String)],e.prototype,"module",void 0),e=t=__decorate([core_1.Component({selector:"system-filter-builder",template:'<system-filter-builder-expression-group [filtergroup]="_conditions" [module]="module" (expressionChanged)="expressionChanged()"></system-filter-builder-expression-group>',providers:[{provide:forms_1.NG_VALUE_ACCESSOR,useExisting:core_1.forwardRef(function(){return t}),multi:!0}]})],e)}();exports.SystemFilterBuilder=SystemFilterBuilder;var SystemFilterBuilderFilterExpressionFields=function(){function e(e,t,s){this.backend=e,this.language=t,this.metadata=s,this.fields=[]}var t;return t=e,Object.defineProperty(e.prototype,"field",{get:function(){return this._field},set:function(e){e!=this._field&&(this._field=e,this.onChange(e))},enumerable:!0,configurable:!0}),e.prototype.registerOnChange=function(e){this.onChange=e},e.prototype.registerOnTouched=function(e){this.onTouched=e},e.prototype.writeValue=function(e){this._field=e},e.prototype.getFieldDisplayOptions=function(){var e=[],t=this.language.getFieldDisplayOptions(this.module,this.field);for(var s in t)e.push({value:s,display:t[s]});return e.filter(function(e){return 0<e.value.length})},e.prototype.ngOnInit=function(){var s=this,e=this.metadata.getModuleFields(this.module);for(var t in e)if("link"!=e[t].type){if("relate"==e[t].type){if(!e[t].module)continue;if("non-db"==e[e[t].id_name].source)continue}"id"!=e[t].type&&this.fields.push(e[t])}this.fields.sort(function(e,t){return s.language.getFieldDisplayName(s.module,e.name).toLowerCase()>s.language.getFieldDisplayName(s.module,t.name).toLowerCase()?1:-1})},__decorate([core_1.Input(),__metadata("design:type",String)],e.prototype,"module",void 0),e=t=__decorate([core_1.Component({selector:"system-filter-builder-expression-fields",template:'<div class="slds-form-element"><label class="slds-form-element__label"><system-label label="LBL_FIELD"></system-label></label><div class="slds-form-element__control"><div class="slds-select_container"><select class="slds-select" [(ngModel)]="field"><option *ngFor="let f of fields" [value]="f.name"><system-label-fieldname [module]="module" [field]="f.name"></system-label-fieldname> ({{f.name}})</option></select></div></div></div>',providers:[{provide:forms_1.NG_VALUE_ACCESSOR,useExisting:core_1.forwardRef(function(){return t}),multi:!0}]}),__metadata("design:paramtypes",[services_1.backend,services_1.language,services_1.metadata])],e)}();exports.SystemFilterBuilderFilterExpressionFields=SystemFilterBuilderFilterExpressionFields;var SystemFilterBuilderFilterExpressionValue=function(){function e(e){this.metadata=e}var t;return t=e,Object.defineProperty(e.prototype,"value",{get:function(){return this._value},set:function(e){switch(this._value=e,this.valueType){case"date":this.onChange(e.format("YYYY-MM-DD"));break;case"multienum":this.onChange(e.join(","));break;default:this.onChange(e)}},enumerable:!0,configurable:!0}),e.prototype.registerOnChange=function(e){this.onChange=e},e.prototype.registerOnTouched=function(e){this.onTouched=e},e.prototype.writeValue=function(e){switch(this._value=e,this.valueType){case"date":this._value=new moment(e);break;case"multienum":this._value=e?e.split(","):[];break;default:this._value=e}},Object.defineProperty(e.prototype,"relatedmodule",{get:function(){return this.metadata.getFieldDefs(this.module,this.field).module},enumerable:!0,configurable:!0}),__decorate([core_1.Input(),__metadata("design:type",String)],e.prototype,"module",void 0),__decorate([core_1.Input(),__metadata("design:type",String)],e.prototype,"field",void 0),__decorate([core_1.Input(),__metadata("design:type",String)],e.prototype,"valueType",void 0),e=t=__decorate([core_1.Component({selector:"system-filter-builder-expression-value",template:'<ng-container [ngSwitch]="valueType"><system-input-integer *ngSwitchCase="\'integer\'" [(ngModel)]="value"></system-input-integer><system-input-date *ngSwitchCase="\'date\'" [(ngModel)]="value"></system-input-date><system-input-enum *ngSwitchCase="\'enum\'" [module]="module" [field]="field" [(ngModel)]="value"></system-input-enum><system-input-multienum *ngSwitchCase="\'multienum\'" [module]="module" [field]="field" [(ngModel)]="value"></system-input-multienum><system-input-relate *ngSwitchCase="\'relate\'" [module]="relatedmodule" [(ngModel)]="value"></system-input-relate><system-input-text *ngSwitchDefault [(ngModel)]="value"></system-input-text></ng-container>',providers:[{provide:forms_1.NG_VALUE_ACCESSOR,useExisting:core_1.forwardRef(function(){return t}),multi:!0}]}),__metadata("design:paramtypes",[services_1.metadata])],e)}();exports.SystemFilterBuilderFilterExpressionValue=SystemFilterBuilderFilterExpressionValue;var SystemFilterBuilderFilterExpressionValues=function(){function e(e,t,s){this.backend=e,this.language=t,this.metadata=s,this.filterexpression={}}return e.prototype.ngOnChanges=function(e){},Object.defineProperty(e.prototype,"value1",{get:function(){var t=this;return this.operators.find(function(e){return e.operator==t.operator}).value1},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"value2",{get:function(){var t=this;return this.operators.find(function(e){return e.operator==t.operator}).value2},enumerable:!0,configurable:!0}),e.prototype.showValues=function(){return this.operator.value1||this.operator.value2},__decorate([core_1.Input(),__metadata("design:type",String)],e.prototype,"module",void 0),__decorate([core_1.Input(),__metadata("design:type",String)],e.prototype,"field",void 0),__decorate([core_1.Input(),__metadata("design:type",Object)],e.prototype,"operator",void 0),__decorate([core_1.Input(),__metadata("design:type",Array)],e.prototype,"operators",void 0),__decorate([core_1.Input(),__metadata("design:type",Object)],e.prototype,"filterexpression",void 0),e=__decorate([core_1.Component({selector:"system-filter-builder-expression-values",template:'<div *ngIf="operator !=\'\' && value1" class="slds-col"><div *ngIf="value1" class="slds-form-element"><label class="slds-form-element__label"><system-label label="LBL_VALUE"></system-label></label><system-filter-builder-expression-value [(ngModel)]="filterexpression.filtervalue" [valueType]="value1" [module]="module" [field]="field"></system-filter-builder-expression-value></div><div *ngIf="value2" class="slds-form-element"><label class="slds-form-element__label"><system-label label="LBL_VALUE"></system-label></label><system-filter-builder-expression-value [(ngModel)]="filterexpression.filtervalueto" [valueType]="value2" [module]="module" [field]="field"></system-filter-builder-expression-value></div></div>'}),__metadata("design:paramtypes",[services_1.backend,services_1.language,services_1.metadata])],e)}();exports.SystemFilterBuilderFilterExpressionValues=SystemFilterBuilderFilterExpressionValues;var SystemFilterBuilderFilterExpression=function(){function e(e,t,s){this.backend=e,this.language=t,this.metadata=s,this.filterexpression={},this.operatortype="default",this.expressionDeleted=new core_1.EventEmitter,this.operators={default:[{operator:"equals",name:"LBL_EQUALS",value1:"text"},{operator:"starts",name:"LBL_STARTS",value1:"text"},{operator:"contains",name:"LBL_OP_CONTAINS",value1:"text"},{operator:"ncontains",name:"LBL_OP_NOTCONTAINS",value1:"text"},{operator:"greater",name:"LBL_OP_GREATER",value1:"text"},{operator:"gequal",name:"LBL_OP_GREATEREQUAL",value1:"text"},{operator:"less",name:"LBL_OP_LESS",value1:"text"},{operator:"lequal",name:"LBL_OP_LESSEQUAL",value1:"text"},{operator:"between",name:"LBL_OP_BETWEEN",value1:"text",value2:"text"},{operator:"empty",name:"LBL_OP_EMPTY"},{operator:"notempty",name:"LBL_OP_NOTEMPTY"}],numeric:[{operator:"equals",name:"LBL_EQUALS",value1:"integer"},{operator:"greater",name:"LBL_OP_GREATER",value1:"integer"},{operator:"gequal",name:"LBL_OP_GREATEREQUAL",value1:"integer"},{operator:"less",name:"LBL_OP_LESS",value1:"integer"},{operator:"lequal",name:"LBL_OP_LESSEQUAL",value1:"integer"},{operator:"between",name:"LBL_OP_BETWEEN",value1:"integer",value2:"integer"}],date:[{operator:"today",name:"LBL_TODAY"},{operator:"past",name:"LBL_PAST"},{operator:"future",name:"LBL_FUTURE"},{operator:"thismonth",name:"LBL_THIS_MONTH"},{operator:"thisyear",name:"LBL_THIS_YEAR"},{operator:"nextmonth",name:"LBL_NEXT_MONTH"},{operator:"nextyear",name:"LBL_NEXT_YEAR"},{operator:"ndaysago",name:"LBL_N_DAYS_AGO",value1:"integer"},{operator:"inlessthanndays",name:"LBL_IN_LESS_THAN_N_DAYS",value1:"integer"},{operator:"inlastndays",name:"LBL_IN_THE_LAST_N_DAYS",value1:"integer"},{operator:"inmorethanndays",name:"LBL_IN_MORE_THAN_N_DAYS",value1:"integer"},{operator:"inndays",name:"LBL_IN_N_DAYS",value1:"integer"},{operator:"thisday",name:"LBL_THIS_DAY"},{operator:"empty",name:"LBL_OP_ISEMPTY"},{operator:"greater",name:"LBL_OP_AFTER",value1:"date"},{operator:"less",name:"LBL_OP_BEFORE",value1:"date"},{operator:"betweend",name:"LBL_OP_BETWEEN",value1:"date",value2:"date"},{operator:"empty",name:"LBL_OP_ISEMPTY"},{operator:"notempty",name:"LBL_OP_NOTEMPTY"},{operator:"lastndays",name:"LBL_OP_LASTNDAYS",value1:"integer"},{operator:"lastnmonths",name:"LBL_OP_LASTNMONTHS",value1:"integer"},{operator:"untilyesterday",name:"LBL_OP_UNTILYESTERDAY"},{operator:"fromtomorrow",name:"LBL_OP_FROMTOMORROW"}],bool:[{operator:"true",name:"LBL_TRUE"},{operator:"false",name:"LBL_FALSE"}],enum:[{operator:"equals",name:"LBL_EQUALS",value1:"enum"},{operator:"oneof",name:"LBL_ONEOF",value1:"multienum"},{operator:"empty",name:"LBL_OP_ISEMPTY"},{operator:"notempty",name:"LBL_OP_NOTEMPTY"}],relate:[{operator:"equalr",name:"LBL_EQUALS",value1:"relate"},{operator:"emptyr",name:"LBL_OP_ISEMPTY"},{operator:"notemptyr",name:"LBL_OP_NOTEMPTY"}]}}return Object.defineProperty(e.prototype,"field",{get:function(){return this.filterexpression.field},set:function(e){e!=this.filterexpression.field&&(this.filterexpression.field=e,this.determineOperatorType(e),this.operator=this.operators[this.operatortype][0].operator,this.filterexpression.filtervalue="")},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"operator",{get:function(){return this.filterexpression.operator},set:function(e){e!=this.filterexpression.operator&&(this.filterexpression.operator=e,this.filterexpression.filtervalue="",this.filterexpression.filtervalueto="")},enumerable:!0,configurable:!0}),e.prototype.determineOperatorType=function(e){var t=this.metadata.getFieldDefs(this.module,e);if(t)switch(t.type){case"date":case"datetime":case"datetimecombo":this.operatortype="date";break;case"bool":case"boolean":this.operatortype="bool";break;case"enum":case"multienum":this.operatortype="enum";break;case"int":case"double":case"currency":this.operatortype="numeric";break;case"relate":this.operatortype="relate";break;default:this.operatortype="default"}else this.operatortype="default"},e.prototype.ngOnInit=function(){this.determineOperatorType(this.field)},e.prototype.delete=function(){this.filterexpression.deleted=!0,this.expressionDeleted.emit(!0)},e.prototype.trackByFn=function(e,t){return t.value},__decorate([core_1.Input(),__metadata("design:type",String)],e.prototype,"module",void 0),__decorate([core_1.Input(),__metadata("design:type",Object)],e.prototype,"filterexpression",void 0),__decorate([core_1.Output(),__metadata("design:type",core_1.EventEmitter)],e.prototype,"expressionDeleted",void 0),e=__decorate([core_1.Component({selector:"system-filter-builder-expression",template:'<div class="slds-grid slds-gutters_xx-small slds-grid--vertical-align-start"><system-filter-builder-expression-fields class="slds-col slds-size--1-of-4" [module]="module" [(ngModel)]="field"></system-filter-builder-expression-fields><div class="slds-col slds-size--1-of-4"><div class="slds-form-element"><label class="slds-form-element__label"><system-label label="LBL_OPERATOR"></system-label></label><div class="slds-form-element__control"><div class="slds-select_container"><select [disabled]="!filterexpression.field" class="slds-select" [(ngModel)]="operator"><option></option><option *ngFor="let operator of operators[operatortype]" [value]="operator.operator"><system-label [label]="operator.name"></system-label></option></select></div></div></div></div><system-filter-builder-expression-values class="slds-col" [operators]="operators[operatortype]" [operator]="filterexpression.operator" [filterexpression]="filterexpression" [module]="module" [field]="field"></system-filter-builder-expression-values><div class="slds-col slds-grow-none"><div class="slds-form-element"><span class="slds-form-element__label slds-hidden" aria-hidden="true">delete</span><div class="slds-form-element__control"><button class="slds-button slds-button_icon slds-button_icon-border-filled" (click)="delete()"><system-button-icon icon="delete"></system-button-icon></button></div></div></div></div>'}),__metadata("design:paramtypes",[services_1.backend,services_1.language,services_1.metadata])],e)}();exports.SystemFilterBuilderFilterExpression=SystemFilterBuilderFilterExpression;var SystemFilterBuilderFilterExpressionGroup=function(){function e(e,t,s){this.backend=e,this.language=t,this.metadata=s,this.candelete=!1,this.expressionChanged=new core_1.EventEmitter,this.expressions=[],this.groups=[]}return e.prototype.ngOnChanges=function(e){this.groups=[],this.expressions=[];for(var t=0,s=this.filtergroup.conditions;t<s.length;t++){var o=s[t];o.logicaloperator?this.groups.push(o):this.expressions.push(o)}},e.prototype.addExpression=function(){var e={field:"",operator:"",filtervalue:""};this.filtergroup.conditions.push(e),this.expressions.push(e),this.expressionChanged.emit(!0)},e.prototype.addGroup=function(){var e={logicaloperator:"and",groupscope:"all",conditions:[]};this.filtergroup.conditions.push(e),this.groups.push(e)},e.prototype.delete=function(){this.filtergroup.deleted=!0,this.expressionChanged.emit(!0)},e.prototype.filterchanged=function(){this.cleanDeleted(),this.expressionChanged.emit(!0)},e.prototype.cleanDeleted=function(){for(var e=[],t=0,s=this.filtergroup.conditions;t<s.length;t++){var o=s[t];!0!==o.deleted&&e.push(o)}this.filtergroup.conditions=e},__decorate([core_1.Input(),__metadata("design:type",String)],e.prototype,"module",void 0),__decorate([core_1.Input(),__metadata("design:type",Object)],e.prototype,"filtergroup",void 0),__decorate([core_1.Input(),__metadata("design:type",Boolean)],e.prototype,"candelete",void 0),__decorate([core_1.Output(),__metadata("design:type",core_1.EventEmitter)],e.prototype,"expressionChanged",void 0),e=__decorate([core_1.Component({selector:"system-filter-builder-expression-group",template:'<li class="slds-expression__group"><fieldset><div class="slds-grid slds-gutters_direct-xx-small slds-grid--vertical-align-end slds-size--1-of-1"><div class="slds-form-element slds-col slds-grow-none"><label class="slds-form-element__label"><system-label label="LBL_GROUP_OPERATOR"></system-label></label><div class="slds-form-element__control"><div class="slds-select_container"><select class="slds-select" [(ngModel)]="filtergroup.logicaloperator"><option value="and"><system-label label="LBL_AND"></system-label></option><option value="or"><system-label label="LBL_OR"></system-label></option></select></div></div></div><div class="slds-form-element slds-col slds-grow-none"><label class="slds-form-element__label"><system-label label="LBL_GROUP_SCOPE"></system-label></label><div class="slds-form-element__control"><div class="slds-select_container"><select class="slds-select" [(ngModel)]="filtergroup.groupscope"><option value="all"><system-label label="LBL_ALL"></system-label></option><option value="own"><system-label label="LBL_OWN"></system-label></option><option value="creator"><system-label label="LBL_CREATOR"></system-label></option></select></div></div></div><button *ngIf="candelete" class="slds-button slds-button_icon slds-button_icon-border-filled slds-col--bump-left" (click)="delete()"><system-button-icon icon="delete"></system-button-icon></button></div><ul><li class="slds-expression__row_group" *ngFor="let expression of expressions"><fieldset *ngIf="!expression.deleted"><system-filter-builder-expression [module]="module" [filterexpression]="expression" (expressionDeleted)="filterchanged()"></system-filter-builder-expression></fieldset></li><ng-container *ngFor="let group of groups"><system-filter-builder-expression-group *ngIf="!group.deleted" [module]="module" [filtergroup]="group" [candelete]="true" (expressionChanged)="filterchanged()"></system-filter-builder-expression-group></ng-container></ul><div class="slds-expression__buttons"><button class="slds-button slds-button_neutral" (click)="addExpression()"><system-button-icon icon="add"></system-button-icon><system-label label="LBL_ADD_CONDITION"></system-label></button> <button class="slds-button slds-button_neutral" (click)="addGroup()"><system-button-icon icon="add"></system-button-icon><system-label label="LBL_ADD_GROUP"></system-label></button></div></fieldset></li>'}),__metadata("design:paramtypes",[services_1.backend,services_1.language,services_1.metadata])],e)}();exports.SystemFilterBuilderFilterExpressionGroup=SystemFilterBuilderFilterExpressionGroup;var SystemSelectUOM=function(){function e(e,t){this.configuration=e,this.language=t,this.uoms=[],this.disabled=!1,this._uom="",this.uoms=this.configuration.getData("uomunits")}var t;return t=e,Object.defineProperty(e.prototype,"uom",{get:function(){return this._uom},set:function(e){this._uom=e,this.onChange(e)},enumerable:!0,configurable:!0}),e.prototype.registerOnChange=function(t){this.onChange=function(e){t(e)}},e.prototype.registerOnTouched=function(e){this.onTouched=e},e.prototype.writeValue=function(e){this._uom=e||""},__decorate([core_1.Input(),__metadata("design:type",Boolean)],e.prototype,"disabled",void 0),e=t=__decorate([core_1.Component({selector:"system-select-uom",template:'<div class="slds-select_container slds-m-vertical--xx-small"><select class="slds-select" [disabled]="disabled" [(ngModel)]="uom"><option *ngFor="let uom of uoms" [value]="uom.id"><system-label [label]="uom.label"></system-label></option></select></div>',providers:[{provide:forms_1.NG_VALUE_ACCESSOR,useExisting:core_1.forwardRef(function(){return t}),multi:!0}]}),__metadata("design:paramtypes",[services_1.configurationService,services_1.language])],e)}();exports.SystemSelectUOM=SystemSelectUOM;var SystemInputMedia=function(){function e(e,t,s,o,i,n,a,r,l,d){var c=this;this.language=e,this.metadata=t,this.sanitizer=s,this.toast=o,this.userprefs=i,this.componentElRef=n,this.renderer=a,this.http=r,this.cd=l,this.libloader=d,this.componentHeight=500,this.allowCropping=!0,this.allowResizing=!0,this.allowRotating=!0,this.allowMirroring=!0,this.mimetype=new core_1.EventEmitter,this.mediaBase64=null,this.cropper=null,this.fileformatErrorMessageCode=null,this.fileFromBrowser=null,this.maxWidthInput="",this.maxHeightInput="",this._maxWidthByUser=null,this._maxHeightByUser=null,this._maxWidthBySystem=null,this._maxHeightBySystem=null,this.isCropped=!1,this.isImported=!1,this._doResizeByUser=!1,this.isLoading=!1,this.xMirrored=1,this.yMirrored=1,this.currentRotation=0,this.jpegCompressionLevel=.95,this.lastCropBoxData={},this.resetMediaMetaData(),this.unlistenPasteEvent=this.renderer.listen("window","paste",function(e){c.handlePaste(e)})}var t;return t=e,Object.defineProperty(e.prototype,"allowModifications",{set:function(e){this.allowMirroring=this.allowResizing=this.allowRotating=this.allowCropping=e},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"_mimetype",{set:function(e){this.mediaMetaData.mimetype=e,this.mediaMetaData.fileformat=this.getFileformatFromMimetype(this.mediaMetaData.mimetype)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"maxWidthBySystem",{get:function(){return this._maxWidthBySystem},set:function(e){this._maxWidthBySystem=e,this.calcTargetSize()},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"maxHeightBySystem",{get:function(){return this._maxHeightBySystem},set:function(e){this._maxHeightBySystem=e,this.calcTargetSize()},enumerable:!0,configurable:!0}),e.prototype.handlePaste=function(e){var s=this;if(e.preventDefault(),e.stopPropagation(),!this.isLoading&&(e.clipboardData.files&&e.clipboardData.files[0]&&(this.fileFromBrowser=e.clipboardData.files[0],this.fileSelectedOrDropped()),e.clipboardData.items&&e.clipboardData.items[0])){var t=e.clipboardData.items[0];if("string"===t.kind)t.getAsString(function(t){s.stringLooksLikeUrl(t)&&(s.resetFileNotAllowedError(),s.isLoading=!0,s.cd.detectChanges(),s.http.get("proxy/?useurl="+btoa(t),{observe:"response",responseType:"blob"}).subscribe(function(e){s.isLoading=!1,s.cd.detectChanges(),s.fileFromBrowser=null,s.checkMimetype(e.body.type)?(s.mediaBase64=s.sanitizer.bypassSecurityTrustResourceUrl(window.URL.createObjectURL(e.body)),s.cd.detectChanges(),s.resetMediaMetaData(),s.resetModificationStati(),s.isImported=!0,s.mediaMetaData.filename=t.substring(t.lastIndexOf("/")+1),s.mediaMetaData.mimetype=e.body.type,s.mediaMetaData.fileformat=s.getFileformatFromMimetype(e.body.type)):s.showFileNotAllowedError(e.body.type)},function(e){s.isLoading=!1}))});else{this.resetFileNotAllowedError();var o=t.getAsFile();if(!this.checkMimetype(o.type))return void this.showFileNotAllowedError(o.type);this.mediaMetaData.fileformat=this.getFileformatFromMimetype(o),this.mediaMetaData.mimetype=o.type,this.resetModificationStati(),this.isImported=!0,this.mediaBase64=this.sanitizer.bypassSecurityTrustResourceUrl(window.URL.createObjectURL(o))}}},e.prototype.resetMediaMetaData=function(){this.mediaMetaData={mimetype:null,fileformat:null,filename:null,width:0,height:0,originalWidth:0,originalHeight:0}},e.prototype.stringLooksLikeUrl=function(e){return/^(http|https|ftp|file):\/\//.test(e)},Object.defineProperty(e.prototype,"cropperHeight",{get:function(){try{return this.componentHeight-this.toolbar.nativeElement.offsetHeight-this.bottomToolbar.nativeElement.offsetHeight-5+"px"}catch(e){return"0px"}},enumerable:!0,configurable:!0}),e.prototype.triggerFileSelectionDialog=function(){this.fileSelector.nativeElement.dispatchEvent(new MouseEvent("click",{bubbles:!0}))},e.prototype.getMediaFromFileSystem=function(){var t=this,s=new FileReader;s.onloadend=function(e){t.resetModificationStati(),t.isImported=!0,t.mediaBase64=s.result},s.readAsDataURL(this.fileFromBrowser)},e.prototype.imageLoaded=function(e){var t=this,s=this.imageElement.nativeElement;s.addEventListener("ready",function(){t.cropper&&(t.mediaMetaData.originalWidth=t.cropper.getImageData().naturalWidth,t.mediaMetaData.originalHeight=t.cropper.getImageData().naturalHeight,t.calcTargetSize(),t.isDirty&&t.emitChange())}),this.allowCropping&&s.addEventListener("cropend",function(){var e=t.cropper.getCropBoxData();t.isCropped=!_.isEmpty(t.cropper.getCropBoxData()),_.isEqual(e,t.lastCropBoxData)||(t.lastCropBoxData=_.clone(e),t.emitChange(),t.calcTargetSize())}),s.addEventListener("zoom",function(){t.isEdited&&t.emitChange(),t.isCropped&&t.calcTargetSize()}),this.libloader.loadLib("cropper").subscribe(function(e){t.cropper&&t.cropper.destroy(),t.cropper=new Cropper(s,{autoCrop:!1,viewMode:1,toggleDragModeOnDblclick:t.allowCropping,dragMode:t.allowCropping?"crop":"move"}),t.cropper.crop()})},e.prototype.onDrop=function(e){this.fileFromBrowser=e[0],this.fileSelectedOrDropped()},Object.defineProperty(e.prototype,"onDropExtern",{set:function(e){e&&this.onDrop(e)},enumerable:!0,configurable:!0}),e.prototype.getFileformatFromMimetype=function(e){var t="object"==typeof e?e.type:e;return/^image\/\w+/.test(t)?t.split("/").pop():""},e.prototype.checkMimetype=function(e){return"image/jpeg"===e||"image/png"===e||"image/gif"===e},e.prototype.showFileNotAllowedError=function(e){this.fileformatErrorMessageCode&&this.toast.clearToast(this.fileformatErrorMessageCode),this.fileformatErrorMessageCode=this.toast.sendToast("Not an image file or file type "+(e?'"'+e+'"':"")+" not supported.","error",null,!1,this.fileformatErrorMessageCode)},e.prototype.resetFileNotAllowedError=function(){this.fileformatErrorMessageCode&&this.toast.clearToast(this.fileformatErrorMessageCode)},e.prototype.fileSelectionChange=function(){return 1===this.fileSelector.nativeElement.files.length&&(this.fileFromBrowser=this.fileSelector.nativeElement.files[0],this.fileSelectedOrDropped()),this.fileSelector.nativeElement.value=null,!1},e.prototype.fileSelectedOrDropped=function(){if(this.resetFileNotAllowedError(),!this.checkMimetype(this.fileFromBrowser.type))return this.showFileNotAllowedError(this.getFileExtension(this.fileFromBrowser)),void(this.fileFromBrowser=null);this.resetMediaMetaData(),this.mediaMetaData.fileformat=this.getFileformatFromMimetype(this.fileFromBrowser),this.mediaMetaData.filename=this.fileFromBrowser.name,this.mediaMetaData.mimetype=this.fileFromBrowser.type,this.getMediaFromFileSystem()},e.prototype.getFileExtension=function(e){return e.name.split(".").pop()},e.prototype.removeImage=function(){this.resetMediaMetaData(),this.cropper&&(this.cropper.destroy(),this.cropper=void 0),this.mediaBase64=null,this.emitChange()},e.prototype.getImage=function(){return this.cropper?(e=this.isEdited||this.isResized?this.cropper.getCroppedCanvas({maxHeight:this.mediaMetaData.height,maxWidth:this.mediaMetaData.width,imageSmoothingEnabled:!0,imageSmoothingQuality:"high"}).toDataURL(this.mediaMetaData.mimetype,"image/jpeg"===this.mediaMetaData.mimetype?this.jpegCompressionLevel:void 0):this.mediaBase64.toString()).substring(e.indexOf("base64,")+7):null;var e},e.prototype.setMoveMode=function(){this.cropper.setDragMode("move")},e.prototype.setCropMode=function(){this.cropper.setDragMode("crop")},e.prototype.removeCropping=function(){this.cropper.clear(),this.isCropped=!1,this.lastCropBoxData={},this.calcTargetSize(),this.emitChange()},Object.defineProperty(e.prototype,"canResize",{get:function(){return this.allowResizing&&this.cropper},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"canMirror",{get:function(){return this.allowMirroring&&this.cropper},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"canRotate",{get:function(){return this.allowRotating&&this.cropper},enumerable:!0,configurable:!0}),e.prototype.maxHeightChanged=function(){var e;e=this.maxHeightInput.split(this.userprefs.toUse.num_grp_sep).join(""),e=parseInt(e,10),this._maxHeightByUser=isNaN(e)?null:e,this.calcTargetSize(),this.emitChange()},e.prototype.maxWidthChanged=function(){var e;e=this.maxWidthInput.split(this.userprefs.toUse.num_grp_sep).join(""),e=parseInt(e,10),this._maxWidthByUser=isNaN(e)?null:e,this.calcTargetSize(),this.emitChange()},Object.defineProperty(e.prototype,"maxHeight",{get:function(){return this.maxHeightBySystem&&this.maxHeightByUser?this.maxHeightBySystem<this.maxHeightByUser?this.maxHeightBySystem:this.maxHeightByUser:this.maxHeightBySystem?this.maxHeightBySystem:this.maxHeightByUser?this.maxHeightByUser:null},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"maxWidth",{get:function(){return this.maxWidthBySystem&&this.maxWidthByUser?this.maxWidthBySystem<this.maxWidthByUser?this.maxWidthBySystem:this.maxWidthByUser:this.maxWidthBySystem?this.maxWidthBySystem:this.maxWidthByUser?this.maxWidthByUser:null},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"doResizeByUser",{get:function(){return this._doResizeByUser},set:function(e){this._doResizeByUser=e,this.calcTargetSize()},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"maxWidthByUser",{get:function(){return this.doResizeByUser?this._maxWidthByUser:void 0},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"maxHeightByUser",{get:function(){return this.doResizeByUser?this._maxHeightByUser:void 0},enumerable:!0,configurable:!0}),e.prototype.calcTargetSize=function(){if(this.cropper){var e,t=1,s=this.cropper.getData(!0).width;e=0===s?(s=this.cropper.getImageData().naturalWidth,this.cropper.getImageData().naturalHeight):this.cropper.getData(!0).height,this.maxWidth&&s>this.maxWidth||this.maxHeight&&e>this.maxHeight?(t=this.maxWidth&&!this.maxHeight?this.maxWidth/s:this.maxHeight&&!this.maxWidth?this.maxHeight/e:this.maxWidth/s<this.maxHeight/e?this.maxWidth/s:this.maxHeight/e,this.mediaMetaData.width=Math.floor(s*t),this.mediaMetaData.height=Math.floor(e*t)):(this.mediaMetaData.width=s,this.mediaMetaData.height=e)}},e.prototype.ngOnDestroy=function(){this.fileformatErrorMessageCode&&this.toast.clearToast(this.fileformatErrorMessageCode),this.unlistenPasteEvent()},e.prototype.zoomIn=function(){this.cropper.zoom(.1)},e.prototype.zoomOut=function(){this.cropper.zoom(-.1)},e.prototype.mirrorX=function(){90===this.currentRotation||270===this.currentRotation?this.cropper.scaleY(this.yMirrored=-1*this.yMirrored):this.cropper.scaleX(this.xMirrored=-1*this.xMirrored),this.emitChange()},e.prototype.mirrorY=function(){90===this.currentRotation||270===this.currentRotation?this.cropper.scaleX(this.xMirrored=-1*this.xMirrored):this.cropper.scaleY(this.yMirrored=-1*this.yMirrored),this.emitChange()},e.prototype.rotate=function(e){this.currentRotation+=e,this.currentRotation=this.currentRotation%360,this.currentRotation<0&&(this.currentRotation+=360),this.cropper.rotateTo(this.currentRotation),this.emitChange()},Object.defineProperty(e.prototype,"isRotated",{get:function(){return 0!==this.currentRotation},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"isMirrored",{get:function(){return-1===this.xMirrored||-1===this.yMirrored},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"isResized",{get:function(){return this.mediaMetaData.width!==this.mediaMetaData.originalWidth||this.mediaMetaData.height!==this.mediaMetaData.originalHeight},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"isEdited",{get:function(){return this.isRotated||this.isMirrored||this.isCropped},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"isDirty",{get:function(){return this.isEdited||this.isImported||this.isResized},enumerable:!0,configurable:!0}),e.prototype.emitChange=function(){this.mimetype.emit(this.mediaMetaData.mimetype),this.onChange(this.getImage())},e.prototype.resetModificationStati=function(){this.xMirrored=this.yMirrored=1,this.currentRotation=0,this.isCropped=!1,this.lastCropBoxData={}},e.prototype.removeModifications=function(){this.cropper.rotateTo(0),this.cropper.scale(1,1),this.cropper.clear(),this.isCropped=!1,this.lastCropBoxData={},this.calcTargetSize(),this.emitChange()},Object.defineProperty(e.prototype,"allowEditing",{get:function(){return this.allowCropping||this.allowRotating||this.allowMirroring},enumerable:!0,configurable:!0}),e.prototype.registerOnChange=function(e){this.onChange=e},e.prototype.registerOnTouched=function(e){this.onTouched=e},e.prototype.writeValue=function(e){e&&""!=e&&(this.mediaBase64=this.sanitizer.bypassSecurityTrustResourceUrl("data:"+this.mediaMetaData.mimetype+";base64,"+e),this.calcTargetSize()),this.resetModificationStati(),this.isImported=!1},__decorate([core_1.Input(),__metadata("design:type",Object)],e.prototype,"componentHeight",void 0),__decorate([core_1.Input(),__metadata("design:type",Boolean),__metadata("design:paramtypes",[Boolean])],e.prototype,"allowModifications",null),__decorate([core_1.Input(),__metadata("design:type",Object)],e.prototype,"allowCropping",void 0),__decorate([core_1.Input(),__metadata("design:type",Object)],e.prototype,"allowResizing",void 0),__decorate([core_1.Input(),__metadata("design:type",Object)],e.prototype,"allowRotating",void 0),__decorate([core_1.Input(),__metadata("design:type",Object)],e.prototype,"allowMirroring",void 0),__decorate([core_1.Input("mimetype"),__metadata("design:type",String),__metadata("design:paramtypes",[String])],e.prototype,"_mimetype",null),__decorate([core_1.Output("mimetype"),__metadata("design:type",Object)],e.prototype,"mimetype",void 0),__decorate([core_1.ViewChild("fileselector",{static:!1}),__metadata("design:type",core_1.ElementRef)],e.prototype,"fileSelector",void 0),__decorate([core_1.ViewChild("imgelement",{static:!1}),__metadata("design:type",core_1.ElementRef)],e.prototype,"imageElement",void 0),__decorate([core_1.ViewChild("bottomtoolbar",{static:!1}),__metadata("design:type",core_1.ElementRef)],e.prototype,"bottomToolbar",void 0),__decorate([core_1.ViewChild("toolbar",{static:!1}),__metadata("design:type",core_1.ElementRef)],e.prototype,"toolbar",void 0),__decorate([core_1.Input("maxWidth"),__metadata("design:type",Number),__metadata("design:paramtypes",[Object])],e.prototype,"maxWidthBySystem",null),__decorate([core_1.Input("maxHeight"),__metadata("design:type",Number),__metadata("design:paramtypes",[Object])],e.prototype,"maxHeightBySystem",null),__decorate([core_1.Input("droppedFiles"),__metadata("design:type",Object),__metadata("design:paramtypes",[Object])],e.prototype,"onDropExtern",null),e=t=__decorate([core_1.Component({selector:"system-input-media",template:'<div class="slds-rich-text-editor slds-grid slds-grid_vertical slds-nowrap"><div #toolbar role="toolbar" class="slds-rich-text-editor__toolbar slds-shrink-none"><ul class="slds-button-group-list"><li><button class="slds-button slds-button--icon-border slds-button--neutral" (click)="removeImage()" [disabled]="!mediaBase64"><system-button-icon icon="delete"></system-button-icon></button></li><li *ngIf="allowEditing"><button class="slds-button slds-button--icon-border slds-button--neutral" (click)="removeModifications()" [disabled]="!cropper || !isEdited" title="{{language.getLabel(\'LBL_REMOVE_MODIFICATIONS\')}}"><system-button-icon icon="undo"></system-button-icon></button></li></ul><ul class="slds-button-group-list"><li><button class="slds-button slds-button--icon-border slds-button--neutral" (click)="zoomIn()" [disabled]="!mediaBase64"><system-button-icon icon="zoomin"></system-button-icon></button></li><li><button class="slds-button slds-button--icon-border slds-button--neutral" (click)="zoomOut()" [disabled]="!mediaBase64"><system-button-icon icon="zoomout"></system-button-icon></button></li></ul><ul class="slds-button-group-list"><li><button class="slds-button slds-button--icon-border slds-button--neutral" (click)="setMoveMode()" [disabled]="!cropper"><system-button-icon icon="move"></system-button-icon></button></li><li><button class="slds-button slds-button--icon-border slds-button--neutral" (click)="setCropMode()" [disabled]="!cropper"><system-button-icon icon="drag"></system-button-icon></button></li><li><button class="slds-button slds-button--icon-border slds-button--neutral" (click)="removeCropping()" [disabled]="!cropper || !isCropped" title="{{language.getLabel(\'LBL_REMOVE_CROPPING\')}}"><system-button-icon icon="clear"></system-button-icon></button></li></ul><ul class="slds-button-group-list"><li><button class="slds-button slds-button--icon-border slds-button--neutral" (click)="rotate(-90)" [disabled]="!canRotate" title="{{language.getLabel(\'LBL_ROTATE_TO_LEFT\')}}"><system-button-custom-icon icon="rotateleft" size="medium"></system-button-custom-icon></button></li><li><button class="slds-button slds-button--icon-border slds-button--neutral" (click)="rotate(+90)" [disabled]="!canRotate" title="{{language.getLabel(\'LBL_ROTATE_TO_RIGHT\')}}"><system-button-custom-icon icon="rotateright" size="medium"></system-button-custom-icon></button></li><li><button class="slds-button slds-button--icon-border slds-button--neutral" (click)="mirrorX()" [disabled]="!canMirror" title="{{language.getLabel(\'LBL_MIRROR_HORIZONTALLY\')}}"><system-button-custom-icon icon="mirrorhorizontal" size="medium"></system-button-custom-icon></button></li><li><button class="slds-button slds-button--icon-border slds-button--neutral" (click)="mirrorY()" [disabled]="!canMirror" title="{{language.getLabel(\'LBL_MIRROR_VERTICALLY\')}}"><system-button-custom-icon icon="mirrorvertical" size="medium"></system-button-custom-icon></button></li></ul><div *ngIf="allowResizing" class="slds-grid slds-grid--vertical-align-center slds-col--bump-left"><system-checkbox [(ngModel)]="doResizeByUser" [disabled]="!canResize"><system-label label="LBL_DOWNSIZE_TO_MAX"></system-label></system-checkbox><system-input-number onlyField="true" [(ngModel)]="maxWidthInput" precision="0" min="1" placeholder="{{language.getLabel(\'LBL_WIDTH\')}}" [disabled]="!doResizeByUser || !canResize" size="5" (change)="maxWidthChanged()"></system-input-number><div class="slds-p-left--xxx-small">px</div><div class="slds-p-horizontal--x-small">x</div><system-input-number onlyField="true" [(ngModel)]="maxHeightInput" precision="0" min="1" placeholder="{{language.getLabel(\'LBL_HEIGHT\')}}" [disabled]="!doResizeByUser || !canResize" size="5" (change)="maxHeightChanged()"></system-input-number><div class="slds-p-left--xxx-small">px</div></div></div><div [ngStyle]="{height:cropperHeight}"><div class="slds-height_full" style="overflow:hidden" (system-drop-file)="onDrop($event)" [system-overlay-loading-spinner]="isLoading"><img #imgelement *ngIf="mediaBase64, else uploadbutton" [src]="mediaBase64" (load)="imageLoaded($event)" style="display:block"><ng-template #uploadbutton><div class="slds-size--1-of-1 slds-height_full slds-align--absolute-center"><div class="slds-grid slds-grid--vertical-align-center"><button class="slds-button slds-button--neutral" (click)="triggerFileSelectionDialog()"><system-label label="LBL_SELECT_FILE"></system-label></button> <input #fileselector style="display:none" type="file" accept="image/*" (change)="fileSelectionChange()"><div class="slds-p-horizontal--x-small"><system-label label="LBL_OR_PASTE_IMAGE_OR_DROP_FILE_HERE"></system-label></div></div></div></ng-template></div></div><div #bottomtoolbar role="toolbar" class="slds-rich-text-editor__toolbar slds-shrink-none slds-rich-text-editor__toolbar_bottom"><div *ngIf="mediaMetaData.fileformat" class="slds-col--bump-right">Format: {{this.mediaMetaData.fileformat.toUpperCase()}}</div><div *ngIf="mediaBase64">{{mediaMetaData.originalWidth}} &times; {{mediaMetaData.originalHeight}} px<span *ngIf="isResized">&nbsp;&#8594;&nbsp; {{mediaMetaData.width}} &times; {{mediaMetaData.height}} px</span></div><div *ngIf="!mediaBase64">&nbsp;</div></div></div>',providers:[{provide:forms_1.NG_VALUE_ACCESSOR,useExisting:core_1.forwardRef(function(){return t}),multi:!0}]}),__metadata("design:paramtypes",[services_1.language,services_1.metadata,platform_browser_1.DomSanitizer,services_1.toast,services_1.userpreferences,core_1.ElementRef,core_1.Renderer2,http_1.HttpClient,core_1.ChangeDetectorRef,services_1.libloader])],e)}();exports.SystemInputMedia=SystemInputMedia;var SystemInputTimezone=function(){function e(){var t=this;this.disabled=!1,this.id="",this.propagateChange=function(e){},this.propagateTouch=function(e){},this.timezones=[],this.offsetTimezones=[],this.timezones=moment.tz.names(),this.timezones=this.timezones.filter(function(e){return e.match(/^((Africa|Amerika|Antarctica|Arctic|Asia|Atlantic|Australia|Europe|Pacific)\/.+|UTC)$/)}),this.timezones.forEach(function(e){return t.offsetTimezones.push(moment.tz(e).format("Z"))})}var t;return t=e,Object.defineProperty(e.prototype,"timezone",{get:function(){return this._timezone},set:function(e){this._timezone=e,this.propagateChange(e)},enumerable:!0,configurable:!0}),e.prototype.registerOnChange=function(e){this.propagateChange=e},e.prototype.registerOnTouched=function(e){this.propagateTouch=e},e.prototype.writeValue=function(e){this._timezone=e},__decorate([core_1.Input(),__metadata("design:type",Object)],e.prototype,"disabled",void 0),__decorate([core_1.Input(),__metadata("design:type",Object)],e.prototype,"id",void 0),e=t=__decorate([core_1.Component({selector:"system-input-timezone",template:'<div class="slds-form-element__control"><div class="slds-select_container"><select [disabled]="disabled" class="slds-select" [(ngModel)]="timezone" id="{{id}}"><option *ngFor="let timezone of timezones; let i=index" [value]="timezone">{{timezone}} (GMT{{offsetTimezones[i]}})</option></select></div></div>',providers:[{provide:forms_1.NG_VALUE_ACCESSOR,useExisting:core_1.forwardRef(function(){return t}),multi:!0}]}),__metadata("design:paramtypes",[])],e)}();exports.SystemInputTimezone=SystemInputTimezone;var ngValueAccessor={provide:forms_1.NG_VALUE_ACCESSOR,useExisting:core_1.forwardRef(function(){return SystemInputBase64}),multi:!0},SystemInputBase64=function(){function e(){this.minHeight=150,this.maxHeight=500,this.disabled=!1,this._value=""}return Object.defineProperty(e.prototype,"value",{get:function(){if(!this._value||""==this._value)return"";try{return decodeURIComponent(window.atob(this._value))}catch(e){try{return window.atob(this._value)}catch(e){return""}}},set:function(e){this._value=window.btoa(e),"function"==typeof this.onChange&&this.onChange(this._value)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"textAreaStyle",{get:function(){return{"min-height":this.minHeight+"px","max-height":this.maxHeight+"px"}},enumerable:!0,configurable:!0}),e.prototype.registerOnChange=function(t){this.onChange=function(e){t(e)}},e.prototype.registerOnTouched=function(e){this.onTouched=e},e.prototype.writeValue=function(e){this._value=e},__decorate([core_1.Input(),__metadata("design:type",Number)],e.prototype,"minHeight",void 0),__decorate([core_1.Input(),__metadata("design:type",Number)],e.prototype,"maxHeight",void 0),__decorate([core_1.Input(),__metadata("design:type",Boolean)],e.prototype,"disabled",void 0),e=__decorate([core_1.Component({selector:"system-input-base64",template:'<div class="slds-form-element__control"><textarea [(ngModel)]="value" [ngStyle]="textAreaStyle" [disabled]="disabled" class="slds-textarea slds-scrollable--y slds-m-vertical--xx-small"></textarea></div>',providers:[ngValueAccessor]})],e)}();exports.SystemInputBase64=SystemInputBase64;var SystemModuleTree=function(){function e(e){this.language=e,this.itemSelected=new core_1.EventEmitter,this.selectedNodeId=""}return e.prototype.ngAfterViewInit=function(){this.selectedNodeId="root",this.itemSelected.emit({path:"root:"+this.module,module:this.module,nodeId:"root"})},e.prototype.emitSelected=function(e){this.selectedNodeId=e.nodeId,this.itemSelected.emit(e)},__decorate([core_1.Input(),__metadata("design:type",String)],e.prototype,"module",void 0),__decorate([core_1.Output(),__metadata("design:type",core_1.EventEmitter)],e.prototype,"itemSelected",void 0),e=__decorate([core_1.Component({selector:"system-module-tree",template:'<div><ul class="slds-tree" role="tree"><system-module-tree-item [module]="module" [name]="language.getModuleName(module)" [path]="\'root:\'+module" [nodedata]="{nodeId: \'root\'}" (itemSelected)="emitSelected($event)" [selectedNodeId]="selectedNodeId"></system-module-tree-item></ul></div>'}),__metadata("design:paramtypes",[services_1.language])],e)}();exports.SystemModuleTree=SystemModuleTree;var SystemModuleTreeItem=function(){function e(e,t,s){this.backend=e,this.language=t,this.modelUtilities=s,this.selectedNodeId="",this.level=1,this.expanded=!1,this.nodeitems=[],this.isLoaded=!1,this.isLoading=!1,this.disabled=!1,this.itemSelected=new core_1.EventEmitter}return Object.defineProperty(e.prototype,"isSelected",{get:function(){return this.selectedNodeId==this.nodedata.nodeId},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"icon",{get:function(){return this.isLoading?"spinner":"chevronright"},enumerable:!0,configurable:!0}),e.prototype.loadItems=function(){var t=this;this.isLoading=!0,this.backend.getRequest("/dictionary/browser/"+this.module+"/nodes").subscribe(function(e){e&&(t.nodeitems=e.map(function(e){return e.nodeId=t.modelUtilities.generateGuid(),e.displayname=e.label?t.language.getLabel(e.label):t.language.getModuleName(e.module),e}).sort(function(e,t){return e.displayname&&t.displayname?e.displayname>t.displayname?1:-1:0})),t.isLoading=!1,t.isLoaded=!0,0<t.nodeitems.length?t.expanded=!0:t.disabled=!0})},e.prototype.expandItem=function(){this.isLoading||(this.isLoaded?this.expanded=!this.expanded:this.loadItems())},e.prototype.nodeSelected=function(){this.itemSelected.emit({path:this.path,module:this.module,nodeId:this.nodedata?this.nodedata.nodeId:"root"})},e.prototype.emitSelected=function(e){e.path=this.path+"::"+e.path,this.itemSelected.emit(e)},e.prototype.trackByFn=function(e,t){return t.nodeId},__decorate([core_1.Input(),__metadata("design:type",String)],e.prototype,"selectedNodeId",void 0),__decorate([core_1.Input(),__metadata("design:type",Number)],e.prototype,"level",void 0),__decorate([core_1.Input(),__metadata("design:type",String)],e.prototype,"path",void 0),__decorate([core_1.Input(),__metadata("design:type",String)],e.prototype,"module",void 0),__decorate([core_1.Input(),__metadata("design:type",String)],e.prototype,"name",void 0),__decorate([core_1.Input(),__metadata("design:type",Object)],e.prototype,"nodedata",void 0),__decorate([core_1.Output(),__metadata("design:type",core_1.EventEmitter)],e.prototype,"itemSelected",void 0),e=__decorate([core_1.Component({selector:"system-module-tree-item",template:'<li [attr.aria-expanded]="expanded" [attr.aria-level]="level" role="treeitem" tabindex="0"><div class="slds-tree__item" [class.slds-is-selected]="isSelected"><button class="slds-button slds-button_icon slds-m-right_x-small" [disabled]="disabled" (click)="expandItem()"><system-button-icon [icon]="icon"></system-button-icon></button> <span class="slds-has-flexi-truncate"><span class="slds-tree__item-label slds-truncate" (click)="nodeSelected()">{{name}}</span></span></div><ul role="group"><system-module-tree-item *ngFor="let nodeitem of nodeitems; trackBy: trackByFn" [module]="nodeitem.module" [name]="nodeitem.displayname" [nodedata]="nodeitem" [level]="level + 1" [path]="nodeitem.path" [selectedNodeId]="selectedNodeId" (itemSelected)="emitSelected($event)"></system-module-tree-item></ul></li>'}),__metadata("design:paramtypes",[services_1.backend,services_1.language,services_1.modelutilities])],e)}();exports.SystemModuleTreeItem=SystemModuleTreeItem;var SystemTrendIndicator=function(){function e(){this.trend="neutral"}return __decorate([core_1.Input(),__metadata("design:type",String)],e.prototype,"trend",void 0),e=__decorate([core_1.Component({selector:"system-trend-indicator",template:'<span [attr.data-slds-trend]="trend" class="slds-icon-trend slds-is-animated"><svg viewBox="0 0 16 16" aria-hidden="true"><path class="slds-icon-trend__arrow" d="M.75 8H11M8 4.5L11.5 8 8 11.5"></path><circle class="slds-icon-trend__circle" cy="8" cx="8" r="7.375" transform="rotate(-28 8 8) scale(-1 1) translate(-16 0)"></circle></svg><span class="slds-assistive-text"><ng-content></ng-content></span></span>'})],e)}();exports.SystemTrendIndicator=SystemTrendIndicator;var SystemImageModal=function(){function SystemImageModal(e){this.language=e,this.title="",this.maxWidth=null,this.maxHeight=null,this.droppedFiles=null,this.imageData_onlyBase64code=null,this.answer=null,this.answerSubject=null,this.answerSubject=new rxjs_1.Subject,this.answer=this.answerSubject.asObservable()}return Object.defineProperty(SystemImageModal.prototype,"imageData",{set:function(e){if(this.mimetype=this.imageData_onlyBase64code="",e){var t=e.split(";",2);this.mimetype=t[0],this.imageData_onlyBase64code=t[1].slice(7)}},enumerable:!0,configurable:!0}),SystemImageModal.prototype.cancel=function(){this.answerSubject.next(!1),this.answerSubject.complete(),this.self.destroy()},Object.defineProperty(SystemImageModal.prototype,"canSave",{get:function(){return!!this.imageData_onlyBase64code},enumerable:!0,configurable:!0}),SystemImageModal.prototype.save=function(){this.canSave&&(this.answerSubject.next(this.systemInputMedia.mediaMetaData.mimetype+";base64,"+this.imageData_onlyBase64code),this.answerSubject.complete(),this.self.destroy())},SystemImageModal.prototype.onModalEscX=function(){this.cancel()},__decorate([core_1.Input(),__metadata("design:type",Object)],SystemImageModal.prototype,"title",void 0),__decorate([core_1.Input(),__metadata("design:type",Number)],SystemImageModal.prototype,"maxWidth",void 0),__decorate([core_1.Input(),__metadata("design:type",Number)],SystemImageModal.prototype,"maxHeight",void 0),__decorate([core_1.Input(),__metadata("design:type",FileList)],SystemImageModal.prototype,"droppedFiles",void 0),__decorate([core_1.Input(),__metadata("design:type",String),__metadata("design:paramtypes",[String])],SystemImageModal.prototype,"imageData",null),__decorate([core_1.ViewChild(SystemInputMedia),__metadata("design:type",SystemInputMedia)],SystemImageModal.prototype,"systemInputMedia",void 0),SystemImageModal=__decorate([core_1.Component({selector:"system-image-modal",template:'<system-modal size="large"><system-modal-header (close)="cancel()">{{title}}</system-modal-header><system-modal-content><system-input-media [(ngModel)]="imageData_onlyBase64code" [maxWidth]="maxWidth" [maxHeight]="maxHeight" class="slds-height_full" [droppedFiles]="droppedFiles" [mimetype]="mimetype" (mimetype)="this.mimetype=$event"></system-input-media></system-modal-content><system-modal-footer><button class="slds-button slds-button--brand" (click)="save()" [disabled]="!canSave"><system-label label="LBL_SAVE"></system-label></button> <button class="slds-button slds-button--neutral" (click)="cancel()"><system-label label="LBL_CANCEL"></system-label></button></system-modal-footer></system-modal>'}),__metadata("design:paramtypes",[services_1.language])],SystemImageModal)}();exports.SystemImageModal=SystemImageModal;var SystemSlider=function(){function e(){this.disabled=!1}var t;return t=e,Object.defineProperty(e.prototype,"value",{get:function(){return this._value},set:function(e){e!=this._value&&(this._value=e,this.onChange(e))},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"max",{get:function(){return this._max},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"min",{get:function(){return this._min},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"step",{get:function(){return this._step},enumerable:!0,configurable:!0}),e.prototype.registerOnChange=function(e){this.onChange=e},e.prototype.registerOnTouched=function(e){this.onTouched=e},e.prototype.writeValue=function(e){this._value=e},e.prototype.setDisabledState=function(e){this.disabled=e},__decorate([core_1.Input(),__metadata("design:type",String)],e.prototype,"_max",void 0),__decorate([core_1.Input(),__metadata("design:type",String)],e.prototype,"_min",void 0),__decorate([core_1.Input(),__metadata("design:type",String)],e.prototype,"_step",void 0),__decorate([core_1.Input(),__metadata("design:type",Boolean)],e.prototype,"disabled",void 0),e=t=__decorate([core_1.Component({selector:"system-slider",template:'<div class="slds-form-element"><div class="slds-form-element__control"><div class="slds-slider"><input type="range" [min]="min" [step]="step" [max]="max" class="slds-slider__range" [(ngModel)]="value" [disabled]="disabled"> <span class="slds-slider__value" aria-hidden="true">{{value}}</span></div></div></div>',providers:[{provide:forms_1.NG_VALUE_ACCESSOR,useExisting:core_1.forwardRef(function(){return t}),multi:!0}]}),__metadata("design:paramtypes",[])],e)}();exports.SystemSlider=SystemSlider;var SystemNavigationCollector=function(){function SystemNavigationCollector(e,t){var s=this;this.activatedRoute=e,this.navigation=t,this.activatedRoute.params.subscribe(function(e){s.activatedRoute.routeConfig&&s.navigation.handleNavigation(e,s.activatedRoute.routeConfig,s.activatedRoute.snapshot)})}return SystemNavigationCollector=__decorate([core_1.Component({template:"<span></span>"}),__metadata("design:paramtypes",[router_1.ActivatedRoute,services_1.navigation])],SystemNavigationCollector)}();exports.SystemNavigationCollector=SystemNavigationCollector;var SystemNavigationManager=function(){function e(e,t){this.session=e,this.navigation=t}return Object.defineProperty(e.prototype,"authenticated",{get:function(){return this.session.authData.sessionId&&!0===this.session.authData.loaded},enumerable:!0,configurable:!0}),e=__decorate([core_1.Component({selector:"system-navigation-manager",template:'<ng-container *ngIf="authenticated"><system-navigation-manager-route-container tabid="main"></system-navigation-manager-route-container><ng-container *ngFor="let objectTab of navigation.objectTabs"><system-navigation-manager-route-container [tabid]="objectTab.id" [parentttabid]="objectTab.parentid" [object]="objectTab"></system-navigation-manager-route-container></ng-container></ng-container>'}),__metadata("design:paramtypes",[services_1.session,services_1.navigation])],e)}();exports.SystemNavigationManager=SystemNavigationManager;var SystemNavigationManagerRouteContainer=function(){function e(e,t,s,o,i,n,a){var r=this;this.metadata=e,this.language=t,this.router=s,this.broadcast=o,this.navigation=i,this.navigationtab=n,this.changeDetectorRef=a,this.loaded=!1,this.subscriptions=new rxjs_1.Subscription,this.changeDetectorRef.detach(),this.subscriptions.add(this.navigationtab.tabinfo$.subscribe(function(e){r.navigation.settabinfo(r.tabid,e)})),this.subscriptions.add(this.navigationtab.close$.subscribe(function(e){r.navigation.closeObjectTab(r.tabid,!0)}))}return e.prototype.ngOnInit=function(){var s=this;this.setParentTabId(),this.subscriptions.add(this.navigation.activeTab$.subscribe(function(e){if(e==s.tabid){var t=void 0;switch(s.tabid){case"main":s.renderedPath==s.navigation.maintab.path&&_.isEqual(s.rendererParams,s.navigation.maintab.params)||(t=s.metadata.getRouteComponent(s.navigation.maintab.path),s.routercomponent=t||void 0,s.navigationtab.activeRoute={path:s.navigation.maintab.path,params:s.navigation.maintab.params},s.navigationtab.activeRoute$.next(s.navigationtab.activeRoute),s.renderedPath=s.navigation.maintab.path,s.rendererParams=__assign({},s.navigation.maintab.params));break;default:s.renderedPath==s.object.path&&_.isEqual(s.rendererParams,s.object.params)||(t=s.metadata.getRouteComponent(s.object.path.replace("tab/:tabid/","")),s.routercomponent=t||void 0,s.navigationtab.activeRoute={path:s.object.path,params:s.object.params},s.navigationtab.activeRoute$.next(s.navigationtab.activeRoute),s.renderedPath=s.object.path,s.rendererParams=__assign({},s.object.params))}s.loaded=!0,s.changeDetectorRef.reattach(),s.changeDetectorRef.markForCheck()}else s.changeDetectorRef.detach(),s.changeDetectorRef.detectChanges()}))},e.prototype.setParentTabId=function(){"main"!=this.tabid&&"subtabbed"==this.navigation.navigationparadigm&&this.object.enablesubtabs&&(this.navigationtab.tabid=this.parentttabid?this.parentttabid:this.tabid)},e.prototype.ngOnDestroy=function(){this.subscriptions.unsubscribe()},Object.defineProperty(e.prototype,"isActive",{get:function(){return this.navigation.displayTab==this.tabid},enumerable:!0,configurable:!0}),__decorate([core_1.Input(),__metadata("design:type",Object)],e.prototype,"object",void 0),__decorate([core_1.Input(),__metadata("design:type",String)],e.prototype,"tabid",void 0),__decorate([core_1.Input(),__metadata("design:type",String)],e.prototype,"parentttabid",void 0),e=__decorate([core_1.Component({selector:"system-navigation-manager-route-container",template:'<div [ngClass]="{\'slds-hide\': !isActive}"><system-dynamic-component [component]="routercomponent"></system-dynamic-component></div>',providers:[services_1.navigationtab]}),__param(4,core_1.SkipSelf()),__metadata("design:paramtypes",[services_1.metadata,services_1.language,router_1.Router,services_1.broadcast,services_1.navigation,services_1.navigationtab,core_1.ChangeDetectorRef])],e)}();exports.SystemNavigationManagerRouteContainer=SystemNavigationManagerRouteContainer;var SystemComponents=function(){function SystemComponents(e,t){this.metadata=e,this.vms=t,this.version="1.0",this.build_date="2020-06-16 12:13:00",this.vms.registerModule(this)}return SystemComponents=__decorate([core_1.NgModule({imports:[directives_1.DirectivesModule,common_1.CommonModule,forms_1.FormsModule,drag_drop_1.DragDropModule],declarations:[PackageLoader,PackageLoaderLanguage,PackageLoaderLanguages,PackageLoaderPackage,PackageLoaderPackages,PackageLoaderPipe,PaginationControlsComponent,PaginationPipe,SpeechRecognition,SystemActionIcon,SystemButtonCustomIcon,SystemButtonGroup,SystemButtonIcon,SystemCaptureImage,SystemCard,SystemCardBody,SystemCardFooter,SystemCardHeader,SystemCheckbox,SystemCheckboxGroup,SystemCheckboxGroupCheckbox,SystemCollabsableTab,SystemComponentContainer,SystemComponentMissing,SystemComponentSet,SystemConfirmDialog,SystemCustomIcon,SystemDynamicComponent,SystemDynamicRouteContainer,SystemDynamicRouteInterceptor,SystemGooglePlacesAutocomplete,SystemGooglePlacesSearch,SystemIcon,SystemFileIcon,SystemIllustrationNoAccess,SystemIllustrationNoData,SystemIllustrationNoRecords,SystemIllustrationNoTask,SystemImagePreviewModal,SystemInputText,SystemInputInteger,SystemInputEnum,SystemInputMultiEnum,SystemInputActionset,SystemInputComponentset,SystemInputCountry,SystemInputCountryCode,SystemInputDate,SystemInputDatePicker,SystemInputDelayed,SystemInputFieldset,SystemInputLabel,SystemInputModule,SystemInputModuleFilter,SystemInputModuleField,SystemInputNumber,SystemInputPassword,SystemInputRadio,SystemInputRadioButtonGroup,SystemInputRelate,SystemInputState,SystemInputTags,SystemInputTime,SystemInputCompanycodes,SystemInputBackendMethod,SystemInputBase64,SystemLabel,SystemLabelFieldname,SystemLabelModulename,SystemLanguageSelector,SystemLink,SystemLoaderProgress,SystemLoadingModal,SystemModal,SystemModalContent,SystemModalFooter,SystemModalHeader,SystemModalHeaderRight,SystemModalHeaderTagline,SystemModalWrapper,SystemModuleCustomPipe,SystemModuleGlobalPipe,SystemNumberSpinner,SystemObjectPreviewModal,SystemInputModuleFilter,SystemFilterBuilder,SystemFilterBuilderFilterExpressionGroup,SystemFilterBuilderFilterExpression,SystemFilterBuilderFilterExpressionFields,SystemFilterBuilderFilterExpressionValues,SystemFilterBuilderFilterExpressionValue,SystemPopover,SystemProgressRing,SystemProgressBar,SystemPrompt,SystemRichTextEditor,SystemRichTextEditorModal,SystemRichTextSourceModal,SystemRoleSelector,SystemSection,SystemSelect,SystemSpinner,SystemSplitView,SystemStencil,SystemTableStencils,SystemTinyMCE,SystemTinyMCEModal,SystemToastContainer,SystemTooltip,SystemTree,SystemTreeItem,SystemUploadImage,SystemUtilityIcon,SystemViewContainer,SystemIconHelpText,SystemMultipleSelect,SystemSelectUOM,SystemModuleTree,SystemModuleTreeItem,SystemSelectUOM,SystemInputMedia,SystemInputTimezone,SystemTrendIndicator,SystemSlider,SystemTrendIndicator,SystemImageModal,SystemNavigationCollector,SystemNavigationManager,SystemNavigationManagerRouteContainer],entryComponents:[SystemDynamicRouteContainer,SystemNavigationCollector],exports:[PaginationControlsComponent,PaginationPipe,SpeechRecognition,SystemActionIcon,SystemButtonCustomIcon,SystemButtonGroup,SystemButtonIcon,SystemCard,SystemCardBody,SystemCardFooter,SystemCardHeader,SystemCheckbox,SystemCheckboxGroup,SystemCheckboxGroupCheckbox,SystemCollabsableTab,SystemComponentMissing,SystemComponentSet,SystemCustomIcon,SystemDynamicComponent,SystemFilterBuilderFilterExpression,SystemFilterBuilderFilterExpressionFields,SystemFilterBuilderFilterExpressionValues,SystemFilterBuilderFilterExpressionGroup,SystemGooglePlacesAutocomplete,SystemGooglePlacesSearch,SystemIcon,SystemFileIcon,SystemIllustrationNoAccess,SystemIllustrationNoData,SystemIllustrationNoRecords,SystemIllustrationNoTask,SystemInputText,SystemInputInteger,SystemInputEnum,SystemInputMultiEnum,SystemInputActionset,SystemInputComponentset,SystemInputCountry,SystemInputCountryCode,SystemInputDate,SystemInputDatePicker,SystemInputDelayed,SystemInputFieldset,SystemInputLabel,SystemInputModule,SystemInputModuleFilter,SystemInputModuleField,SystemInputNumber,SystemInputPassword,SystemInputRadio,SystemInputRadioButtonGroup,SystemInputRelate,SystemInputState,SystemInputTags,SystemInputTime,SystemInputCompanycodes,SystemInputBackendMethod,SystemInputBase64,SystemLabel,SystemLabelFieldname,SystemLabelModulename,SystemLanguageSelector,SystemLink,SystemLoaderProgress,SystemModal,SystemModalContent,SystemModalFooter,SystemModalHeader,SystemModalHeaderRight,SystemModalHeaderTagline,SystemModalWrapper,SystemNumberSpinner,SystemProgressRing,SystemProgressBar,SystemPrompt,SystemRichTextEditor,SystemRoleSelector,SystemSection,SystemSelect,SystemSpinner,SystemSplitView,SystemStencil,SystemStencil,SystemTableStencils,SystemTinyMCE,SystemToastContainer,SystemTooltip,SystemTree,SystemTreeItem,SystemUtilityIcon,SystemViewContainer,SystemIconHelpText,SystemMultipleSelect,SystemInputModuleFilter,SystemFilterBuilder,SystemFilterBuilderFilterExpressionGroup,SystemFilterBuilderFilterExpression,SystemSelectUOM,SystemInputMedia,SystemSelectUOM,SystemModuleTree,SystemModuleTreeItem,SystemInputTimezone,SystemTrendIndicator,SystemSlider,SystemTrendIndicator,SystemImageModal,SystemNavigationCollector,SystemNavigationManager,SystemInputCountry,SystemInputState]}),__metadata("design:paramtypes",[services_1.metadata,services_1.VersionManagerService])],SystemComponents)}();exports.SystemComponents=SystemComponents;